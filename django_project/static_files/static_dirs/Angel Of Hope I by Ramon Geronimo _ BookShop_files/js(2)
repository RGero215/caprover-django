function FastClick(n){"use strict";var i,t=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=n,!n||!n.nodeType)throw new TypeError("Layer must be a document node");(this.onClick=function(){return FastClick.prototype.onClick.apply(t,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(t,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(t,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(t,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(t,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(t,arguments)},FastClick.notNeeded(n))||(this.deviceIsAndroid&&(n.addEventListener("mouseover",this.onMouse,!0),n.addEventListener("mousedown",this.onMouse,!0),n.addEventListener("mouseup",this.onMouse,!0)),n.addEventListener("click",this.onClick,!0),n.addEventListener("touchstart",this.onTouchStart,!1),n.addEventListener("touchmove",this.onTouchMove,!1),n.addEventListener("touchend",this.onTouchEnd,!1),n.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(n.removeEventListener=function(t,i,r){var u=Node.prototype.removeEventListener;t==="click"?u.call(n,t,i.hijacked||i,r):u.call(n,t,i,r)},n.addEventListener=function(t,i,r){var u=Node.prototype.addEventListener;t==="click"?u.call(n,t,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(n,t,i,r)}),typeof n.onclick=="function"&&(i=n.onclick,n.addEventListener("click",function(n){i(n)},!1),n.onclick=null))}var XDate,AVL,BRAND,jss,EventRecorder,EventPlayer;(function(){function nt(t){function r(n,i,r,u,f,e){for(;f>=0&&e>f;f+=t){var o=u?u[f]:f;r=i(r,n[o],o,n)}return r}return function(u,f,o,s){f=e(f,s,4);var h=!i(u)&&n.keys(u),l=(h||u).length,c=t>0?0:l-1;return arguments.length<3&&(o=u[h?h[c]:c],c+=t),r(u,f,o,h,c,l)}}function tt(n){return function(i,r,f){r=t(r,f);for(var o=u(i),e=n>0?0:o-1;e>=0&&o>e;e+=n)if(r(i[e],e,i))return e;return-1}}function it(t,i,f){return function(e,o,s){var c=0,h=u(e);if("number"==typeof s)t>0?c=s>=0?s:Math.max(s+h,c):h=s>=0?Math.min(s+1,h):s+h+1;else if(f&&s&&h)return s=f(e,o),e[s]===o?s:-1;if(o!==o)return s=i(r.call(e,c,h),n.isNaN),s>=0?s+c:-1;for(s=t>0?c:h-1;s>=0&&h>s;s+=t)if(e[s]===o)return s;return-1}}function rt(t,i){var u=d.length,f=t.constructor,e=n.isFunction(f)&&f.prototype||v,r="constructor";for(n.has(t,r)&&!n.contains(i,r)&&i.push(r);u--;)r=d[u],r in t&&t[r]!==e[r]&&!n.contains(i,r)&&i.push(r)}var a=this,lt=a._,s=Array.prototype,v=Object.prototype,at=Function.prototype,vt=s.push,r=s.slice,o=v.toString,yt=v.hasOwnProperty,pt=Array.isArray,ut=Object.keys,y=at.bind,ft=Object.create,p=function(){},n=function(t){return t instanceof n?t:this instanceof n?void(this._wrapped=t):new n(t)},e,t,h,f,b,k,d,c,ct,l;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):a._=n;n.VERSION="1.8.3";e=function(n,t,i){if(t===void 0)return n;switch(null==i?3:i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)}}return function(){return n.apply(t,arguments)}};t=function(t,i,r){return null==t?n.identity:n.isFunction(t)?e(t,i,r):n.isObject(t)?n.matcher(t):n.property(t)};n.iteratee=function(n,i){return t(n,i,1/0)};var w=function(n,t){return function(i){var e=arguments.length,r,u;if(2>e||null==i)return i;for(r=1;e>r;r++)for(var o=arguments[r],s=n(o),h=s.length,f=0;h>f;f++)u=s[f],t&&i[u]!==void 0||(i[u]=o[u]);return i}},et=function(t){if(!n.isObject(t))return{};if(ft)return ft(t);p.prototype=t;var i=new p;return p.prototype=null,i},ot=function(n){return function(t){if(null!=t)return t[n]}},wt=Math.pow(2,53)-1,u=ot("length"),i=function(n){var t=u(n);return"number"==typeof t&&t>=0&&wt>=t};n.each=n.forEach=function(t,r,u){var f,o,s;if(r=e(r,u),i(t))for(f=0,o=t.length;o>f;f++)r(t[f],f,t);else for(s=n.keys(t),f=0,o=s.length;o>f;f++)r(t[s[f]],s[f],t);return t};n.map=n.collect=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,c=Array(h),e=0;h>e;e++)s=o?o[e]:e,c[e]=u(r[s],s,r);return c};n.reduce=n.foldl=n.inject=nt(1);n.reduceRight=n.foldr=nt(-1);n.find=n.detect=function(t,r,u){var f;return f=i(t)?n.findIndex(t,r,u):n.findKey(t,r,u),f!==void 0&&f!==-1?t[f]:void 0};n.filter=n.select=function(i,r,u){var f=[];return r=t(r,u),n.each(i,function(n,t,i){r(n,t,i)&&f.push(n)}),f};n.reject=function(i,r,u){return n.filter(i,n.negate(t(r)),u)};n.every=n.all=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,!u(r[s],s,r))return!1;return!0};n.some=n.any=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,u(r[s],s,r))return!0;return!1};n.contains=n.includes=n.include=function(t,r,u,f){return i(t)||(t=n.values(t)),("number"!=typeof u||f)&&(u=0),n.indexOf(t,r,u)>=0};n.invoke=function(t,i){var u=r.call(arguments,2),f=n.isFunction(i);return n.map(t,function(n){var t=f?i:n[i];return null==t?t:t.apply(n,u)})};n.pluck=function(t,i){return n.map(t,n.property(i))};n.where=function(t,i){return n.filter(t,n.matcher(i))};n.findWhere=function(t,i){return n.find(t,n.matcher(i))};n.max=function(r,u,f){var h,o,e=-1/0,c=-1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],h>e&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(o>c||o===-1/0&&e===-1/0)&&(e=n,c=o)});return e};n.min=function(r,u,f){var h,o,e=1/0,c=1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],e>h&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(c>o||1/0===o&&1/0===e)&&(e=n,c=o)});return e};n.shuffle=function(t){for(var u,e=i(t)?t:n.values(t),o=e.length,f=Array(o),r=0;o>r;r++)u=n.random(0,r),u!==r&&(f[r]=f[u]),f[u]=e[r];return f};n.sample=function(t,r,u){return null==r||u?(i(t)||(t=n.values(t)),t[n.random(t.length-1)]):n.shuffle(t).slice(0,Math.max(0,r))};n.sortBy=function(i,r,u){return r=t(r,u),n.pluck(n.map(i,function(n,t,i){return{value:n,index:t,criteria:r(n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(r>i||r===void 0)return-1}return n.index-t.index}),"value")};h=function(i){return function(r,u,f){var e={};return u=t(u,f),n.each(r,function(n,t){var f=u(n,t,r);i(e,n,f)}),e}};n.groupBy=h(function(t,i,r){n.has(t,r)?t[r].push(i):t[r]=[i]});n.indexBy=h(function(n,t,i){n[i]=t});n.countBy=h(function(t,i,r){n.has(t,r)?t[r]++:t[r]=1});n.toArray=function(t){return t?n.isArray(t)?r.call(t):i(t)?n.map(t,n.identity):n.values(t):[]};n.size=function(t){return null==t?0:i(t)?t.length:n.keys(t).length};n.partition=function(i,r,u){r=t(r,u);var f=[],e=[];return n.each(i,function(n,t,i){(r(n,t,i)?f:e).push(n)}),[f,e]};n.first=n.head=n.take=function(t,i,r){if(null!=t)return null==i||r?t[0]:n.initial(t,t.length-i)};n.initial=function(n,t,i){return r.call(n,0,Math.max(0,n.length-(null==t||i?1:t)))};n.last=function(t,i,r){if(null!=t)return null==i||r?t[t.length-1]:n.rest(t,Math.max(0,t.length-i))};n.rest=n.tail=n.drop=function(n,t,i){return r.call(n,null==t||i?1:t)};n.compact=function(t){return n.filter(t,n.identity)};f=function(t,r,e,o){for(var s,l,a,h=[],v=0,c=o||0,y=u(t);y>c;c++)if(s=t[c],i(s)&&(n.isArray(s)||n.isArguments(s)))for(r||(s=f(s,r,e)),l=0,a=s.length,h.length+=a;a>l;)h[v++]=s[l++];else e||(h[v++]=s);return h};n.flatten=function(n,t){return f(n,t,!1)};n.without=function(t){return n.difference(t,r.call(arguments,1))};n.uniq=n.unique=function(i,r,f,e){var o,c;n.isBoolean(r)||(e=f,f=r,r=!1);null!=f&&(f=t(f,e));for(var s=[],l=[],h=0,a=u(i);a>h;h++)o=i[h],c=f?f(o,h,i):o,r?(h&&l===c||s.push(o),l=c):f?n.contains(l,c)||(l.push(c),s.push(o)):n.contains(s,o)||s.push(o);return s};n.union=function(){return n.uniq(f(arguments,!0,!0))};n.intersection=function(t){for(var r,i,f=[],o=arguments.length,e=0,s=u(t);s>e;e++)if(r=t[e],!n.contains(f,r)){for(i=1;o>i&&n.contains(arguments[i],r);i++);i===o&&f.push(r)}return f};n.difference=function(t){var i=f(arguments,!0,!0,1);return n.filter(t,function(t){return!n.contains(i,t)})};n.zip=function(){return n.unzip(arguments)};n.unzip=function(t){for(var r=t&&n.max(t,u).length||0,f=Array(r),i=0;r>i;i++)f[i]=n.pluck(t,i);return f};n.object=function(n,t){for(var r={},i=0,f=u(n);f>i;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.findIndex=tt(1);n.findLastIndex=tt(-1);n.sortedIndex=function(n,i,r,f){var o;r=t(r,f,1);for(var h=r(i),e=0,s=u(n);s>e;)o=Math.floor((e+s)/2),r(n[o])<h?e=o+1:s=o;return e};n.indexOf=it(1,n.findIndex,n.sortedIndex);n.lastIndexOf=it(-1,n.findLastIndex);n.range=function(n,t,i){null==t&&(t=n||0,n=0);i=i||1;for(var u=Math.max(Math.ceil((t-n)/i),0),f=Array(u),r=0;u>r;r++,n+=i)f[r]=n;return f};b=function(t,i,r,u,f){if(!(u instanceof i))return t.apply(r,f);var e=et(t.prototype),o=t.apply(e,f);return n.isObject(o)?o:e};n.bind=function(t,i){if(y&&t.bind===y)return y.apply(t,r.call(arguments,1));if(!n.isFunction(t))throw new TypeError("Bind must be called on a function");var f=r.call(arguments,2),u=function(){return b(t,u,i,this,f.concat(r.call(arguments)))};return u};n.partial=function(t){var i=r.call(arguments,1),u=function(){for(var f=0,o=i.length,e=Array(o),r=0;o>r;r++)e[r]=i[r]===n?arguments[f++]:i[r];for(;f<arguments.length;)e.push(arguments[f++]);return b(t,u,this,this,e)};return u};n.bindAll=function(t){var i,r,u=arguments.length;if(1>=u)throw new Error("bindAll must be passed function names");for(i=1;u>i;i++)r=arguments[i],t[r]=n.bind(t[r],t);return t};n.memoize=function(t,i){var r=function(u){var f=r.cache,e=""+(i?i.apply(this,arguments):u);return n.has(f,e)||(f[e]=t.apply(this,arguments)),f[e]};return r.cache={},r};n.delay=function(n,t){var i=r.call(arguments,2);return setTimeout(function(){return n.apply(null,i)},t)};n.defer=n.partial(n.delay,n,1);n.throttle=function(t,i,r){var f,e,s,u=null,o=0,h;return r||(r={}),h=function(){o=r.leading===!1?0:n.now();u=null;s=t.apply(f,e);u||(f=e=null)},function(){var l=n.now(),c;return o||r.leading!==!1||(o=l),c=i-(l-o),f=this,e=arguments,0>=c||c>i?(u&&(clearTimeout(u),u=null),o=l,s=t.apply(f,e),u||(f=e=null)):u||r.trailing===!1||(u=setTimeout(h,c)),s}};n.debounce=function(t,i,r){var u,f,e,s,o,h=function(){var c=n.now()-s;i>c&&c>=0?u=setTimeout(h,i-c):(u=null,r||(o=t.apply(e,f),u||(e=f=null)))};return function(){e=this;f=arguments;s=n.now();var c=r&&!u;return u||(u=setTimeout(h,i)),c&&(o=t.apply(e,f),e=f=null),o}};n.wrap=function(t,i){return n.partial(i,t)};n.negate=function(n){return function(){return!n.apply(this,arguments)}};n.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,i=n[t].apply(this,arguments);r--;)i=n[r].call(this,i);return i}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.before=function(n,t){var i;return function(){return--n>0&&(i=t.apply(this,arguments)),1>=n&&(t=null),i}};n.once=n.partial(n.before,2);k=!{toString:null}.propertyIsEnumerable("toString");d=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];n.keys=function(t){var i,r;if(!n.isObject(t))return[];if(ut)return ut(t);i=[];for(r in t)n.has(t,r)&&i.push(r);return k&&rt(t,i),i};n.allKeys=function(t){var i,r;if(!n.isObject(t))return[];i=[];for(r in t)i.push(r);return k&&rt(t,i),i};n.values=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=t[r[i]];return f};n.mapObject=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),h=o.length,s={},e=0;h>e;e++)f=o[e],s[f]=r(i[f],f,i);return s};n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=[r[i],t[r[i]]];return f};n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;f>i;i++)u[t[r[i]]]=r[i];return u};n.functions=n.methods=function(t){var r=[],i;for(i in t)n.isFunction(t[i])&&r.push(i);return r.sort()};n.extend=w(n.allKeys);n.extendOwn=n.assign=w(n.keys);n.findKey=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),e=0,s=o.length;s>e;e++)if(f=o[e],r(i[f],f,i))return f};n.pick=function(t,i,r){var c,o,l={},u=t,s,v,h,a;if(null==u)return l;for(n.isFunction(i)?(o=n.allKeys(u),c=e(i,r)):(o=f(arguments,!1,!1,1),c=function(n,t,i){return t in i},u=Object(u)),s=0,v=o.length;v>s;s++)h=o[s],a=u[h],c(a,h,u)&&(l[h]=a);return l};n.omit=function(t,i,r){if(n.isFunction(i))i=n.negate(i);else{var u=n.map(f(arguments,!1,!1,1),String);i=function(t,i){return!n.contains(u,i)}}return n.pick(t,i,r)};n.defaults=w(n.allKeys,!0);n.create=function(t,i){var r=et(t);return i&&n.extendOwn(r,i),r};n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};n.isMatch=function(t,i){var e=n.keys(i),o=e.length,f,r,u;if(null==t)return!o;for(f=Object(t),r=0;o>r;r++)if(u=e[r],i[u]!==f[u]||!(u in f))return!1;return!0};c=function(t,i,r,u){var h,a,e,s,f,l,v;if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),h=o.call(t),h!==o.call(i))return!1;switch(h){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:0==+t?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i}if(a="[object Array]"===h,!a&&("object"!=typeof t||"object"!=typeof i||(e=t.constructor,s=i.constructor,e!==s&&!(n.isFunction(e)&&e instanceof e&&n.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in i)))return!1;for(r=r||[],u=u||[],f=r.length;f--;)if(r[f]===t)return u[f]===i;if(r.push(t),u.push(i),a){if(f=t.length,f!==i.length)return!1;for(;f--;)if(!c(t[f],i[f],r,u))return!1}else{if(v=n.keys(t),f=v.length,n.keys(i).length!==f)return!1;for(;f--;)if(l=v[f],!n.has(i,l)||!c(t[l],i[l],r,u))return!1}return r.pop(),u.pop(),!0};n.isEqual=function(n,t){return c(n,t)};n.isEmpty=function(t){return null==t?!0:i(t)&&(n.isArray(t)||n.isString(t)||n.isArguments(t))?0===t.length:0===n.keys(t).length};n.isElement=function(n){return!(!n||1!==n.nodeType)};n.isArray=pt||function(n){return"[object Array]"===o.call(n)};n.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n};n.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){n["is"+t]=function(n){return o.call(n)==="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return n.has(t,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(n.isFunction=function(n){return"function"==typeof n||!1});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!==+t};n.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===o.call(n)};n.isNull=function(n){return null===n};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return null!=n&&yt.call(n,t)};n.noConflict=function(){return a._=lt,this};n.identity=function(n){return n};n.constant=function(n){return function(){return n}};n.noop=function(){};n.property=ot;n.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}};n.matcher=n.matches=function(t){return t=n.extendOwn({},t),function(i){return n.isMatch(i,t)}};n.times=function(n,t,i){var u=Array(Math.max(0,n)),r;for(t=e(t,i,1),r=0;n>r;r++)u[r]=t(r);return u};n.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};n.now=Date.now||function(){return(new Date).getTime()};var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bt=n.invert(st),ht=function(t){var r=function(n){return t[n]},i="(?:"+n.keys(t).join("|")+")",u=RegExp(i),f=RegExp(i,"g");return function(n){return n=null==n?"":""+n,u.test(n)?n.replace(f,r):n}};n.escape=ht(st);n.unescape=ht(bt);n.result=function(t,i,r){var u=null==t?void 0:t[i];return u===void 0&&(u=r),n.isFunction(u)?u.call(t):u};ct=0;n.uniqueId=function(n){var t=++ct+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,kt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g,gt=function(n){return"\\"+kt[n]};n.template=function(t,i,r){var o,f,h;!i&&r&&(i=r);i=n.defaults({},i,n.templateSettings);var c=RegExp([(i.escape||g).source,(i.interpolate||g).source,(i.evaluate||g).source].join("|")+"|$","g"),e=0,u="__p+='";t.replace(c,function(n,i,r,f,o){return u+=t.slice(e,o).replace(dt,gt),e=o+n.length,i?u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":f&&(u+="';\n"+f+"\n__p+='"),n});u+="';\n";i.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{o=new Function(i.variable||"obj","_",u)}catch(s){throw s.source=u,s;}return f=function(t){return o.call(this,t,n)},h=i.variable||"obj",f.source="function("+h+"){\n"+u+"}",f};n.chain=function(t){var i=n(t);return i._chain=!0,i};l=function(t,i){return t._chain?n(i).chain():i};n.mixin=function(t){n.each(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return vt.apply(t,arguments),l(this,r.apply(n,t))}})};n.mixin(n);n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=s[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],l(this,n)}});n.each(["concat","join","slice"],function(t){var i=s[t];n.prototype[t]=function(){return l(this,i.apply(this._wrapped,arguments))}});n.prototype.value=function(){return this._wrapped};n.prototype.valueOf=n.prototype.toJSON=n.prototype.value;n.prototype.toString=function(){return""+this._wrapped};"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}).call(this);XDate=function(n,t,i,r){function f(){var r=this instanceof f?this:new f,i=arguments,t=i.length,e,u;if(typeof i[t-1]=="boolean"&&(e=i[--t],i=w(i,0,t)),t)if(t==1){if(t=i[0],t instanceof n||typeof t=="number")r[0]=new n(+t);else if(t instanceof f)i=r,u=new n(+t[0]),s(t)&&(u.toString=g),i[0]=u;else if(typeof t=="string"){r[0]=new n(0);n:{for(var i=t,t=e||!1,u=f.parsers,o=0,c;o<u.length;o++)if(c=u[o](i,t,r)){r=c;break n}r[0]=new n(i)}}}else r[0]=new n(h.apply(n,i)),e||(r[0]=p(r[0]));else r[0]=new n;return typeof e=="boolean"&&nt(r,e),r}function s(n){return n[0].toString===g}function nt(t,i,r){return i?s(t)||(r&&(t[0]=new n(h(t[0].getFullYear(),t[0].getMonth(),t[0].getDate(),t[0].getHours(),t[0].getMinutes(),t[0].getSeconds(),t[0].getMilliseconds()))),t[0].toString=g):s(t)&&(t[0]=r?p(t[0]):new n(+t[0])),t}function tt(n,t,i,r,u){var f=c(o,n[0],u),n=c(ot,n[0],u),u=!1;r.length==2&&typeof r[1]=="boolean"&&(u=r[1],r=[i]);i=t==1?(i%12+12)%12:f(1);n(t,r);u&&f(1)!=i&&(n(1,[f(1)-1]),n(2,[st(f(0),f(1))]))}function it(n,i,r,u){var r=Number(r),f=t.floor(r);n["set"+l[i]](n["get"+l[i]]()+f,u||!1);f!=r&&i<6&&it(n,i+1,(r-f)*lt[i],u)}function rt(n,i,r){var n=n.clone().setUTCMode(!0,!0),i=f(i).setUTCMode(!0,!0),u=0,e;if(r==0||r==1){for(e=6;e>=r;e--)u/=lt[e],u+=o(i,!1,e)-o(n,!1,e);r==1&&(u+=(i.getFullYear()-n.getFullYear())*12)}else r==2?(r=n.toDate().setUTCHours(0,0,0,0),u=i.toDate().setUTCHours(0,0,0,0),u=t.round((u-r)/864e5)+(i-u-(n-r))/864e5):u=(i-n)/[36e5,6e4,1e3,1][r-3];return u}function a(i){var r=i(0),u=i(1),f=i(2),i=new n(h(r,u,f)),r=v(ut(r,u,f));return t.floor(t.round((i-r)/864e5)/7)+1}function ut(t,i,r){return(i=new n(h(t,i,r)),i<v(t))?t-1:i>=v(t+1)?t+1:t}function v(t){return t=new n(h(t,0,4)),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+6)%7),t}function ft(n,t,i,u){var f=c(o,n,u),e=c(ot,n,u);i===r&&(i=ut(f(0),f(1),f(2)));i=v(i);u||(i=p(i));n.setTime(+i);e(2,[f(2)+(t-1)*7])}function et(n,t,i,r,u){var e=f.locales,h=e[f.defaultLocale]||{},s=c(o,n,u),i=(typeof i=="string"?e[i]:i)||{};return b(n,t,function(n){if(r)for(var t=(n==7?2:n)-1;t>=0;t--)r.push(s(t));return s(n)},function(n){return i[n]||h[n]},u)}function b(n,t,i,u,f){for(var e,h,o="";e=t.match(vt);){if(o+=t.substr(0,e.index),e[1]){h=o;for(var o=n,s=e[1],v=i,y=u,p=f,c=s.length,l=void 0,a="";c>0;)l=at(o,s.substr(0,c),v,y,p),l!==r?(a+=l,s=s.substr(c),c=s.length):c--;o=h+(a+s)}else e[3]?(h=b(n,e[4],i,u,f),parseInt(h.replace(/\D/g,""),10)&&(o+=h)):o+=e[7]||"'";t=t.substr(e.index+e[0].length)}return o+t}function at(n,i,r,u,o){var s=f.formatters[i];if(typeof s=="string")return b(n,s,r,u,o);if(typeof s=="function")return s(n,o||!1,u);switch(i){case"fff":return e(r(6),3);case"s":return r(5);case"ss":return e(r(5));case"m":return r(4);case"mm":return e(r(4));case"h":return r(3)%12||12;case"hh":return e(r(3)%12||12);case"H":return r(3);case"HH":return e(r(3));case"d":return r(2);case"dd":return e(r(2));case"ddd":return u("dayNamesShort")[r(7)]||"";case"dddd":return u("dayNames")[r(7)]||"";case"M":return r(1)+1;case"MM":return e(r(1)+1);case"MMM":return u("monthNamesShort")[r(1)]||"";case"MMMM":return u("monthNames")[r(1)]||"";case"yy":return(r(0)+"").substring(2);case"yyyy":return r(0);case"t":return y(r,u).substr(0,1).toLowerCase();case"tt":return y(r,u).toLowerCase();case"T":return y(r,u).substr(0,1);case"TT":return y(r,u);case"z":case"zz":case"zzz":return o?i="Z":(u=n.getTimezoneOffset(),n=u<0?"+":"-",r=t.floor(t.abs(u)/60),u=t.abs(u)%60,o=r,i=="zz"?o=e(r):i=="zzz"&&(o=e(r)+":"+e(u)),i=n+o),i;case"w":return a(r);case"ww":return e(a(r));case"S":return i=r(2),i>10&&i<20?"th":["st","nd","rd"][i%10-1]||"th"}}function y(n,t){return n(3)<12?t("amDesignator"):t("pmDesignator")}function k(n){return!isNaN(+n[0])}function o(n,t,i){return n["get"+(t?"UTC":"")+l[i]]()}function ot(n,t,i,r){n["set"+(t?"UTC":"")+l[i]].apply(n,r)}function p(t){return new n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())}function st(t,i){return 32-new n(h(t,i,32)).getUTCDate()}function d(n){return function(){return n.apply(r,[this].concat(w(arguments)))}}function c(n){var t=w(arguments,1);return function(){return n.apply(r,t.concat(w(arguments)))}}function w(n,t,u){return i.prototype.slice.call(n,t||0,u===r?n.length:u)}function ht(n,t){for(var i=0;i<n.length;i++)t(n[i],i)}function e(n,t){for(t=t||2,n+="";n.length<t;)n="0"+n;return n}var l="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(","),ct=["Years","Months","Days"],lt=[12,31,24,60,60,1e3,1],vt=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,h=n.UTC,g=n.prototype.toUTCString,u=f.prototype;return u.length=1,u.splice=i.prototype.splice,u.getUTCMode=d(s),u.setUTCMode=d(nt),u.getTimezoneOffset=function(){return s(this)?0:this[0].getTimezoneOffset()},ht(l,function(n,t){u["get"+n]=function(){return o(this[0],s(this),t)};t!=8&&(u["getUTC"+n]=function(){return o(this[0],!0,t)});t!=7&&(u["set"+n]=function(n){return tt(this,t,n,arguments,s(this)),this},t!=8&&(u["setUTC"+n]=function(n){return tt(this,t,n,arguments,!0),this},u["add"+(ct[t]||n)]=function(n,i){return it(this,t,n,i),this},u["diff"+(ct[t]||n)]=function(n){return rt(this,n,t)}))}),u.getWeek=function(){return a(c(o,this,!1))},u.getUTCWeek=function(){return a(c(o,this,!0))},u.setWeek=function(n,t){return ft(this,n,t,!1),this},u.setUTCWeek=function(n,t){return ft(this,n,t,!0),this},u.addWeeks=function(n){return this.addDays(Number(n)*7)},u.diffWeeks=function(n){return rt(this,n,2)/7},f.parsers=[function(t,i,r){if(t=t.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var u=new n(h(t[1],t[3]?t[3]-1:0,t[5]||1,t[7]||0,t[8]||0,t[10]||0,t[12]?Number("0."+t[12])*1e3:0));return t[13]?t[14]&&u.setUTCMinutes(u.getUTCMinutes()+(t[15]=="-"?1:-1)*(Number(t[16])*60+(t[18]?Number(t[18]):0))):i||(u=p(u)),r.setTime(+u)}}],f.parse=function(n){return+f(""+n)},u.toString=function(n,t,i){return n===r||!k(this)?this[0].toString():et(this,n,t,i,s(this))},u.toUTCString=u.toGMTString=function(n,t,i){return n===r||!k(this)?this[0].toUTCString():et(this,n,t,i,!0)},u.toISOString=function(){return this.toUTCString("yyyy-MM-dd'T'HH:mm:ss(.fff)zzz")},f.defaultLocale="",f.locales={"":{monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),amDesignator:"AM",pmDesignator:"PM"}},f.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:"yyyy-MM-dd'T'HH:mm:ss(.fff)zzz"},ht("getTime,valueOf,toDateString,toTimeString,toLocaleString,toLocaleDateString,toLocaleTimeString,toJSON".split(","),function(n){u[n]=function(){return this[0][n]()}}),u.setTime=function(n){return this[0].setTime(n),this},u.valid=d(k),u.clone=function(){return new f(this)},u.clearTime=function(){return this.setHours(0,0,0,0)},u.toDate=function(){return new n(+this[0])},f.now=function(){return+new n},f.today=function(){return(new f).clearTime()},f.UTC=h,f.getDaysInMonth=st,typeof module!="undefined"&&module.exports&&(module.exports=f),typeof define=="function"&&define.amd&&define([],function(){return f}),f}(Date,Math,Array),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function b(n){for(var t=n.css("visibility");"inherit"===t;)n=n.parent(),t=n.css("visibility");return"hidden"!==t}function k(n){for(var t,i;n.length&&n[0]!==document;){if(t=n.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.regional.en=n.extend(!0,{},this.regional[""]);this.regional["en-US"]=n.extend(!0,{},this.regional.en);this.dpDiv=l(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function l(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,a)}function a(){n.datepicker._isDisabledDatepicker(i.inline?i.dpDiv.parent()[0]:i.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))}function u(t,i){n.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}var v,o,p,w,i,r,e;n.ui=n.ui||{};n.ui.version="1.12.1";v=0;o=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r,u,f=0;null!=(u=i[f]);f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var f,u,o,h={},e=t.split(".")[0],s;return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.isArray(r)&&(r=n.extend.apply(null,[{}].concat(r))),n.expr.pseudos[s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){return this._createWidget?(arguments.length&&this._createWidget(n,t),void 0):new u(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){return n.isFunction(r)?(h[t]=function(){function n(){return i.prototype[t].apply(this,arguments)}function u(n){return i.prototype[t].apply(this,n)}return function(){var t,i=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}(),void 0):(h[t]=r,void 0)}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var i,r,f=o.call(arguments,1),u=0,e=f.length;e>u;u++)for(i in f[u])r=f[u][i],f[u].hasOwnProperty(i)&&void 0!==r&&(t[i]=n.isPlainObject(r)?n.isPlainObject(t[i])?n.widget.extend({},t[i],r):n.widget.extend({},r):r);return t};n.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;n.fn[t]=function(u){var s="string"==typeof u,e=o.call(arguments,1),f=this;return s?this.length||"instance"!==u?this.each(function(){var i,o=n.data(this,r);return"instance"===u?(f=o,!1):o?n.isFunction(o[u])&&"_"!==u.charAt(0)?(i=o[u].apply(o,e),i!==o&&void 0!==i?(f=i&&i.jquery?f.pushStack(i.get()):i,!1):void 0):n.error("no such method '"+u+"' for "+t+" widget instance"):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+u+"'")}):f=void 0:(e.length&&(u=n.widget.extend.apply(null,[u].concat(e))),this.each(function(){var t=n.data(this,r);t?(t.option(u||{}),t._init&&t._init()):n.data(this,r,new i(u,this))})),f}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=v++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();this.classesElementLookup={};i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){var t=this;this._destroy();n.each(this.classesElementLookup,function(n,i){t._removeClass(i,n)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var r,u,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;r.length-1>f;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),1===arguments.length)return void 0===u[t]?null:u[t];u[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return"classes"===n&&this._setOptionClasses(t),this.options[n]=t,"disabled"===n&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,u,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(u=n(r.get()),this._removeClass(r,i),u.addClass(this._classes({element:u,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(n){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!n);n&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function r(r,f){for(var o,e=0;r.length>e;e++)o=u.classesElementLookup[r[e]]||n(),o=t.add?n(n.unique(o.get().concat(t.element.get()))):n(o.not(t.element).get()),u.classesElementLookup[r[e]]=o,i.push(r[e]),f&&t.classes[r[e]]&&i.push(t.classes[r[e]])}var i=[],u=this;return t=n.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;n.each(i.classesElementLookup,function(r,u){-1!==n.inArray(t.target,u)&&(i.classesElementLookup[r]=n(u.not(t.target).get()))})},_removeClass:function(n,t,i){return this._toggleClass(n,t,i,!1)},_addClass:function(n,t,i){return this._toggleClass(n,t,i,!0)},_toggleClass:function(n,t,i,r){r="boolean"==typeof r?r:i;var u="string"==typeof n||null===n,f={extra:u?t:i,keys:u?n:t,element:u?this.element:n,add:r};return f.element.toggleClass(this._classes(f),r),this},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.on(h,c,o):i.on(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(i).off(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){this._addClass(n(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){this._addClass(n(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});n.widget,function(){function f(n,t,i){return[parseFloat(n[0])*(c.test(n[0])?t/100:1),parseFloat(n[1])*(c.test(n[1])?i/100:1)]}function i(t,i){return parseInt(n.css(t,i),10)||0}function l(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var u,r=Math.max,t=Math.abs,e=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,c=/%$/,a=n.fn.position;n.position={scrollbarWidth:function(){if(void 0!==u)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,f="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&9===i[0].nodeType,f=!r&&!u;return{element:i,isWindow:r,isDocument:u,offset:f?n(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return a.apply(this,arguments);u=n.extend({},u);var w,c,v,p,y,k,d=n(u.of),nt=n.position.getWithinInfo(u.within),tt=n.position.getScrollInfo(nt),b=(u.collision||"flip").split(" "),g={};return k=l(d),d[0].preventDefault&&(u.at="left top"),c=k.width,v=k.height,p=k.offset,y=n.extend({},p),n.each(["my","at"],function(){var t,i,n=(u[this]||"").split(" ");1===n.length&&(n=e.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]);n[0]=e.test(n[0])?n[0]:"center";n[1]=o.test(n[1])?n[1]:"center";t=s.exec(n[0]);i=s.exec(n[1]);g[this]=[t?t[0]:0,i?i[0]:0];u[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===u.at[0]?y.left+=c:"center"===u.at[0]&&(y.left+=c/2),"bottom"===u.at[1]?y.top+=v:"center"===u.at[1]&&(y.top+=v/2),w=f(g.at,c,v),y.left+=w[0],y.top+=w[1],this.each(function(){var a,k,o=n(this),s=o.outerWidth(),h=o.outerHeight(),it=i(this,"marginLeft"),rt=i(this,"marginTop"),ut=s+it+i(this,"marginRight")+tt.width,ft=h+rt+i(this,"marginBottom")+tt.height,e=n.extend({},y),l=f(g.my,o.outerWidth(),o.outerHeight());"right"===u.my[0]?e.left-=s:"center"===u.my[0]&&(e.left-=s/2);"bottom"===u.my[1]?e.top-=h:"center"===u.my[1]&&(e.top-=h/2);e.left+=l[0];e.top+=l[1];a={marginLeft:it,marginTop:rt};n.each(["left","top"],function(t,i){n.ui.position[b[t]]&&n.ui.position[b[t]][i](e,{targetWidth:c,targetHeight:v,elemWidth:s,elemHeight:h,collisionPosition:a,collisionWidth:ut,collisionHeight:ft,offset:[w[0]+l[0],w[1]+l[1]],my:u.my,at:u.at,within:nt,elem:o})});u.using&&(k=function(n){var i=p.left-e.left,a=i+c-s,f=p.top-e.top,y=f+v-h,l={target:{element:d,left:p.left,top:p.top,width:c,height:v},element:{element:o,left:e.left,top:e.top,width:s,height:h},horizontal:0>a?"left":i>0?"right":"center",vertical:0>y?"top":f>0?"bottom":"middle"};s>c&&c>t(i+a)&&(l.horizontal="center");h>v&&v>t(f+y)&&(l.vertical="middle");l.important=r(t(i),t(a))>r(t(f),t(y))?"horizontal":"vertical";u.using.call(this,n,l)});o.offset(n.extend(e,{using:k}))})};n.ui.position={fit:{left:function(n,t){var h,e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u;t.collisionWidth>o?i>0&&0>=f?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&0>=i?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var h,o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u;t.collisionHeight>e?i>0&&0>=f?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&0>=i?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,i){var o,s,r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-h,v=l+i.collisionWidth-c-h,u="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,f="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,e=-2*i.offset[0];0>a?(o=n.left+u+f+e+i.collisionWidth-c-y,(0>o||t(a)>o)&&(n.left+=u+f+e)):v>0&&(s=n.left-i.collisionPosition.marginLeft+u+f+e-h,(s>0||v>t(s))&&(n.left+=u+f+e))},top:function(n,i){var o,s,r=i.within,y=r.offset.top+r.scrollTop,c=r.height,h=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-h,v=l+i.collisionHeight-c-h,p="top"===i.my[1],u=p?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,f="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,e=-2*i.offset[1];0>a?(s=n.top+u+f+e+i.collisionHeight-c-y,(0>s||t(a)>s)&&(n.top+=u+f+e)):v>0&&(o=n.top-i.collisionPosition.marginTop+u+f+e-h,(o>0||v>t(o))&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}}}();n.ui.position;n.extend(n.expr.pseudos,{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])}});n.fn.extend({disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var f="ui-effects-",s="ui-effects-style",h="ui-effects-animated",y=n;n.effects={effect:{}},function(n,t){function f(n,t,i){var r=h[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:n>r.max?r.max:n)}function s(f){var o=i(),s=o._rgba=[];return f=f.toLowerCase(),r(v,function(n,i){var r,h=i.re.exec(f),c=h&&i.parse(h),e=i.space||"rgba";return c?(r=o[e](c),o[u[e].cache]=r[u[e].cache],s=o._rgba=r._rgba,!1):t}),s.length?("0,0,0,0"===s.join()&&n.extend(s,e.transparent),o):e[f]}function o(n,t,i){return i=(i+1)%1,1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+6*(t-n)*(2/3-i):n}var e,a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=i.support={},l=n("<p>")[0],r=n.each;l.style.cssText="background-color:rgba(1,1,1,.5)";c.rgba=l.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,h,c,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(h),h=t);var a=this,v=n.type(o),y=this._rgba=[];return h!==t&&(o=[o,h,c,l],v="array"),"string"===v?this.parse(s(o)||e._default):"array"===v?(r(u.rgba.props,function(n,t){y[t.idx]=f(o[t.idx],t)}),this):"object"===v?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if("alpha"===n||null==o[n])return;a[u]=i.to(a._rgba)}a[u][t.idx]=f(o[n],t,!0)});a[u]&&0>n.inArray(null,a[u].slice(0,3))&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):t},is:function(n){var o=i(n),f=!0,e=this;return r(u,function(n,i){var s,u=o[i.cache];return u&&(s=e[i.cache]||i.to&&i.to(e._rgba)||[],r(i.props,function(n,i){return null!=u[i.idx]?f=u[i.idx]===s[i.idx]:t})),f}),f},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var e=i(n),c=e._space(),o=u[c],l=0===this.alpha()?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),s=a.slice();return e=e[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=e[c],o=h[i.type]||{};null!==u&&(null===r?s[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),s[c]=f((u-r)*t+r,i)))}),this[c](s)},blend:function(t){if(1===this._rgba[3])return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return null==n?t>2?1:0:n});return 1===t[3]&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return null==n&&(n=t>2?1:0),t&&3>t&&(n=Math.round(100*n)+"%"),n});return 1===t[3]&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+n.map(i,function(n){return n=(n||0).toString(16),1===n.length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var s,h,i=n[0]/255,r=n[1]/255,f=n[2]/255,c=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,l=.5*o;return s=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,h=0===t?0:.5>=l?t/o:t/(2-o),[Math.round(s)%360,h,l,null==c?1:c]};u.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=.5>=t?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(255*o(f,i,r+1/3)),Math.round(255*o(f,i,r)),Math.round(255*o(f,i,r-1/3)),e]};r(u,function(u,e){var s=e.props,o=e.cache,h=e.to,c=e.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v="array"===a||"object"===a?u:arguments,e=this[o].slice();return r(s,function(n,t){var i=v["object"===a?n:t.idx];null==i&&(i=e[t.idx]);e[t.idx]=f(i,t)}),c?(l=i(c(e)),l[o]=e,l):i(e)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f,e=n.type(i),h="alpha"===t?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx];return"undefined"===e?s:("function"===e&&(i=i.call(this,s),e=n.type(i)),null==i&&r.empty?this:("string"===e&&(f=a.exec(i),f&&(i=s+parseFloat(f[2])*("+"===f[1]?1:-1))),o[r.idx]=i,this[h](o)))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if("transparent"!==u&&("string"!==n.type(u)||(o=s(u)))){if(u=i(o||u),!c.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?t.parentNode:t;(""===e||"transparent"===e)&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(h){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(h){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};e=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){function t(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],"string"==typeof i[r]&&(f[n.camelCase(r)]=i[r]);else for(r in i)"string"==typeof i[r]&&(f[r]=i[r]);return f}function i(t,i){var r,f,e={};for(r in i)f=i[r],t[r]!==f&&(u[r]||(n.fx.step[r]||!isNaN(parseFloat(f)))&&(e[r]=f));return e}var r=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){("none"===n.end||n.setAttr)&&(1!==n.pos||n.setAttr)||(y.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(u,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var o,e=n(this),h=e.attr("class")||"",f=s.children?e.find("*").addBack():e;f=f.map(function(){var i=n(this);return{el:i,start:t(this)}});o=function(){n.each(r,function(n,t){u[t]&&e[t+"Class"](u[t])})};o();f=f.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this});e.attr("class",h);f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,f.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(t){return function(i,r,u,f,e){return"boolean"==typeof r||void 0===r?u?n.effects.animateClass.call(this,r?{add:i}:{remove:i},u,f,e):t.apply(this,arguments):n.effects.animateClass.call(this,{toggle:i},r,u,f)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function t(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),("number"==typeof i||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function i(t){return!t||"number"==typeof t||n.fx.speeds[t]?!0:"string"!=typeof t||n.effects.effect[t]?n.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}function r(n,t){var r=t.outerWidth(),u=t.outerHeight(),i=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(n)||["",0,r,u,0];return{top:parseFloat(i[1])||0,right:"auto"===i[2]?r:parseFloat(i[2]),bottom:"auto"===i[3]?u:parseFloat(i[3]),left:parseFloat(i[4])||0}}n.expr&&n.expr.pseudos&&n.expr.pseudos.animated&&(n.expr.pseudos.animated=function(t){return function(i){return!!n(i).data(h)||t(i)}}(n.expr.pseudos.animated));n.uiBackCompat!==!1&&n.extend(n.effects,{save:function(n,t){for(var i=0,r=t.length;r>i;i++)null!==t[i]&&n.data(f+t[i],n[0].style[t[i]])},restore:function(n,t){for(var r,i=0,u=t.length;u>i;i++)null!==t[i]&&(r=n.data(f+t[i]),n.css(t[i],r))},setMode:function(n,t){return"toggle"===t&&(t=n.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).trigger("focus"),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).trigger("focus")),t}});n.extend(n.effects,{version:"1.12.1",define:function(t,i,r){return r||(r=i,i="effect"),n.effects.effect[t]=r,n.effects.effect[t].mode=i,r},scaledDimensions:function(n,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(t||100)/100:1,u="vertical"!==i?(t||100)/100:1;return{height:n.height()*u,width:n.width()*r,outerHeight:n.outerHeight()*u,outerWidth:n.outerWidth()*r}},clipToBox:function(n){return{width:n.clip.right-n.clip.left,height:n.clip.bottom-n.clip.top,left:n.clip.left,top:n.clip.top}},unshift:function(n,t,i){var r=n.queue();t>1&&r.splice.apply(r,[1,0].concat(r.splice(t,i)));n.dequeue()},saveStyle:function(n){n.data(s,n[0].style.cssText)},restoreStyle:function(n){n[0].style.cssText=n.data(s)||"";n.removeData(s)},mode:function(n,t){var i=n.is(":hidden");return"toggle"===t&&(t=i?"show":"hide"),(i?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createPlaceholder:function(t){var i,r=t.css("position"),u=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",i=n("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(f+"placeholder",i)),t.css({position:r,left:u.left,top:u.top}),i},removePlaceholder:function(n){var t=f+"placeholder",i=n.data(t);i&&(i.remove(),n.removeData(t))},cleanUp:function(t){n.effects.restoreStyle(t);n.effects.removePlaceholder(t)},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function o(t){function c(){o.removeData(h);n.effects.cleanUp(o);"hide"===i.mode&&o.hide();s()}function s(){n.isFunction(f)&&f.call(o[0]);n.isFunction(t)&&t()}var o=n(this);i.mode=l.shift();n.uiBackCompat===!1||u?"none"===i.mode?(o[r](),s()):e.call(o[0],i,c):(o.is(":hidden")?"hide"===r:"show"===r)?(o[r](),s()):e.call(o[0],i,s)}var i=t.apply(this,arguments),e=n.effects.effect[i.effect],u=e.mode,s=i.queue,c=s||"fx",f=i.complete,r=i.mode,l=[],a=function(t){var f=n(this),i=n.effects.mode(f,r)||u;f.data(h,!0);l.push(i);u&&("show"===i||i===u&&"hide"===i)&&f.show();u&&"none"===i||n.effects.saveStyle(f);n.isFunction(t)&&t()};return n.fx.off||!e?r?this[r](i.duration,f):this.each(function(){f&&f.call(this)}):s===!1?this.each(a).each(o):this.queue(c,a).queue(c,o)},show:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="show",this.effect.call(this,u)}}(n.fn.show),hide:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="hide",this.effect.call(this,u)}}(n.fn.hide),toggle:function(n){return function(r){if(i(r)||"boolean"==typeof r)return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="toggle",this.effect.call(this,u)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r},cssClip:function(n){return n?this.css("clip","rect("+n.top+"px "+n.right+"px "+n.bottom+"px "+n.left+"px)"):r(this.css("clip"),this)},transfer:function(t,i){var u=n(this),r=n(t.to),f="fixed"===r.css("position"),e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo("body").addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();n.isFunction(i)&&i()})}});n.fx.step.clip=function(t){t.clipInit||(t.start=n(t.elem).cssClip(),"string"==typeof t.end&&(t.end=r(t.end,t.elem)),t.clipInit=!0);n(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>n;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return.5>n?i(2*n)/2:1-i(-2*n+2)/2}})}();p=n.effects;n.effects.define("blind","hide",function(t,i){var e={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},u=n(this),o=t.direction||"up",s=u.cssClip(),r={clip:n.extend({},s)},f=n.effects.createPlaceholder(u);r.clip[e[o][0]]=r.clip[e[o][1]];"show"===t.mode&&(u.cssClip(r.clip),f&&f.css(n.effects.clipToBox(r)),r.clip=s);f&&f.animate(n.effects.clipToBox(r),t.duration,t.easing);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("bounce",function(t,i){var e,o,a,u=n(this),p=t.mode,s="hide"===p,w="show"===p,h=t.direction||"up",r=t.distance,v=t.times||5,b=2*v+(w||s?1:0),c=t.duration/b,l=t.easing,f="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,k=0,d=u.queue().length;for(n.effects.createPlaceholder(u),a=u.css(f),r||(r=u["top"===f?"outerHeight":"outerWidth"]()/3),w&&(o={opacity:1},o[f]=a,u.css("opacity",0).css(f,y?2*-r:2*r).animate(o,c,l)),s&&(r/=Math.pow(2,v-1)),o={},o[f]=a;v>k;k++)e={},e[f]=(y?"-=":"+=")+r,u.animate(e,c,l).animate(o,c,l),r=s?2*r:r/2;s&&(e={opacity:0},e[f]=(y?"-=":"+=")+r,u.animate(e,c,l));u.queue(i);n.effects.unshift(u,d,b+1)});n.effects.define("clip","hide",function(t,i){var r,u={},f=n(this),e=t.direction||"vertical",o="both"===e,s=o||"horizontal"===e,h=o||"vertical"===e;r=f.cssClip();u.clip={top:h?(r.bottom-r.top)/2:r.top,right:s?(r.right-r.left)/2:r.right,bottom:h?(r.bottom-r.top)/2:r.bottom,left:s?(r.right-r.left)/2:r.left};n.effects.createPlaceholder(f);"show"===t.mode&&(f.cssClip(u.clip),u.clip=r);f.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("drop","hide",function(t,i){var e,u=n(this),h=t.mode,c="show"===h,f=t.direction||"left",o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f?"-=":"+=",l="+="===s?"-=":"+=",r={opacity:0};n.effects.createPlaceholder(u);e=t.distance||u["top"===o?"outerHeight":"outerWidth"](!0)/2;r[o]=s+e;c&&(u.css(r),r[o]=l+e,r.opacity=1);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("explode","hide",function(t,i){function b(){p.push(this);p.length===e*c&&k()}function k(){o.css({visibility:"visible"});n(p).remove();i()}for(var u,l,a,v,y,e=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=e,o=n(this),d=t.mode,f="show"===d,w=o.show().css("visibility","hidden").offset(),s=Math.ceil(o.outerWidth()/c),h=Math.ceil(o.outerHeight()/e),p=[],r=0;e>r;r++)for(a=w.top+r*h,y=r-(e-1)/2,u=0;c>u;u++)l=w.left+u*s,v=u-(c-1)/2,o.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-u*s,top:-r*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:l+(f?v*s:0),top:a+(f?y*h:0),opacity:f?0:1}).animate({left:l+(f?0:v*s),top:a+(f?0:y*h),opacity:f?1:0},t.duration||500,t.easing,b)});n.effects.define("fade","toggle",function(t,i){var r="show"===t.mode;n(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("fold","hide",function(t,i){var u=n(this),l=t.mode,v="show"===l,y="hide"===l,o=t.size||15,a=/([0-9]+)%/.exec(o),p=!!t.horizFirst,f=p?["right","bottom"]:["bottom","right"],s=t.duration/2,h=n.effects.createPlaceholder(u),e=u.cssClip(),c={clip:n.extend({},e)},r={clip:n.extend({},e)},w=[e[f[0]],e[f[1]]],b=u.queue().length;a&&(o=parseInt(a[1],10)/100*w[y?0:1]);c.clip[f[0]]=o;r.clip[f[0]]=o;r.clip[f[1]]=0;v&&(u.cssClip(r.clip),h&&h.css(n.effects.clipToBox(r)),r.clip=e);u.queue(function(i){h&&h.animate(n.effects.clipToBox(c),s,t.easing).animate(n.effects.clipToBox(r),s,t.easing);i()}).animate(c,s,t.easing).animate(r,s,t.easing).queue(i);n.effects.unshift(u,b,4)});n.effects.define("highlight","show",function(t,i){var r=n(this),u={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(u.opacity=0);n.effects.saveStyle(r);r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("size",function(t,i){var l,r,p,u=n(this),v=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=t.mode,y="effect"!==w,c=t.scale||"both",b=t.origin||["middle","center"],k=u.css("position"),a=u.position(),o=n.effects.scaledDimensions(u),f=t.from||o,e=t.to||n.effects.scaledDimensions(u,0);n.effects.createPlaceholder(u);"show"===w&&(p=f,f=e,e=p);r={from:{y:f.height/o.height,x:f.width/o.width},to:{y:e.height/o.height,x:e.width/o.width}};("box"===c||"both"===c)&&(r.from.y!==r.to.y&&(f=n.effects.setTransition(u,s,r.from.y,f),e=n.effects.setTransition(u,s,r.to.y,e)),r.from.x!==r.to.x&&(f=n.effects.setTransition(u,h,r.from.x,f),e=n.effects.setTransition(u,h,r.to.x,e)));("content"===c||"both"===c)&&r.from.y!==r.to.y&&(f=n.effects.setTransition(u,v,r.from.y,f),e=n.effects.setTransition(u,v,r.to.y,e));b&&(l=n.effects.getBaseline(b,o),f.top=(o.outerHeight-f.outerHeight)*l.y+a.top,f.left=(o.outerWidth-f.outerWidth)*l.x+a.left,e.top=(o.outerHeight-e.outerHeight)*l.y+a.top,e.left=(o.outerWidth-e.outerWidth)*l.x+a.left);u.css(f);("content"===c||"both"===c)&&(s=s.concat(["marginTop","marginBottom"]).concat(v),h=h.concat(["marginLeft","marginRight"]),u.find("*[width]").each(function(){var i=n(this),u=n.effects.scaledDimensions(i),f={height:u.height*r.from.y,width:u.width*r.from.x,outerHeight:u.outerHeight*r.from.y,outerWidth:u.outerWidth*r.from.x},e={height:u.height*r.to.y,width:u.width*r.to.x,outerHeight:u.height*r.to.y,outerWidth:u.width*r.to.x};r.from.y!==r.to.y&&(f=n.effects.setTransition(i,s,r.from.y,f),e=n.effects.setTransition(i,s,r.to.y,e));r.from.x!==r.to.x&&(f=n.effects.setTransition(i,h,r.from.x,f),e=n.effects.setTransition(i,h,r.to.x,e));y&&n.effects.saveStyle(i);i.css(f);i.animate(e,t.duration,t.easing,function(){y&&n.effects.restoreStyle(i)})}));u.animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=u.offset();0===e.opacity&&u.css("opacity",f.opacity);y||(u.css("position","static"===k?"relative":k).offset(t),n.effects.saveStyle(u));i()}})});n.effects.define("scale",function(t,i){var u=n(this),f=t.mode,e=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==f?0:100),r=n.extend(!0,{from:n.effects.scaledDimensions(u),to:n.effects.scaledDimensions(u,e,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(r.from.opacity=1,r.to.opacity=0);n.effects.effect.size.call(this,r,i)});n.effects.define("puff","hide",function(t,i){var r=n.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});n.effects.effect.scale.call(this,r,i)});n.effects.define("pulsate","show",function(t,i){var r=n(this),e=t.mode,o="show"===e,c="hide"===e,l=o||c,f=2*(t.times||5)+(l?1:0),s=t.duration/f,u=0,h=1,a=r.queue().length;for((o||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1);f>h;h++)r.animate({opacity:u},s,t.easing),u=1-u;r.animate({opacity:u},s,t.easing);r.queue(i);n.effects.unshift(r,a,f+1)});n.effects.define("shake",function(t,i){var l=1,r=n(this),f=t.direction||"left",e=t.distance||20,a=t.times||3,v=2*a+1,u=Math.round(t.duration/v),o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f,h={},c={},y={},p=r.queue().length;for(n.effects.createPlaceholder(r),h[o]=(s?"-=":"+=")+e,c[o]=(s?"+=":"-=")+2*e,y[o]=(s?"-=":"+=")+2*e,r.animate(h,u,t.easing);a>l;l++)r.animate(c,u,t.easing).animate(y,u,t.easing);r.animate(c,u,t.easing).animate(h,u/2,t.easing).queue(i);n.effects.unshift(r,p,v+1)});n.effects.define("slide","show",function(t,i){var s,o,u=n(this),h={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},c=t.mode,f=t.direction||"left",e="up"===f||"down"===f?"top":"left",l="up"===f||"left"===f,a=t.distance||u["top"===e?"outerHeight":"outerWidth"](!0),r={};n.effects.createPlaceholder(u);s=u.cssClip();o=u.position()[e];r[e]=(l?-1:1)*a+o;r.clip=u.cssClip();r.clip[h[f][1]]=r.clip[h[f][0]];"show"===c&&(u.cssClip(r.clip),u.css(e,r[e]),r.clip=s,r[e]=o);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.uiBackCompat!==!1&&(p=n.effects.define("transfer",function(t,i){n(this).transfer(t,i)}));n.ui.focusable=function(t,i){var u,f,e,r,o,s=t.nodeName.toLowerCase();return"area"===s?(u=t.parentNode,f=u.name,t.href&&f&&"map"===u.nodeName.toLowerCase()?(e=n("img[usemap='#"+f+"']"),e.length>0&&e.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(s)?(r=!t.disabled,r&&(o=n(t).closest("fieldset")[0],o&&(r=!o.disabled))):r="a"===s?t.href||i:i,r&&n(t).is(":visible")&&b(n(t)))};n.extend(n.expr.pseudos,{focusable:function(t){return n.ui.focusable(t,null!=n.attr(t,"tabindex"))}});n.ui.focusable;n.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):n(this[0].form)};n.ui.formResetMixin={_formResetHandler:function(){var t=n(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");n.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var n=this.form.data("ui-form-reset-instances")||[];n.length||this.form.on("reset.ui-form-reset",this._formResetHandler);n.push(this);this.form.data("ui-form-reset-instances",n)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(n.inArray(this,t),1);t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===n.fn.jquery.substring(0,3)&&(n.each(["Width","Height"],function(t,i){function r(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e="Width"===i?["Left","Right"]:["Top","Bottom"],u=i.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return void 0===t?f["inner"+i].call(this):this.each(function(){n(this).css(u,r(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return"number"!=typeof t?f["outer"+i].call(this,t):this.each(function(){n(this).css(u,r(this,t,!0,e)+"px")})}}),n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};n.ui.escapeSelector=function(){var n=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(n,"\\$1")}}();n.fn.labels=function(){var t,r,u,i,f;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),u=this.attr("id"),u&&(t=this.eq(0).parents().last(),f=t.add(t.length?t.siblings():this.siblings()),r="label[for='"+n.ui.escapeSelector(u)+"']",i=i.add(f.find(r).addBack(r))),this.pushStack(i))};n.fn.scrollParent=function(t){var i=this.css("position"),u="absolute"===i,f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&"static"===t.css("position")?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:n(this[0].ownerDocument||document)};n.extend(n.expr.pseudos,{tabbable:function(t){var i=n.attr(t,"tabindex"),r=null!=i;return(!r||i>=0)&&n.ui.focusable(t,r)}});n.fn.extend({uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");t.collapsible||t.active!==!1&&null!=t.active||(t.active=0);this._processPanels();0>t.active&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var i,r,t=this.options.icons;t&&(i=n("<span>"),this._addClass(i,"ui-accordion-header-icon","ui-icon "+t.header),i.prependTo(this.headers),r=this.active.children(".ui-accordion-header-icon"),this._removeClass(r,t.header)._addClass(r,null,t.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();n=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){return"active"===n?(this._activate(t),void 0):("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||this.options.active!==!1||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons()),void 0)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n);this._toggleClass(null,"ui-state-disabled",!!n);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!n)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),n(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels();t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=n()):t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var t=this.headers,n=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");n&&(this._off(t.not(this.headers)),this._off(n.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,u=this.element.parent();this.active=this._findActive(i.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var t=n(this),r=t.uniqueId().attr("id"),i=t.next(),u=i.uniqueId().attr("id");t.attr("aria-controls",u);i.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);"fill"===r?(t=u.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){var i=n(this).is(":visible");i||n(this).show();t=Math.max(t,n(this).css("height","").height());i||n(this).hide()}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var e,o,i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],s=f&&i.collapsible,c=s?n():r.next(),l=u.next(),h={oldHeader:u,oldPanel:l,newHeader:s?n():r,newPanel:c};t.preventDefault();f&&!i.collapsible||this._trigger("beforeActivate",t,h)===!1||(i.active=s?!1:this.headers.index(r),this.active=f?n():r,this._toggle(h),this._removeClass(u,"ui-accordion-header-active","ui-state-active"),i.icons&&(e=u.children(".ui-accordion-header-icon"),this._removeClass(e,null,i.icons.activeHeader)._addClass(e,null,i.icons.header)),f||(this._removeClass(r,"ui-accordion-header-collapsed")._addClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(o=r.children(".ui-accordion-header-icon"),this._removeClass(o,null,i.icons.header)._addClass(o,null,i.icons.activeHeader)),this._addClass(r.next(),"ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return 0===parseInt(n(this).attr("tabIndex"),10)}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(n,t,i){var h,r,u,c=this,o=0,l=n.css("box-sizing"),a=n.length&&(!t.length||n.index()<t.index()),e=this.options.animate||{},f=a&&e.down||e,s=function(){c._toggleComplete(i)};return"number"==typeof f&&(u=f),"string"==typeof f&&(r=f),r=r||f.easing||e.easing,u=u||f.duration||e.duration,t.length?n.length?(h=n.show().outerHeight(),t.animate(this.hideProps,{duration:u,easing:r,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(this.showProps,{duration:u,easing:r,complete:s,step:function(n,i){i.now=Math.round(n);"height"!==i.prop?"content-box"===l&&(o+=i.now):"content"!==c.options.heightStyle&&(i.now=Math.round(h-t.outerHeight()-o),o=0)}}),void 0):t.animate(this.hideProps,u,r,s):n.animate(this.showProps,u,r,s)},_toggleComplete:function(n){var t=n.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active");this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}});n.ui.safeActiveElement=function(n){var t;try{t=n.activeElement}catch(i){t=n.body}return t||(t=n.body),t.nodeName||(t=n.body),t};n.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(n){n.preventDefault()},"click .ui-menu-item":function(t){var i=n(t.target),r=n(n.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var r=n(t.target).closest(".ui-menu-item"),i=n(t.currentTarget);r[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){var i=!n.contains(this.element[0],n.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n);this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();i.children().each(function(){var t=n(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,u,r,f,e=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=!1;u=this.previousFilter||"";f=!1;r=t.keyCode>=96&&105>=t.keyCode?""+(t.keyCode-96):String.fromCharCode(t.keyCode);clearTimeout(this.filterTimer);r===u?f=!0:r=u+r;i=this._filterMenuItems(r);i=f&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r));i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}e&&t.preventDefault()},_activate:function(n){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var u,t,f,i,e,r=this,s=this.options.icons.submenu,o=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);f=o.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev(),u=n("<span>").data("ui-menu-submenu-caret",!0);r._addClass(u,"ui-menu-icon","ui-icon "+s);i.attr("aria-haspopup","true").prepend(u);t.attr("aria-labelledby",i.attr("id"))});this._addClass(f,"ui-menu","ui-widget ui-widget-content ui-front");u=o.add(this.element);t=u.find(this.options.items);t.not(".ui-menu-item").each(function(){var t=n(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")});i=t.not(".ui-menu-item, .ui-menu-divider");e=i.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(i,"ui-menu-item")._addClass(e,"ui-menu-item-wrapper");t.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){if("icons"===n){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n+"");this._toggleClass(null,"ui-state-disabled",!!n)},focus:function(n,t){var i,r,u;this.blur(n,n&&"focus"===n.type);this._scrollIntoView(t);this.active=t.first();r=this.active.children(".ui-menu-item-wrapper");this._addClass(r,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));u=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(u,null,"ui-state-active");n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.outerHeight(),0>i?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){t||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",n,{item:this.active}),this.active=null)},_startOpening:function(n){clearTimeout(this.timer);"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this._removeClass(r.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r="first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),0>i.offset().top-r-u}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,r,u;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(n.trim(n(this).children(".ui-menu-item-wrapper").text()))})}});n.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f="textarea"===u,e="input"===u;this.isMultiLine=f||!e&&this._isContentEditable(this.element);this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly"))return t=!0,r=!0,i=!0,void 0;t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),void 0;if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){return r?(r=!1,n.preventDefault(),void 0):(this._searchTimeout(n),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(n),this._change(n),void 0)}});this._initSource();this.menu=n("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var r,u;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)}),void 0):(u=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:u})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(u.value),r=i.item.attr("aria-label")||u.value,r&&n.trim(r).length&&(this.liveRegion.children().hide(),n("<div>").text(r).appendTo(this.liveRegion)),void 0)},menuselect:function(t,i){var r=i.item.data("ui-autocomplete-item"),u=this.previous;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=u,this._delay(function(){this.previous=u;this.selectedItem=r}));!1!==this._trigger("select",t,{item:r})&&this._value(r.value);this.term=this._value();this.close(t);this.selectedItem=r}});this.liveRegion=n("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);"source"===n&&this._initSource();"appendTo"===n&&this.menu.element.appendTo(this._appendTo());"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||n.contains(i,t.target)},_closeOnClickOutside:function(n){this._isEventTargetInWidget(n)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(n):void 0},_search:function(n){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<div>").text(i.label)).appendTo(t)},_move:function(n,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[n](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())},_isContentEditable:function(n){if(!n.length)return!1;var t=n.prop("contentEditable");return"inherit"===t?this._isContentEditable(n.parent()):"true"===t}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments);this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),n("<div>").text(i).appendTo(this.liveRegion))}});n.ui.autocomplete;w=/ui-corner-([a-z]){2,6}/g;n.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];n.each(this.options.items,function(r,u){var f,e={};if(u)return"controlgroupLabel"===r?(f=t.element.find(u),f.each(function(){var t=n(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'><\/span>")}),t._addClass(f,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(f.get()),void 0):(n.fn[r]&&(e=t["_"+r+"Options"]?t["_"+r+"Options"]("middle"):{classes:{}},t.element.find(u).each(function(){var u=n(this),f=u[r]("instance"),o=n.widget.extend({},e),s;"button"===r&&u.parent(".ui-spinner").length||(f||(f=u[r]()[r]("instance")),f&&(o.classes=t._resolveClassesValues(o.classes,f)),u[r](o),s=u[r]("widget"),n.data(s[0],"ui-controlgroup-data",f?f:u[r]("instance")),i.push(s[0]))})),void 0)});this.childWidgets=n(n.unique(i));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var r=n(this),i=r.data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(n,t){var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(n,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all");this._addClass(n,null,i)},_buildSimpleOptions:function(n,t){var i="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[n],r},_spinnerOptions:function(n){var t=this._buildSimpleOptions(n,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(n){return this._buildSimpleOptions(n,"ui-button")},_checkboxradioOptions:function(n){return this._buildSimpleOptions(n,"ui-checkboxradio-label")},_selectmenuOptions:function(n){var t="vertical"===this.options.direction;return{width:t?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[n]}},_resolveClassesValues:function(t,i){var r={};return n.each(t,function(u){var f=i.options.classes[u]||"";f=n.trim(f.replace(w,""));r[u]=(f+" "+t[u]).replace(/\s+/g," ")}),r},_setOption:function(n,t){return"direction"===n&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(n,t),"disabled"===n?(this._callChildMethod(t?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();t=this.childWidgets;this.options.onlyVisible&&(t=t.filter(":visible"));t.length&&(n.each(["first","last"],function(n,r){var u=t[r]().data("ui-controlgroup-data"),f;u&&i["_"+u.widgetName+"Options"]?(f=i["_"+u.widgetName+"Options"](1===t.length?"only":r),f.classes=i._resolveClassesValues(f.classes,u),u.element[u.widgetName](f)):i._updateCornerClass(t[r](),r)}),this._callChildMethod("refresh"))}});n.widget("ui.checkboxradio",[n.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,u=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=n(i[i.length-1]),this.label.length||n.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){u.originalLabel+=3===this.nodeType?n(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),t=this.element[0].disabled,null!=t&&(r.disabled=t),r},_create:function(){var n=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();n&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover"));this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===t&&/radio|checkbox/.test(this.type)||n.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t,i=this.element[0].name,r="input[name='"+n.ui.escapeSelector(i)+"']";return i?(t=this.form.length?n(this.form[0].elements).filter(r):n(r).filter(function(){return 0===n(this).form().length}),t.not(this.element)):n([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t);"radio"===this.type&&this._getRadioGroup().each(function(){var t=n(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(n,t){if("label"!==n||t)return(this._super(n,t),"disabled"===n?(this._toggleClass(this.label,null,"ui-state-disabled",t),this.element[0].disabled=t,void 0):(this.refresh(),void 0))},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=n("<span>"),this.iconSpace=n("<span> <\/span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var n=this.label.contents().not(this.element[0]);this.icon&&(n=n.not(this.icon[0]));this.iconSpace&&(n=n.not(this.iconSpace[0]));n.remove();this.label.append(this.options.label)},refresh:function(){var n=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(n);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",n);null!==this.options.label&&this._updateLabel();t!==this.options.disabled&&this._setOptions({disabled:t})}}]);n.ui.checkboxradio;n.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var n,t=this._super()||{};return this.isInput=this.element.is("input"),n=this.element[0].disabled,null!=n&&(t.disabled=n),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(t){t.keyCode===n.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var u="iconPosition"!==t,r=u?this.options.iconPosition:i,f="top"===r||"bottom"===r;this.icon?u&&this._removeClass(this.icon,null,this.options.icon):(this.icon=n("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only"));u&&this._addClass(this.icon,null,i);this._attachIcon(r);f?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=n("<span> <\/span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(n){this.icon[/^(?:end|bottom)/.test(n)?"before":"after"](this.iconSpace)},_attachIcon:function(n){this.element[/^(?:end|bottom)/.test(n)?"append":"prepend"](this.icon)},_setOptions:function(n){var t=void 0===n.showLabel?this.options.showLabel:n.showLabel,i=void 0===n.icon?this.options.icon:n.icon;t||i||(n.showLabel=!0);this._super(n)},_setOption:function(n,t){"icon"===n&&(t?this._updateIcon(n,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove()));"iconPosition"===n&&this._updateIcon(n,t);"showLabel"===n&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip());"label"===n&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition))));this._super(n,t);"disabled"===n&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var n=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");n!==this.options.disabled&&this._setOptions({disabled:n});this._updateTooltip()}});n.uiBackCompat!==!1&&(n.widget("ui.button",n.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end");this._super()},_setOption:function(n,t){return"text"===n?(this._super("showLabel",t),void 0):("showLabel"===n&&(this.options.text=t),"icon"===n&&(this.options.icons.primary=t),"icons"===n&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),n.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(n.ui.checkboxradio||n.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(n.fn.button),n.fn.buttonset=function(){return n.ui.controlgroup||n.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});n.ui.button;n.extend(n.ui,{datepicker:{version:"1.12.1"}});n.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return u(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?l(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.off("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");("focus"===u||"both"===u)&&t.on("focus",this._showDatepicker);("button"===u||"both"===u)&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.on("click",function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;n.length>t;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,f,e){var s,h,c,l,a,o=this._dialogInst;return o||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),n("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},n.data(this._dialogInput[0],"datepicker",o)),u(o.settings,f||{}),i=i&&i.constructor===Date?this._formatDate(o,i):i,this._dialogInput.val(i),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+l,c/2-150+a]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",o),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),"input"===r?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===r||"span"===r)&&u.removeClass(this.markerClassName).empty(),i===f&&(i=null))},_enableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,r){var e,h,o,s,f=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?n.extend({},n.datepicker._defaults):f?"all"===i?n.extend({},f.settings):this._get(f,i):null:(e=i||{},"string"==typeof i&&(e={},e[i]=r),f&&(this._curInst===f&&this._hideDatepicker(),h=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),s=this._getMinMaxDate(f,"max"),u(f.settings,e),null!==o&&void 0!==e.dateFormat&&void 0===e.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==s&&void 0!==e.dateFormat&&void 0===e.maxDate&&(f.settings.maxDate=this._formatDate(f,s)),"disabled"in e&&(e.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(n(t),f),this._autoSize(f),this._setDate(f,h),this._updateAlternate(f),this._updateDatepicker(f)),void 0)},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return(i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!i||i.indexOf(r)>-1)},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,r,f,e,h;i=n.datepicker._getInst(t);n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));o=n.datepicker._get(i,"beforeShow");s=o?o.apply(t,[t,i]):{};s!==!1&&(u(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),r=!1,n(t).parents().each(function(){return r|="fixed"===n(this).css("position"),!r}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,r),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":r?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.css("z-index",k(n(t))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4;i=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var r,u=this._getNumberOfMonths(t),f=u[1],e=t.dpDiv.find("."+this._dayOverClass+" a");e.length>0&&a.apply(e.get(0));t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(1!==u[0]||1!==u[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.trigger("focus");t.yearshtml&&(r=t.yearshtml,setTimeout(function(){r===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);r=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.pseudos.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r,f,u,e,i=this._curInst;!i||t&&i!==n.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(i,"showAnim"),f=this._get(i,"duration"),u=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),f,u):i.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?f:null,u),r||u(),this._datepickerShowing=!1,e=this._get(i,"onClose"),e&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+("M"===r?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+("M"===r?"Month":"Year")]=u["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=null!=i?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).val(u))},noWeekends:function(n){var t=n.getDay();return[t>0&&6>t,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;for(var a,v,u,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof y?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,s=-1,h=-1,p=-1,w=!1,l=function(n){var i=t.length>o+1&&t.charAt(o+1)===n;return i&&o++,i},c=function(n){var u=l(n),r="@"===n?14:"!"===n?20:"y"===n&&u?4:"o"===n?3:2,e="y"===n?r:1,o=RegExp("^\\d{"+e+","+r+"}"),t=i.substring(f).match(o);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return(e=t[0],f+=r.length,!1)}),-1!==e)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(o))throw"Unexpected literal at position "+f;f++},o=0;t.length>o;o++)if(w)"'"!==t.charAt(o)||l("'")?b():w=!1;else switch(t.charAt(o)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":s=c("m");break;case"M":s=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@"));e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4);e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(i.length>f&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(-1===e?e=(new Date).getFullYear():100>e&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=e?0:-100)),p>-1)for(s=1,h=p;;){if(a=this._getDaysInMonth(e,s-1),a>=h)break;s++;h-=a}if(u=this._daylightSavingAdjust(new Date(e,s-1,h)),u.getFullYear()!==e||u.getMonth()+1!==s||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=n.length>u+1&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))for(;i>r.length;)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;n.length>u;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(10>t.getFullYear()%100?"0":"")+t.getFullYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=n.length>t+1&&n.charAt(t+1)===i;return r&&t++,r},t=0;n.length>t;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return void 0!==n.settings[t]?n.settings[t]:this._defaults[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=null==i||""===i?r:"string"==typeof i?e(i):"number"==typeof i?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&"Invalid Date"==""+u?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,o,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),f=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),e=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=1!==e[0]||1!==e[1],ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(0>t&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-e[0]*e[1]+1,v.getDate())),b=w&&w>b?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,0>t&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(f?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(f?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",y=0;e[0]>y;y++){for(ct="",this.maxRows=4,p=0;e[1]>p;p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",e[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(f?"right":"left");break;case e[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(f?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===y?f?ut:rt:"")+(/all|right/.test(l)&&0===y?f?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",o=0;7>o;o++)vt=(o+c)%7,at+="<th scope='col'"+((o+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;wt>bt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",o=0;7>o;o++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&w>i||v&&i>v,kt+="<td class='"+((o+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+(a&&!g||!d[2]?"":" title='"+d[2].replace(/'/g,"&#39;")+"'")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(e[0]>0&&p===e[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!k||h>=r.getMonth())&&(!d||u.getMonth()>=h)&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(!f&&w&&b?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a>=s;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(!f&&w&&b?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.selectedYear+("Y"===i?t:0),f=n.selectedMonth+("M"===i?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+("D"===i?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();("M"===i||"Y"===i)&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&i>t?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(0>t?t:f[0]*f[1]),1));return 0>t&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).on("mousedown",n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new c;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.12.1";n.datepicker;n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());r=!1;n(document).on("mouseup",function(){r=!1});n.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).on("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1)});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,u=1===t.which,f="string"==typeof this.options.cancel&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);this.ignoreMissingWhich=!1;r=!1;t.preventDefault()},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;f.length>u;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};n.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&n(t).trigger("blur")};n.widget("ui.draggable",n.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(n,t){this._super(n,t);"handle"===n&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blurActiveElement(t),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=n.ui.safeActiveElement(this.document[0]),r=n(t.target);r.closest(i).length||n.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(n){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:n.pageX-this.offset.left,top:n.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp(new n.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new n.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var r=this.options,u=n.isFunction(r.helper),i=u?n(r.helper.apply(this.element[0],[t])):"clone"===r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===r.appendTo?this.element[0].parentNode:r.appendTo),u&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:n.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,i,r=this.options,u=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===r.containment?(this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):r.containment.constructor===Array?(this.containment=r.containment,void 0):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i&&(f=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t),void 0):(this.containment=null,void 0)},_convertPositionTo:function(n,t){t||(t=this.position);var i="absolute"===n?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,s,u,f,r=this.options,h=this._isRootNode(this.scrollParent[0]),e=n.pageX,o=n.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,n.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f),"y"===r.axis&&(e=this.originalPageX),"x"===r.axis&&(o=this.originalPageY)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=n.extend({},i,{item:r.element});r.sortables=[];n(r.options.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,u))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});r.cancelHelperRemoval=!1;n.each(r.sortables,function(){var n=this;n.isOver?(n.isOver=0,r.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(t),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",t,u))})},drag:function(t,i,r){n.each(r.sortables,function(){var f=!1,u=this;u.positionAbs=r.positionAbs;u.helperProportions=r.helperProportions;u.offset.click=r.offset.click;u._intersectsWith(u.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==u&&this._intersectsWith(this.containerCache)&&n.contains(u.element[0],this.element[0])&&(f=!1),f}));f?(u.isOver||(u.isOver=1,r._parent=i.helper.parent(),u.currentItem=i.helper.appendTo(u.element).data("ui-sortable-item",!0),u.options._helper=u.options.helper,u.options.helper=function(){return i.helper[0]},t.target=u.currentItem[0],u._mouseCapture(t,!0),u._mouseStart(t,!0,!0),u.offset.click.top=r.offset.click.top,u.offset.click.left=r.offset.click.left,u.offset.parent.left-=r.offset.parent.left-u.offset.parent.left,u.offset.parent.top-=r.offset.parent.top-u.offset.parent.top,r._trigger("toSortable",t),r.dropped=u.element,n.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,u.fromOutside=r),u.currentItem&&(u._mouseDrag(t),i.position=u.position)):u.isOver&&(u.isOver=0,u.cancelHelperRemoval=!0,u.options._revert=u.options.revert,u.options.revert=!1,u._trigger("out",t,u._uiHash(u)),u._mouseStop(t,!0),u.options.revert=u.options._revert,u.options.helper=u.options._helper,u.placeholder&&u.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,n.each(r.sortables,function(){this.refreshPositions()}))})}});n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),f=r.options;u.css("cursor")&&(f._cursor=u.css("cursor"));u.css("cursor",f.cursor)},stop:function(t,i,r){var u=r.options;u._cursor&&n("body").css("cursor",u._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("opacity")&&(f._opacity=u.css("opacity"));u.css("opacity",f.opacity)},stop:function(t,i,r){var u=r.options;u._opacity&&n(i.helper).css("opacity",u._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1));i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&"HTML"!==e.tagName?(u.axis&&"x"===u.axis||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&"y"===u.axis||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&"x"===u.axis||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&"y"===u.axis||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed))));o!==!1&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[];n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,o,s,h,c,a,l,v,w,b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--)c=r.snapElements[u].left-r.margins.left,a=c+r.snapElements[u].width,l=r.snapElements[u].top-r.margins.top,v=l+r.snapElements[u].height,c-f>k||y>a+f||l-f>d||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=f>=Math.abs(l-d),o=f>=Math.abs(v-p),s=f>=Math.abs(c-k),h=f>=Math.abs(a-y),e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=f>=Math.abs(l-p),o=f>=Math.abs(v-d),s=f>=Math.abs(c-y),h=f>=Math.abs(a-k),e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var f,e=r.options,u=n.makeArray(n(e.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});u.length&&(f=parseInt(n(u[0]).css("zIndex"),10)||0,n(u).each(function(t){n(this).css("zIndex",f+t)}),this.css("zIndex",f+u.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("zIndex")&&(f._zIndex=u.css("zIndex"));u.css("zIndex",f.zIndex)},stop:function(t,i,r){var u=r.options;u._zIndex&&n(i.helper).css("zIndex",u._zIndex)}});n.ui.draggable;n.widget("ui.resizable",n.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseFloat(n)||0},_isNumber:function(n){return!isNaN(parseFloat(n))},_hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},_create:function(){var r,t=this.options,i=this;this._addClass("ui-resizable");n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,r={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(r),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(r),this._proportionallyResize());this._setupHandles();t.autoHide&&n(this.element).on("mouseenter",function(){t.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){t.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())});this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(n,t){switch(this._super(n,t),n){case"handles":this._removeHandles();this._setupHandles()}},_setupHandles:function(){var i,r,u,o,t,f=this.options,e=this;if(this.handles=f.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=n(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),u=this.handles.split(","),this.handles={},r=0;u.length>r;r++)i=n.trim(u[r]),o="ui-resizable-"+i,t=n("<div>"),this._addClass(t,"ui-resizable-handle "+o),t.css({zIndex:f.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.append(t);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=n(this.handles[i]),this._on(this.handles[i],{mousedown:e._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){e.resizing||(this.className&&(t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),e.axis=t&&t[1]?t[1]:"se")});f.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var u,f,e,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),u=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),r.containment&&(u+=n(r.containment).scrollLeft()||0,f+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:u,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:u,top:f},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===e?this.axis+"-resize":e),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,u=this.originalMousePosition,e=this.axis,o=t.pageX-u.left||0,s=t.pageY-u.top||0,f=this._change[e];return this._updatePrevProperties(),f?(i=f.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var r,u,f,e,t,i=this.options;t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||n)&&(r=t.minHeight*this.aspectRatio,f=t.minWidth/this.aspectRatio,u=t.maxHeight*this.aspectRatio,e=t.maxWidth/this.aspectRatio,r>t.minWidth&&(t.minWidth=r),f>t.minHeight&&(t.minHeight=f),t.maxWidth>u&&(t.maxWidth=u),t.maxHeight>e&&(t.maxHeight=e));this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset();this._isNumber(n.left)&&(this.position.left=n.left);this._isNumber(n.top)&&(this.position.top=n.top);this._isNumber(n.height)&&(this.size.height=n.height);this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,i=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===r&&(n.left=t.left+(i.width-n.width),n.top=null),"nw"===r&&(n.top=t.top+(i.height-n.height),n.left=t.left+(i.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,r=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,u=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,f=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,o=this.originalPosition.left+this.originalSize.width,s=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return f&&(n.width=t.minWidth),e&&(n.height=t.minHeight),r&&(n.width=t.maxWidth),u&&(n.height=t.maxHeight),f&&h&&(n.left=o-t.minWidth),r&&h&&(n.left=o-t.maxWidth),e&&c&&(n.top=s-t.minHeight),u&&c&&(n.top=s-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var t=0,i=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];4>t;t++)i[t]=parseFloat(r[t])||0,i[t]+=parseFloat(u[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var n,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)n=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(n)),n.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,o=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var r,f,e,o,s,h,c,t=n(this).resizable("instance"),l=t.options,a=t.element,u=l.containment,i=u instanceof n?u.get(0):/parent/.test(u)?a.parent().get(0):u;i&&(t.containerElement=n(i),/document/.test(u)||u===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(r=n(i),f=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){f[n]=t._num(r.css("padding"+i))}),t.containerOffset=r.offset(),t.containerPosition=r.position(),t.containerSize={height:r.innerHeight()-f[3],width:r.innerWidth()-f[1]},e=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,h=t._hasScroll(i,"left")?i.scrollWidth:s,c=t._hasScroll(i)?i.scrollHeight:o,t.parentData={element:i,left:e.left,top:e.top,width:h,height:c}))},resize:function(t){var o,s,h,c,i=n(this).resizable("instance"),v=i.options,r=i.containerOffset,l=i.position,f=i._aspectRatio||t.shiftKey,e={top:0,left:0},a=i.containerElement,u=!0;a[0]!==document&&/static/.test(a.css("position"))&&(e=r);l.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-e.left),f&&(i.size.height=i.size.width/i.aspectRatio,u=!1),i.position.left=v.helper?r.left:0);l.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio,u=!1),i.position.top=i._helper?r.top:0);h=i.containerElement.get(0)===i.element.parent().get(0);c=/relative|absolute/.test(i.containerElement.css("position"));h&&c?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top);o=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-e.left:i.offset.left-r.left));s=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-e.top:i.offset.top-r.top));o+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-o,f&&(i.size.height=i.size.width/i.aspectRatio,u=!1));s+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-s,f&&(i.size.width=i.size.height*i.aspectRatio,u=!1));u||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).resizable("instance"),i=t.options;n(i.alsoResize).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var r=n(this).resizable("instance"),e=r.options,u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0};n(e.alsoResize).each(function(){var t=n(this),u=n(this).data("ui-resizable-alsoresize"),r={},f=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(f,function(n,t){var i=(u[t]||0)+(o[t]||0);i&&i>=0&&(r[t]=i||null)});t.css(r)})},stop:function(){n(this).removeData("ui-resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0});t._addClass(t.ghost,"ui-resizable-ghost");n.uiBackCompat!==!1&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost);t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var h,t=n(this).resizable("instance"),i=t.options,y=t.size,o=t.originalSize,s=t.originalPosition,c=t.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,f=l[0]||1,e=l[1]||1,a=Math.round((y.width-o.width)/f)*f,v=Math.round((y.height-o.height)/e)*e,r=o.width+a,u=o.height+v,p=i.maxWidth&&r>i.maxWidth,w=i.maxHeight&&u>i.maxHeight,b=i.minWidth&&i.minWidth>r,k=i.minHeight&&i.minHeight>u;i.grid=l;b&&(r+=f);k&&(u+=e);p&&(r-=f);w&&(u-=e);/^(se|s|e)$/.test(c)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.top=s.top-v):/^(sw)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.left=s.left-a):((0>=u-e||0>=r-f)&&(h=t._getPaddingPlusBorderDimensions(this)),u-e>0?(t.size.height=u,t.position.top=s.top-v):(u=e-h.height,t.size.height=u,t.position.top=s.top+o.height-u),r-f>0?(t.size.width=r,t.position.left=s.left-a):(r=f-h.width,t.size.width=r,t.position.left=s.left+o.width-r))}});n.ui.resizable;n.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;0>i&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=!1);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||n.ui.safeBlur(n.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,f=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),u=Math.max.apply(null,f);return u>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",u+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=n(n.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var n=this._focusedElement;n||(n=this.element.find("[autofocus]"));n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=n.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===n.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){u.trigger("focus")}),t.preventDefault()):(this._delay(function(){r.trigger("focus")}),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=n("<button type='button'><\/button>").button({label:n("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(t,"ui-dialog-title");this._title(t);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title?n.text(this.options.title):n.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;f={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text};delete r.click;delete r.icon;delete r.iconPosition;delete r.showLabel;delete r.icons;"boolean"==typeof r.text&&delete r.text;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet).on("click",function(){u.apply(i.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){t._addClass(n(this),"ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){var e=f.offset.left-t.document.scrollLeft(),o=f.offset.top-t.document.scrollTop();r.position={my:"left top",at:"left"+(e>=0?"+":"")+e+" top"+(o>=0?"+":"")+o,of:t.window};t._removeClass(n(this),"ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var t=this,i=this.options,u=i.resizable,f=this.uiDialog.css("position"),e="string"==typeof u?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:e,start:function(i,u){t._addClass(n(this),"ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",i,r(u))},resize:function(n,i){t._trigger("resize",n,r(i))},stop:function(u,f){var e=t.uiDialog.offset(),o=e.left-t.document.scrollLeft(),s=e.top-t.document.scrollTop();i.height=t.uiDialog.height();i.width=t.uiDialog.width();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:t.window};t._removeClass(n(this),"ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",u,r(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=n(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=n.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var n=this.document.data("ui-dialog-instances");return n||(n=[],this.document.data("ui-dialog-instances",n)),n},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,u={};n.each(t,function(n,t){i._setOption(n,t);n in i.sizeRelatedOptions&&(r=!0);n in i.resizableRelatedOptions&&(u[n]=t)});r&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(t,i){var f,u,r=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:n("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(f=r.is(":data(ui-draggable)"),f&&!i&&r.draggable("destroy"),!f&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(u=r.is(":data(ui-resizable)"),u&&!i&&r.resizable("destroy"),u&&"string"==typeof i&&r.resizable("option","handles",i),u||i===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none";"auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(n){t||this._allowInteraction(n)||(n.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=n("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var n=this.document.data("ui-dialog-overlays")-1;n?this.document.data("ui-dialog-overlays",n):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays"));this.overlay.remove();this.overlay=null}}});n.uiBackCompat!==!1&&n.widget("ui.dialog",n.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(n,t){"dialogClass"===n&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t);this._superApply(arguments)}});n.ui.dialog;n.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(r)?r:function(n){return n.is(r)};this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(i.scope);i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){n.ui.ddmanager.droppables[t]=n.ui.ddmanager.droppables[t]||[];n.ui.ddmanager.droppables[t].push(this)},_splice:function(n){for(var t=0;n.length>t;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var t=n.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=n.isFunction(i)?i:function(n){return n.is(i)};else if("scope"===t){var r=n.ui.ddmanager.droppables[this.options.scope];this._splice(r);this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=n.ui.ddmanager.current;this._addActiveClass();i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this._removeActiveClass();i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&e(r,n.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return(u=!0,!1)}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});e=n.ui.intersect=function(){function n(n,t,i){return n>=t&&t+i>n}return function(t,i,r,u){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,h=o+t.helperProportions.width,c=s+t.helperProportions.height,f=i.offset.left,e=i.offset.top,l=f+i.proportions().width,a=e+i.proportions().height;switch(r){case"fit":return o>=f&&l>=h&&s>=e&&a>=c;case"intersect":return o+t.helperProportions.width/2>f&&l>h-t.helperProportions.width/2&&s+t.helperProportions.height/2>e&&a>c-t.helperProportions.height/2;case"pointer":return n(u.pageY,e,i.proportions().height)&&n(u.pageX,f,i.proportions().width);case"touch":return(s>=e&&a>=s||c>=e&&a>=c||e>s&&c>a)&&(o>=f&&l>=o||h>=f&&l>=h||f>o&&h>l);default:return!1}}}();n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;u.length>r;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;e.length>f;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}u[r].visible="none"!==u[r].element.css("display");u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,o,f,s=e(t,this,this.options.tolerance,i),u=!s&&this.isover?"isout":s&&!this.isover?"isover":null;u&&(this.options.greedy&&(o=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===o}),f.length&&(r=n(f[0]).droppable("instance"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}};n.uiBackCompat!==!1&&n.widget("ui.droppable",n.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});n.ui.droppable;n.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=n("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(n){return void 0===n?this.options.value:(this.options.value=this._constrainedValue(n),this._refreshValue(),void 0)},_constrainedValue:function(n){return void 0===n&&(n=this.options.value),this.indeterminate=n===!1,"number"!=typeof n&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t));this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n);this._toggleClass(null,"ui-state-disabled",!!n)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(i.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}});n.widget("ui.selectable",n.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t.elementPos=n(t.element[0]).offset();t.selectees=n(t.options.filter,t.element[0]);t._addClass(t.selectees,"ui-selectee");t.selectees.each(function(){var i=n(this),u=i.offset(),r={left:u.left-t.elementPos.left,top:u.top-t.elementPos.top};n.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=n("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY];this.elementPos=n(this.element[0]).offset();this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return(u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,u?"ui-unselecting":"ui-selected")._addClass(r.$element,u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1)}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var o,i=this,s=this.options,r=this.opos[0],u=this.opos[1],f=t.pageX,e=t.pageY;return r>f&&(o=f,f=r,r=o),u>e&&(o=e,e=u,u=o),this.helper.css({left:r,top:u,width:f-r,height:e-u}),this.selectees.each(function(){var o=n.data(this,"selectable-item"),c=!1,h={};o&&o.element!==i.element[0]&&(h.left=o.left+i.elementPos.left,h.right=o.right+i.elementPos.left,h.top=o.top+i.elementPos.top,h.bottom=o.bottom+i.elementPos.top,"touch"===s.tolerance?c=!(h.left>f||r>h.right||h.top>e||u>h.bottom):"fit"===s.tolerance&&(c=h.left>r&&f>h.right&&h.top>u&&e>h.bottom),c?(o.selected&&(i._removeClass(o.$element,"ui-selected"),o.selected=!1),o.unselecting&&(i._removeClass(o.$element,"ui-unselecting"),o.unselecting=!1),o.selecting||(i._addClass(o.$element,"ui-selecting"),o.selecting=!0,i._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,i._addClass(o.$element,"ui-selected"),o.selected=!0):(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,o.startselected&&(i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0),i._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(i._removeClass(o.$element,"ui-selected"),o.selected=!1,i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0,i._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.widget("ui.selectmenu",[n.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=!1;this.menuItems=n()},_drawButton:function(){var t,i=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(n){this.button.focus();n.preventDefault()}});this.element.hide();this.button=n("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");t=n("<span>").appendTo(this.button);this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(r).appendTo(this.button);this.options.width!==!1&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=n("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(n,i){n.preventDefault();t._setSelection();t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){var r=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",n,{item:r}),t.isOpen||t._select(r,n));t.focusIndex=r.index;t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var n,t=this.element.find("option");this.menu.empty();this._parseOptions(t);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=!0;t.length&&(n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n)))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var i=n("<span>");return this._setText(i,t.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(t,i){var r=this,u="";n.each(i,function(i,f){var e;f.optgroup!==u&&(e=n("<li>",{text:f.optgroup}),r._addClass(e,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),e.appendTo(t),u=f.optgroup);r._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=n("<li>"),u=n("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(r,null,"ui-state-disabled"),this._setText(u,i.label),r.append(u).appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var i,r,u=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),u+=":not(.ui-state-disabled)");r="first"===n||"last"===n?i["first"===n?"prevAll":"nextAll"](u).eq(-1):i[n+"All"](u).eq(0);r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_setSelection:function(){var n;this.range&&(window.getSelection?(n=window.getSelection(),n.removeAllRanges(),n.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+n.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var n;window.getSelection?(n=window.getSelection(),n.rangeCount&&(this.range=n.getRangeAt(0))):this.range=document.selection.createRange()},click:function(n){this._setSelection();this._toggle(n)},keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t);i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(n));this._setAria(n);this._trigger("select",t,{item:n});n.index!==i&&this._trigger("change",t,{item:n});this.close(t)},_setAria:function(n){var t=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(n,t){if("icons"===n){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)}this._super(n,t);"appendTo"===n&&this.menuWrap.appendTo(this._appendTo());"width"===n&&this._resizeButton()},_setOptionDisabled:function(n){this._super(n);this.menuInstance.option("disabled",n);this.button.attr("aria-disabled",n);this._toggleClass(this.button,null,"ui-state-disabled",n);this.element.prop("disabled",n);n?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var n=this.options.width;return n===!1?(this.button.css("width",""),void 0):(null===n&&(n=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(n),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var n=this._super();return n.disabled=this.element.prop("disabled"),n},_parseOptions:function(t){var r=this,i=[];t.each(function(t,u){i.push(r._parseOption(n(u),t))});this.items=i},_parseOption:function(n,t){var i=n.parent("optgroup");return{element:n,index:t,value:n.val(),label:n.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||n.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);n.widget("ui.slider",n.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;i>r;r++)f.push("<span tabindex='0'><\/span>");this.handles=t.add(n(f.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=n("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===t.range||"max"===t.range)&&this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,this._addClass(i,null,"ui-state-active"),i.trigger("focus"),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return"horizontal"===this.orientation?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),0>t&&(t=0),"vertical"===this.orientation&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_uiHash:function(n,t,i){var r={handle:this.handles[n],handleIndex:n,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(n),r.values=i||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(n,t){return this._trigger("start",n,this._uiHash(t))},_slide:function(n,t,i){var u,r,f=this.value(),e=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),f=this.values(t),2===this.options.values.length&&this.options.range===!0&&(i=0===t?Math.min(r,i):Math.max(r,i)),e[t]=i);i!==f&&(u=this._trigger("slide",n,this._uiHash(t,i,e)),u!==!1&&(this._hasMultipleValues()?this.values(t,i):this.value(i)))},_stop:function(n,t){this._trigger("stop",n,this._uiHash(t))},_change:function(n,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",n,this._uiHash(t)))},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var u,f,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;u.length>r;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),this._super(t,i),t){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(i);this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=u-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_setOptionDisabled:function(n){this._super(n);this._toggleClass(null,"ui-state-disabled",!!n)},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this._hasMultipleValues()){for(t=this.options.values.slice(),i=0;t.length>i;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(this._valueMin()>=n)return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var n=this.options.max,i=this._valueMin(),t=this.options.step,r=Math.round((n-i)/t)*t;n=r+i;n>this.options.max&&(n-=t);this.max=parseFloat(n.toFixed(this._precision()))},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(n){"vertical"===n&&this.range.css({width:"",left:""});"horizontal"===n&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this._hasMultipleValues()?this.handles.each(function(f){t=100*((r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin()));o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?100*((c-f)/(h-f)):0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-t+"%"},i.animate),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-t+"%"},i.animate))},_handleEvents:{keydown:function(t){var e,r,i,u,f=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(n(t.target),null,"ui-state-active"),e=this._start(t,f),e===!1))return}switch(u=this.options.step,r=i=this._hasMultipleValues()?this.values(f):this.value(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+u);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-u)}this._slide(t,f,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(n(t.target),null,"ui-state-active"))}}});n.widget("ui.sortable",n.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return n>=t&&t+i>n},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(n,t){this._super(n,t);"handle"===n&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");n.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return(r=n(this),!1)}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),r?!this.options.handle||i||(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),f)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-this.document.scrollTop()<i.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<i.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),t.pageX-this.document.scrollLeft()<i.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],f):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u))break;this._rearrange(t,u);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new n.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l="x"===this.options.axis||i+o>u&&e>i+o,a="y"===this.options.axis||t+s>r&&f>t+s,v=l&&a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:t+this.helperProportions.width/2>r&&f>h-this.helperProportions.width/2&&i+this.helperProportions.height/2>u&&e>c-this.helperProportions.height/2},_intersectsWithPointer:function(n){var t,i,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),u="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width),f=r&&u;return f?(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1)):!1},_intersectsWithSides:function(n){var r=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),u=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&u||"left"===i&&!u:t&&("down"===t&&r||"up"===t&&!r)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!==n&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!==n&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;t.length>i;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;l>u;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]);return t._addClass(i,"ui-sortable-placeholder",r||t.currentItem[0].className)._removeClass(i,"ui-sortable-helper"),"tbody"===u?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),n("<tr>",t.document[0]).appendTo(i)):"tr"===u?t._createTrPlaceholder(t.currentItem,i):"img"===u&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){n("<td>&#160;<\/td>",r.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){for(var u,c,f,a,v,o,l,s,h,e=null,i=null,r=this.containers.length-1;r>=0;r--)if(!n.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(e&&n.contains(this.containers[r].element[0],e.element[0]))continue;e=this.containers[r];i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[i].containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1);else{for(c=1e4,f=null,s=e.floating||this._isFloating(this.currentItem),a=s?"left":"top",v=s?"width":"height",h=s?"pageX":"pageY",u=this.items.length-1;u>=0;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(o=this.items[u].item.offset()[a],l=!1,t[h]-o>this.items[u][v]/2&&(l=!0),c>Math.abs(t[h]-o)&&(c=Math.abs(t[h]-o),f=this.items[u],this.direction=l?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[i])return this.currentContainer.containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;f?this._rearrange(t,f,null,!0):this._rearrange(t,null,this.containers[i].element,!0);this._trigger("change",t,this._uiHash());this.containers[i]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[i];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[i]._trigger("over",t,this._uiHash(this));this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):"clone"===r.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==r.appendTo?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);null!=u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n),void 0)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var t=this.element[0]===n.ui.safeActiveElement(this.document[0]);t||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===n.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;r.call(this)});this._start(t)!==!1&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return this._start(t)===!1?!1:(this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a><\/a><a><\/a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:!1});this.buttons.last().button({icon:this.options.icons.down,showLabel:!1});this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_start:function(n){return this.spinning||this._trigger("start",n)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return r=null!==t.min?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&t.min>n?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){var u,i,r;return"culture"===n||"numberFormat"===n?(u=this._parse(this.element.val()),this.options[n]=t,this.element.val(this._format(u)),void 0):(("max"===n||"min"===n||"step"===n)&&"string"==typeof t&&(t=this._parse(t)),"icons"===n&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(n,t),void 0)},_setOptionDisabled:function(n){this._super(n);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!n);this.element.prop("disabled",!!n);this.buttons.button(n?"disable":"enable")},_setOptions:t(function(n){this._super(n)}),_parse:function(n){return"string"==typeof n&&""!==n&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),""===n||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var n=this.value();return null===n?!1:n===this._adjustValue(n)},_value:function(n,t){var i;""!==n&&(i=this._parse(n),null!==i&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){return arguments.length?(t(this._value).call(this,n),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}});n.uiBackCompat!==!1&&n.widget("ui.spinner",n.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a><\/a><a><\/a>"}});n.ui.spinner;n.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var n=/#.*$/;return function(t){var i,r;i=t.href.replace(n,"");r=location.href.replace(n,"");try{i=decodeURIComponent(i)}catch(u){}try{r=decodeURIComponent(r)}catch(u){}return t.hash.length>1&&i===r}}(),_create:function(){var i=this,t=this.options;this.running=!1;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,t.collapsible);this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return(t=i,!1)}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(n.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(i),void 0;case n.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i),void 0;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||t.metaKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==n.inArray(u(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).trigger("focus"),n},_setOption:function(n,t){return"active"===n?(this._activate(t),void 0):(this._super(n,t),"collapsible"===n&&(this._toggleClass("ui-tabs-collapsible",null,t),t||this.options.active!==!1||this._activate(0)),"event"===n&&this._setupEvents(t),"heightStyle"===n&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,u=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return n("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=n();this.anchors.each(function(i,r){var f,u,e,s=n(r).uniqueId().attr("id"),o=n(r).closest("li"),h=o.attr("aria-controls");t._isLocal(r)?(f=r.hash,e=f.substring(1),u=t.element.find(t._sanitizeSelector(f))):(e=o.attr("aria-controls")||n({}).uniqueId()[0].id,f="#"+e,u=t.element.find(f),u.length||(u=t._createPanel(e),u.insertAfter(t.panels[i-1]||t.tablist)),u.attr("aria-live","polite"));u.length&&(t.panels=t.panels.add(u));h&&o.data("ui-tabs-aria-controls",h);o.attr({"aria-controls":e,"aria-labelledby":s});u.attr("aria-labelledby",s)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(u.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var i,u,r;for(n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;u=this.tabs[r];r++)i=n(u),t===!0||-1!==n.inArray(r,t)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=t;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,t===!0)},_setupEvents:function(t){var i={};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(n){n.preventDefault()}});this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};t.preventDefault();i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){r.running=!1;r._trigger("activate",t,i)}function o(){r._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active");u.length&&r.options.show?r._show(u,r.options.show,e):(u.show(),e())}var r=this,u=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){r._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active");o()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),f.hide(),o());f.attr("aria-hidden","true");i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});u.length&&f.length?i.oldTab.attr("tabIndex",-1):u.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);u.attr("aria-hidden","false");i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+n.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=n.isArray(i)?n.map(i,function(n){return n!==t?n:null}):n.map(this.tabs,function(n,i){return i!==t?i:null})),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==n.inArray(t,i))return;i=n.isArray(i)?n.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){t=this._getIndex(t);var r=this,u=this.tabs.eq(t),e=u.find(".ui-tabs-anchor"),f=this._getPanelForTab(u),o={tab:u,panel:f},s=function(n,t){"abort"===t&&r.panels.stop(!1,!0);r._removeClass(u,"ui-tabs-loading");f.removeAttr("aria-busy");n===r.xhr&&delete r.xhr};this._isLocal(e[0])||(this.xhr=n.ajax(this._ajaxSettings(e,i,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(u,"ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.done(function(n,t,u){setTimeout(function(){f.html(n);r._trigger("load",i,o);s(u,t)},1)}).fail(function(n,t){setTimeout(function(){s(n,t)},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});n.uiBackCompat!==!1&&n.widget("ui.tabs",n.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});n.ui.tabs;n.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i);t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))},_removeDescribedBy:function(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");i=n.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=n("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=n([])},_setOption:function(t,i){var r=this;this._super(t,i);"content"===t&&n.each(this.tooltips,function(n,t){r._updateContent(t.element)})},_setOptionDisabled:function(n){this[n?"_disable":"_enable"]()},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r.element[0];t.close(u,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=n(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))});this.disabledTitles=n([])},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var i,t=n(this);t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(n,t){var r,i=this.options.content,u=this,f=t?t.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(t,n,i):(r=i.call(n[0],function(i){u._delay(function(){n.data("ui-tooltip-open")&&(t&&(t.type=f),this._open(t,n,i))})}),r&&this._open(t,n,r),void 0)},_open:function(t,i,r){function o(n){s.of=n;u.is(":hidden")||u.position(s)}var f,u,h,e,s=n.extend({},this.options.position);if(r){if(f=this._find(i))return f.tooltip.find(".ui-tooltip-content").html(r),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title"));f=this._tooltip(i);u=f.tooltip;this._addDescribedBy(i,u.attr("id"));u.find(".ui-tooltip-content").html(r);this.liveRegion.children().hide();e=n("<div>").html(u.find(".ui-tooltip-content").html());e.removeAttr("name").find("[name]").removeAttr("name");e.removeAttr("id").find("[id]").removeAttr("id");e.appendTo(this.liveRegion);this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):u.position(n.extend({of:i},this.options.position));u.hide();this._show(u,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){u.is(":visible")&&(o(s.of),clearInterval(h))},13));this._trigger("open",t,{tooltip:u})}},_registerCloseHandlers:function(t,i){var r={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var r=n.Event(t);r.currentTarget=i[0];this.close(r,!0)}}};i[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(i).tooltip)});t&&"mouseover"!==t.type||(r.mouseleave="close");t&&"focusin"!==t.type||(r.focusout="close");this._on(!0,i,r)},close:function(t){var u,f=this,i=n(t?t.currentTarget:this.element),r=this._find(i);return r?(u=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete f.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:u}),r.hiding||(r.closing=!1)),void 0):(i.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=n("<div>").attr("role","tooltip"),r=n("<div>").appendTo(i),u=i.uniqueId().attr("id");return this._addClass(r,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(t)),this.tooltips[u]={element:t,tooltip:i}},_find:function(n){var t=n.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(n){n.remove();delete this.tooltips[n.attr("id")]},_appendTo:function(n){var t=n.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var f=n.Event("blur"),u=r.element;f.target=f.currentTarget=u[0];t.close(f,!0);n("#"+i).remove();u.data("ui-tooltip-title")&&(u.attr("title")||u.attr("title",u.data("ui-tooltip-title")),u.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});n.uiBackCompat!==!1&&n.widget("ui.tooltip",n.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var n=this._superApply(arguments);return this.options.tooltipClass&&n.tooltip.addClass(this.options.tooltipClass),n}});n.ui.tooltip}),function(n){function t(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var i=n.ui.mouse.prototype,u=i._mouseInit,r;i._touchStart=function(n){var i=this;!r&&i._mouseCapture(n.originalEvent.changedTouches[0])&&(r=!0,i._touchMoved=!1,t(n,"mouseover"),t(n,"mousemove"),t(n,"mousedown"))};i._touchMove=function(n){r&&(this._touchMoved=!0,t(n,"mousemove"))};i._touchEnd=function(n){r&&(t(n,"mouseup"),t(n,"mouseout"),this._touchMoved||t(n,"click"),r=!1)};i._mouseInit=function(){var t=this;t.element.bind("touchstart",n.proxy(t,"_touchStart")).bind("touchmove",n.proxy(t,"_touchMove")).bind("touchend",n.proxy(t,"_touchEnd"));u.call(t)}}}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],function(t){return n(t)}):typeof module=="object"&&typeof module.exports=="object"?exports=n(require("jquery")):n(jQuery)}(function(n){function o(n){var i=7.5625,t=2.75;return n<1/t?i*n*n:n<2/t?i*(n-=1.5/t)*n+.75:n<2.5/t?i*(n-=2.25/t)*n+.9375:i*(n-=2.625/t)*n+.984375}n.easing.jswing=n.easing.swing;var t=Math.pow,u=Math.sqrt,i=Math.sin,s=Math.cos,r=Math.PI,f=1.70158,e=f*1.525,h=f+1,c=2*r/3,l=2*r/4.5;n.extend(n.easing,{def:"easeOutQuad",swing:function(t){return n.easing[n.easing.def](t)},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return 1-(1-n)*(1-n)},easeInOutQuad:function(n){return n<.5?2*n*n:1-t(-2*n+2,2)/2},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return 1-t(1-n,3)},easeInOutCubic:function(n){return n<.5?4*n*n*n:1-t(-2*n+2,3)/2},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1-t(1-n,4)},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-t(-2*n+2,4)/2},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1-t(1-n,5)},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1-t(-2*n+2,5)/2},easeInSine:function(n){return 1-s(n*r/2)},easeOutSine:function(n){return i(n*r/2)},easeInOutSine:function(n){return-(s(r*n)-1)/2},easeInExpo:function(n){return n===0?0:t(2,10*n-10)},easeOutExpo:function(n){return n===1?1:1-t(2,-10*n)},easeInOutExpo:function(n){return n===0?0:n===1?1:n<.5?t(2,20*n-10)/2:(2-t(2,-20*n+10))/2},easeInCirc:function(n){return 1-u(1-t(n,2))},easeOutCirc:function(n){return u(1-t(n-1,2))},easeInOutCirc:function(n){return n<.5?(1-u(1-t(2*n,2)))/2:(u(1-t(-2*n+2,2))+1)/2},easeInElastic:function(n){return n===0?0:n===1?1:-t(2,10*n-10)*i((n*10-10.75)*c)},easeOutElastic:function(n){return n===0?0:n===1?1:t(2,-10*n)*i((n*10-.75)*c)+1},easeInOutElastic:function(n){return n===0?0:n===1?1:n<.5?-(t(2,20*n-10)*i((20*n-11.125)*l))/2:t(2,-20*n+10)*i((20*n-11.125)*l)/2+1},easeInBack:function(n){return h*n*n*n-f*n*n},easeOutBack:function(n){return 1+h*t(n-1,3)+f*t(n-1,2)},easeInOutBack:function(n){return n<.5?t(2*n,2)*((e+1)*2*n-e)/2:(t(2*n-2,2)*((e+1)*(n*2-2)+e)+2)/2},easeInBounce:function(n){return 1-o(1-n)},easeOutBounce:o,easeInOutBounce:function(n){return n<.5?(1-o(1-2*n))/2:(1+o(2*n-1))/2}})}),function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";function r(t){return!t.nodeName||-1!==n.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(t){return n.isFunction(t)||n.isPlainObject(t)?t:{top:t,left:t}}var t=n.scrollTo=function(t,i,r){return n(window).scrollTo(t,i,r)};return t.defaults={axis:"xy",duration:0,limit:!0},n.fn.scrollTo=function(u,f,e){"object"==typeof f&&(e=f,f=0);"function"==typeof e&&(e={onAfter:e});"max"===u&&(u=9e9);e=n.extend({},t.defaults,e);f=f||e.duration;var o=e.queue&&1<e.axis.length;return o&&(f/=2),e.offset=i(e.offset),e.over=i(e.over),this.each(function(){function y(t){var i=n.extend({},e,{queue:!0,duration:f,complete:t&&function(){t.call(c,s,e)}});a.animate(h,i)}var p;if(null!==u){var l=r(this),c=l?this.contentWindow||window:this,a=n(c),s=u,h={},v;switch(typeof s){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(s)){s=i(s);break}s=l?n(s):n(s,c);case"object":if(s.length===0)return;(s.is||s.style)&&(v=(s=n(s)).offset())}p=n.isFunction(e.offset)&&e.offset(c,s)||e.offset;n.each(e.axis.split(""),function(n,i){var u="x"===i?"Left":"Top",f=u.toLowerCase(),r="scroll"+u,w=a[r](),b=t.max(c,i);v?(h[r]=v[f]+(l?0:w-a.offset()[f]),e.margin&&(h[r]-=parseInt(s.css("margin"+u),10)||0,h[r]-=parseInt(s.css("border"+u+"Width"),10)||0),h[r]+=p[f]||0,e.over[f]&&(h[r]+=s["x"===i?"width":"height"]()*e.over[f])):(u=s[f],h[r]=u.slice&&"%"===u.slice(-1)?parseFloat(u)/100*b:u);e.limit&&/^\d+$/.test(h[r])&&(h[r]=0>=h[r]?0:Math.min(h[r],b));!n&&1<e.axis.length&&(w===h[r]?h={}:o&&(y(e.onAfterFirst),h={}))});y(e.onAfter)}})},t.max=function(t,i){var u="x"===i?"Width":"Height",e="scroll"+u;if(!r(t))return t[e]-n(t)[u.toLowerCase()]();var u="client"+u,f=t.ownerDocument||t.document,o=f.documentElement,f=f.body;return Math.max(o[e],f[e])-Math.min(o[u],f[u])},n.Tween.propHooks.scrollLeft=n.Tween.propHooks.scrollTop={get:function(t){return n(t.elem)[t.prop]()},set:function(t){var r=this.get(t),i;if(t.options.interrupt&&t._last&&t._last!==r)return n(t.elem).stop();i=Math.round(t.now);r!==i&&(n(t.elem)[t.prop](i),t._last=this.get(t))}},t}),function(){function t(){var t="",n;for(n in this)typeof this[n]!="function"&&(t+=n+'="'+this[n]+'" ');return t}function i(){var t="",n;for(n in this)typeof this[n]!="function"&&(t+=n+"="+encodeURIComponent(this[n])+"&");return t.replace(/&$/,"")}var n;n=jQuery.fn.flash=function(t,i,r,u){var f=r||n.replace,e;if(i=n.copy(n.pluginOptions,i),!n.hasFlash(i.version))if(i.expressInstall&&n.hasFlash(6,0,65))e={flashvars:{MMredirectURL:location,MMplayerType:"PlugIn",MMdoctitle:jQuery("title").text()}};else if(i.update)f=u||n.update;else return this;return t=n.copy(n.htmlOptions,e,t),this.each(function(){f.call(this,n.copy(t))})};n.copy=function(){for(var i={},r={},n,t=0;t<arguments.length;t++)(n=arguments[t],n!=undefined)&&(jQuery.extend(i,n),n.flashvars!=undefined)&&jQuery.extend(r,n.flashvars);return i.flashvars=r,i};n.hasFlash=function(){function u(){var n=!1,t;try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");t&&(n=!0)}catch(i){navigator.mimeTypes["application/x-shockwave-flash"]!=undefined&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(n=!0)}return n}var i,r,t;if(/hasFlash\=true/.test(location))return navigator.appName!="Microsoft Internet Explorer"||u()?!0:!1;if(/hasFlash\=false/.test(location))return!1;for(i=n.hasFlash.playerVersion().match(/\d+/g),r=String([arguments[0],arguments[1],arguments[2]]).match(/\d+/g)||String(n.pluginOptions.version).match(/\d+/g),t=0;t<3;t++){if(i[t]=parseInt(i[t]||0),r[t]=parseInt(r[t]||0),i[t]<r[t])return!1;if(i[t]>r[t])return!0}return!0};n.hasFlash.playerVersion=function(){try{try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{n.AllowScriptAccess="always"}catch(t){return"6,0,0"}}catch(t){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){}}return"0,0,0"};n.htmlOptions={height:240,flashvars:{},pluginspage:"http://www.adobe.com/go/getflashplayer",src:"#",type:"application/x-shockwave-flash",width:320};n.pluginOptions={expressInstall:!1,update:!0,version:"6.0.65"};n.replace=function(t){jQuery(this).addClass("flash-replaced").append(n.transform(t))};n.update=function(){var n=String(location).split("?"),t;n.splice(1,0,"?hasFlash=true&");n=n.join("");t='<p>This content requires the Flash Player. <a href="http://www.adobe.com/go/getflashplayer">Download Flash Player<\/a>. Already have Flash Player? <a class="lnk-hasflash" href="'+n+'">Click here.<\/a><\/p>';this.innerHTML='<span class="alt">'+this.innerHTML+"<\/span>";jQuery(this).addClass("flash-update").prepend(t)};n.transform=function(n){return n.toString=t,n.flashvars&&(n.flashvars.toString=i),'<embed id="flashContent"'+String(n)+"/>"};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})}(),function(n){"use strict";var o=function(n,t){typeof t=="undefined"&&(t={});this.init(n,t)},t=o.prototype,f,e=["canvas","vml"],i=["oval","spiral","square","rect","roundRect"],v=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,c=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8?!0:!1,y=!!document.createElement("canvas").getContext,l=40,a=!0,u=function(n,t,i){var r=document.createElement(n),u;for(u in i)r[u]=i[u];return typeof t!="undefined"&&t.appendChild(r),r},r=function(n,t){for(var i in t)n.style[i]=t[i];return n},s=function(n,t){for(var i in t)n.setAttribute(i,t[i]);return n},h=function(n,t,i,r){n.save();n.translate(t,i);n.rotate(r);n.translate(-t,-i);n.beginPath()};t.init=function(n,t){var s,i;typeof t.safeVML=="boolean"&&(a=t.safeVML);try{this.mum=document.getElementById(n)!==undefined?document.getElementById(n):document.body}catch(h){this.mum=document.body}if(t.id=typeof t.id!="undefined"?t.id:"canvasLoader",this.cont=u("div",this.mum,{id:t.id}),y)f=e[0],this.can=u("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=r(u("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(f=e[1],typeof o.vmlSheet=="undefined")for(document.getElementsByTagName("head")[0].appendChild(u("style")),o.vmlSheet=document.styleSheets[document.styleSheets.length-1],s=["group","oval","roundrect","fill"],i=0;i<s.length;++i)o.vmlSheet.addRule(s[i],"behavior:url(#default#VML); position:absolute;");this.vml=u("group",this.cont)}this.setColor(this.color);this.draw();r(this.cont,{display:"none"})};t.cont={};t.can={};t.con={};t.cCan={};t.cCon={};t.timer={};t.activeId=0;t.diameter=40;t.setDiameter=function(n){this.diameter=Math.round(Math.abs(n));this.redraw()};t.getDiameter=function(){return this.diameter};t.cRGB={};t.color="#000000";t.setColor=function(n){this.color=v.test(n)?n:"#000000";this.cRGB=this.getRGB(this.color);this.redraw()};t.getColor=function(){return this.color};t.shape=i[0];t.setShape=function(n){var t;for(t in i)if(n===i[t]){this.shape=n;this.redraw();break}};t.getShape=function(){return this.shape};t.density=40;t.setDensity=function(n){this.density=a&&f===e[1]?Math.round(Math.abs(n))<=l?Math.round(Math.abs(n)):l:Math.round(Math.abs(n));this.density>360&&(this.density=360);this.activeId=0;this.redraw()};t.getDensity=function(){return this.density};t.range=1.3;t.setRange=function(n){this.range=Math.abs(n);this.redraw()};t.getRange=function(){return this.range};t.speed=2;t.setSpeed=function(n){this.speed=Math.round(Math.abs(n))};t.getSpeed=function(){return this.speed};t.fps=24;t.setFPS=function(n){this.fps=Math.round(Math.abs(n));this.reset()};t.getFPS=function(){return this.fps};t.getRGB=function(n){return n=n.charAt(0)==="#"?n.substring(1,7):n,{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16)}};t.draw=function(){var w=0,a,p,n,o,l,tt,d,b,nt=this.density,it=Math.round(nt*this.range),k,rt=0,ft,et,ut,st,y=1e3,ot=0,v=this.cCon,t=this.diameter,g=.47;if(f===e[0])for(v.clearRect(0,0,y,y),s(this.can,{width:t,height:t}),s(this.cCan,{width:t,height:t});w<nt;){k=w<=it?1-(1-rt)/it*w:k=rt;tt=270-360/nt*w;d=tt/180*Math.PI;v.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+k.toString()+")";switch(this.shape){case i[0]:case i[1]:a=t*.07;o=t*g+Math.cos(d)*(t*g-a)-t*g;l=t*g+Math.sin(d)*(t*g-a)-t*g;v.beginPath();this.shape===i[1]?v.arc(t*.5+o,t*.5+l,a*k,0,Math.PI*2,!1):v.arc(t*.5+o,t*.5+l,a,0,Math.PI*2,!1);break;case i[2]:a=t*.12;o=Math.cos(d)*(t*g-a)+t*.5;l=Math.sin(d)*(t*g-a)+t*.5;h(v,o,l,d);v.fillRect(o,l-a*.5,a,a);break;case i[3]:case i[4]:p=t*.3;n=p*.27;o=Math.cos(d)*(n+(t-n)*.13)+t*.5;l=Math.sin(d)*(n+(t-n)*.13)+t*.5;h(v,o,l,d);this.shape===i[3]?v.fillRect(o,l-n*.5,p,n):(b=n*.55,v.moveTo(o+b,l-n*.5),v.lineTo(o+p-b,l-n*.5),v.quadraticCurveTo(o+p,l-n*.5,o+p,l-n*.5+b),v.lineTo(o+p,l-n*.5+n-b),v.quadraticCurveTo(o+p,l-n*.5+n,o+p-b,l-n*.5+n),v.lineTo(o+b,l-n*.5+n),v.quadraticCurveTo(o,l-n*.5+n,o,l-n*.5+n-b),v.lineTo(o,l-n*.5+b),v.quadraticCurveTo(o,l-n*.5,o+b,l-n*.5))}v.closePath();v.fill();v.restore();++w}else{r(this.cont,{width:t,height:t});r(this.vml,{width:t,height:t});switch(this.shape){case i[0]:case i[1]:ut="oval";a=y*.14;break;case i[2]:ut="roundrect";a=y*.12;break;case i[3]:case i[4]:ut="roundrect";a=y*.3}for(p=n=a,o=y*.5-n,l=-n*.5;w<nt;){k=w<=it?1-(1-rt)/it*w:k=rt;tt=270-360/nt*w;switch(this.shape){case i[1]:p=n=a*k;o=y*.5-a*.5-a*k*.5;l=(a-a*k)*.5;break;case i[0]:case i[2]:c&&(l=0,this.shape===i[2]&&(o=y*.5-n*.5));break;case i[3]:case i[4]:p=a*.95;n=p*.28;c?(o=0,l=y*.5-n*.5):(o=y*.5-p,l=-n*.5);ot=this.shape===i[4]?.6:0}et=s(r(u("group",this.vml),{width:y,height:y,rotation:tt}),{coordsize:y+","+y,coordorigin:-y*.5+","+-y*.5});ft=r(u(ut,et,{stroked:!1,arcSize:ot}),{width:p,height:n,top:l,left:o});st=u("fill",ft,{color:this.color,opacity:k});++w}}this.tick(!0)};t.clean=function(){if(f===e[0])this.con.clearRect(0,0,1e3,1e3);else{var n=this.vml;if(n.hasChildNodes())while(n.childNodes.length>=1)n.removeChild(n.firstChild)}};t.redraw=function(){this.clean();this.draw()};t.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())};t.tick=function(n){var i=this.con,t=this.diameter;n||(this.activeId+=360/this.density*this.speed);f===e[0]?(i.clearRect(0,0,t,t),h(i,t*.5,t*.5,this.activeId/180*Math.PI),i.drawImage(this.cCan,0,0,t,t),i.restore()):(this.activeId>=360&&(this.activeId-=360),r(this.vml,{rotation:this.activeId}))};t.show=function(){if(typeof this.timer!="number"){var n=this;this.timer=self.setInterval(function(){n.tick()},Math.round(1e3/this.fps));r(this.cont,{display:"block"})}};t.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,r(this.cont,{display:"none"}))};t.kill=function(){var n=this.cont,t;typeof this.timer=="number"&&this.hide();f===e[0]?(n.removeChild(this.can),n.removeChild(this.cCan)):n.removeChild(this.vml);for(t in this)delete this[t]};n.CanvasLoader=o}(window),function(n,t,i){if(jQuery.fn.cssAnimate=function(t,i,r,u){return typeof i!="number"&&(u=r,r=i,i=400),typeof r=="function"&&(u=r,r=""),this.each(function(){var o;if(jQuery.fn.cssAnimate.hasTransitions){var e="transitionend",f="";e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}[Modernizr.prefixed("transition")];this.addEventListener(e,function(){this.removeEventListener(e,arguments.callee,!1);n(this).css({"-webkit-transition":"","-moz-transition":"","-o-transition":"","-ms-transition":"",transition:""});typeof u=="function"&&u()},!1);(typeof r=="undefined"||r=="swing")&&(r="ease");for(o in t)f!=""&&(f+=", "),f+=o+" "+i+"ms "+r;n(this).css({"-webkit-transition":f,"-moz-transition":f,"-o-transition":f,"-ms-transition":f,transition:f});n(this).css(t)}else r!="linear"&&(r="swing"),typeof u!="function"&&(onAnimationComplete=function(){}),n(this).animate(t,i,r,u)})},jQuery.fn.cssAnimate.hasTransitions=!1,typeof Modernizr!="undefined"&&typeof Modernizr.csstransitions!="undefined")jQuery.fn.cssAnimate.hasTransitions=Modernizr.csstransitions;else{var r=i.createElement("p").style;jQuery.fn.cssAnimate.hasTransitions="transition"in r||"WebkitTransition"in r||"MozTransition"in r||"msTransition"in r||"OTransition"in r}}(jQuery,window,document),function(n){function t(t,i){i||(n("#site-container").removeClass("overlay-helper"),n("#avlOverlay").fadeOut(t.overlayHideSpeed,function(){s(t)}))}function s(t){n("#avlOverlay").remove();t.onHide()}function i(t,i){n(t.target).parent().hasClass("avlModal")&&n(t.target).unwrap();i&&n(".avlModal").css("zIndex","10000");(n("object embed[type]").length>0&&n("object embed[type]").attr("type").match("java")||n("object[codeBase]").length>0&&n("object[codeBase]").attr("codeBase").match("java"))&&n("object").parent().css({width:"100%",height:"",position:"static",right:"",bottom:"",overflow:"show"});n(t.target).find(".avlModal-content").css({"max-height":"",height:""})}function h(t){return t.target!=""&&n(t.target).length||t.url!=""?!0:!1}function c(t){t.target!=""?r(t,n(t.target)):n.ajax({url:t.url,data:t.parameters,cache:t.cache,dataType:"html",method:"GET",success:function(n){t.onSuccess();r(t,n)}})}function r(t,i){n("#avlOverlay").length?f(t,i):(n(i).parent().append("<div id='avlOverlay'><!-- --><\/div>"),n("#avlOverlay").css({position:"absolute",zIndex:"9999",left:"0",top:"0",opacity:t.overlayOpacity,display:"none"}),t.overlayImage!=""?n("#avlOverlay").css({backgroundImage:"url("+t.overlayImage+")"}):n("#avlOverlay").css({backgroundColor:t.overlayColor}),u(),n("#site-container").addClass("overlay-helper"),n("#avlOverlay").fadeIn(t.overlayShowSpeed,function(){}),f(t,i))}function u(){n("#avlOverlay").css({position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",transform:"translateZ(1px)"})}function l(n){return!isNaN(parseFloat(n))&&isFinite(n)}function f(t,i){var u,f,r;n(".avlModal").length>0&&n(".avlModal").css("zIndex","9998");n(i).wrap("<div class='avlModal' />").removeClass("avlModal-container");r=n(i).parent();n(i).find(".avlModal-content-wrapper").length==0&&(n(i).find(".avlModal-content").wrapInner("<div class='avlModal-content-wrapper' />"),n(i).data("initialHeight",r.height()).data("initialWidth",parseInt(t.width)).data("modalShowSpeed",t.modalShowSpeed).data("initialContentHeight",n(i).find(".avlModal-content").height()).data("windowBuffer",t.windowBuffer));f=n(i).find(".avlModal-content-wrapper")[0];t.showCloseButton&&n(t.target).find(".avlModal-close").length==0&&n(i).find(".avlModal-wrapper").find(".avlModal-close").length<1&&(n(i).find(".avlModal-wrapper").append("<a href='#close' class='avlModal-close' title='Close this modal window'><i id='closeModalIcon' class='icon-cancel'><\/i><\/a>"),n(i).find(".avlModal-close").attr("onclick","return $.closeModal({ target: '#"+n(i).attr("id")+"', onClose:"+t.closeButtonFunction+"});"));u=parseInt(i.find(".avlModal-wrapper").css("padding"));l(u)||(u=0);r.css({zIndex:"10000",transform:"translateZ(1px)",width:parseInt(t.width)+u,height:"auto"});setModalPosition("show",r,t);OpenModals.push({modal:r[0],modalContent:f,previousHeight:f.scrollHeight});OpenModals.length==1&&e();(n("object embed[type]").length>0&&n("object embed[type]").attr("type").match("java")||n("object[codeBase]").length>0&&n("object[codeBase]").attr("codeBase").match("java"))&&n("object").parent().css({width:"1px",top:"99%",height:"1px",right:"0px",bottom:"0px",position:"absolute",overflow:"hidden"})}function e(){OpenModals.length>0&&(requestAnimFrame(e),CheckModalContentSize())}var o;n.openModal=function(t){if(t=jQuery.extend({width:"700px",height:null,windowBuffer:null,overlayOpacity:"0.5",overlayImage:"",overlayColor:"#000",overlayShowSpeed:500,modalShowSpeed:400,useTransitions:!0,showCloseButton:!0,enableTabKeyInModalOnly:!1,closeButtonFunction:function(){},target:"",url:"",parameters:{},cache:!1,onShow:function(){},onComplete:function(){},onSuccess:function(){},onError:function(){}},t),n(t.target).parent().hasClass("avlModal"))return!1;n(t.target).find(".avlModal-close").removeAttr("onclick").off("click").on("click",function(){return n.closeModal({target:"#"+n(t.target).attr("id"),onClose:t.closeButtonFunction})});return t.onShow(),o=t,h(t)&&c(t),t.enableTabKeyInModalOnly&&n(t.target).modalTabbing(),!1};n.closeModal=function(r){r=jQuery.extend({overlayHideSpeed:500,modalHideSpeed:400,target:"",useTransitions:!0,onClose:function(){},onHide:function(){}},r);var f=n(".avlModal").length>1?!0:!1,u,e;r.onClose(r);for(u=0,e=OpenModals.length;u<e;u++)if(n(r.target).parent()[0]==OpenModals[u].modal){OpenModals.splice(u,1);break}return AVL.UTILITIES.FUNCTIONS.GoForTransitions(r.useTransitions)?(n(r.target).find(".avlModal-wrapper").addClass("hide"),t(r,f),n(r.target).find(".avlModal-wrapper").removeClass("hide").removeClass("show"),n(r.target).addClass("avlModal-container"),i(r,f)):(t(r,f),n(r.target).addClass("avlModal-container"),i(r,f)),!1};setModalPosition=function(t,i,r){var f,e,u;i.each(function(){var i=n(this),a=i.children()[0],p=i.find(".avlModal-header"),v=i.find(".avlModal-content"),c=i.find(".avlModal-close"),ut=i.find(".avlModal-wrapper"),o=6,w=5,nt=p.length>0?p.outerHeight(!0):0,b=c.length>0?c.height()/3-w:0,y=c.length>0?c.width()/3-w:0,s=n(a).data("windowBuffer")||30,tt=i.find(".avlModal-wrapper").css("padding-left").replace("px","")*2,k=n(window).height(),it=n(window).width(),d="auto",l=it-s,h=n(a).data("initialWidth"),rt=i.css({"max-width":l}).find(".avlModal-content-wrapper")[0].scrollHeight,g=rt-v.height()+i.height();isNaN(o)&&(o=0);g+b+s+o>=k?(f=k-s-b,d=f+v.height()-i.height()+"px"):f=g;e=(n(window).height()+y+o-f-s/2)/2;u=h>l?(n(window).width()+y+o-l-s/2)/2:(n(window).width()+y+o-h-s/2)/2;v.css("height",d);t==="show"&&(i.css({position:"fixed",top:Math.round(e),left:Math.round(u),height:"auto",width:h,display:"block"}),AVL.UTILITIES.FUNCTIONS.GoForTransitions(r.useTransitions)?(i.find(".avlModal-wrapper").addClass("show"),r!=undefined&&r.onComplete()):(i.find(".avlModal-wrapper").addClass("no-trans").css({opacity:1}),i.animate({left:Math.round(u),width:h},n(a).data("modalShowSpeed"),"easeInOutExpo",function(){i.animate({top:Math.round(e),height:"auto"},400,"easeInOutExpo",function(){n(this).parent().parent().css({minHeight:nt+tt/2});r!=undefined&&r.onComplete()})})));t==="resize"&&i.css({top:Math.round(e),left:Math.round(u),height:"auto",width:h,"max-width":l,display:"block"})})};n(window).on("resize onorientationchange",function(){n(".avlModal").is(":visible")&&(u(),setModalPosition("resize",n(".avlModal:visible")))});OpenModals=[];CheckModalContentSize=function(){var i=0,r=0,t=0,u=OpenModals.length,f=document.getElementsByTagName("HTML")[0].scrollHeight;if(u)for(t=0;t<u;t++)i=OpenModals[t].modalContent.scrollHeight,r=OpenModals[t].modal.scrollHeight,(OpenModals[t].previousHeight!=i||r>f)&&setModalPosition("resize",n(OpenModals[t].modal)),OpenModals[t].previousHeight=i};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}();n.fn.modalTabbing=function(){var t=function(t){var i=n(t).find("select, input, textarea, button, a[href]").filter(":visible").not(":disabled");i.first().trigger("focus");n(t).on("keydown",function(i){if(i.which===9){var r=n(t).find("select, input, textarea, button, a[href]").filter(":visible").not(":disabled");i.shiftKey?r[0]===i.target&&(i.preventDefault(),r.last().trigger("focus")):r[r.length-1]===i.target&&(i.preventDefault(),r.first().trigger("focus"))}})};return this.each(function(){t(this)})}}(jQuery);FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(n){"use strict";switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(this.deviceIsIOS&&n.type==="file"||n.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(n.className)};FastClick.prototype.needsFocus=function(n){"use strict";switch(n.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};FastClick.prototype.sendClick=function(n,t){"use strict";var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};FastClick.prototype.focus=function(n){"use strict";var t;this.deviceIsIOS&&n.setSelectionRange?(t=n.value.length,n.setSelectionRange(t,t)):n.focus()};FastClick.prototype.updateScrollParent=function(n){"use strict";var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};FastClick.prototype.getTargetElementFromEventTarget=function(n){"use strict";return n.nodeType===Node.TEXT_NODE?n.parentNode:n};FastClick.prototype.onTouchStart=function(n){"use strict";var i,t,r;if(n.targetTouches.length>1)return!0;if(i=this.getTargetElementFromEventTarget(n.target),t=n.targetTouches[0],this.deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!this.deviceIsIOS4){if(t.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=t.identifier;this.updateScrollParent(i)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=i,this.touchStartX=t.pageX,this.touchStartY=t.pageY,n.timeStamp-this.lastClickTime<200&&n.preventDefault(),!0};FastClick.prototype.touchHasMoved=function(n){"use strict";var t=n.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1};FastClick.prototype.onTouchMove=function(n){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(n.target)||this.touchHasMoved(n))&&(this.trackingClick=!1,this.targetElement=null),!0):!0};FastClick.prototype.findControl=function(n){"use strict";return n.control!==undefined?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(n){"use strict";var u,e,i,r,f,t=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.lastClickTime=n.timeStamp,e=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=n.changedTouches[0],t=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||t,t.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=t.tagName.toLowerCase(),i==="label"){if(u=this.findControl(t),u){if(this.focus(t),this.deviceIsAndroid)return!1;t=u}}else if(this.needsFocus(t))return n.timeStamp-e>100||this.deviceIsIOS&&window.top!==window&&i==="input"?(this.targetElement=null,!1):(this.focus(t),this.deviceIsIOS4&&i==="select"||(this.targetElement=null,n.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(r=t.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(t)||(n.preventDefault(),this.sendClick(t,n)),!1)};FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1;this.targetElement=null};FastClick.prototype.onMouse=function(n){"use strict";return this.targetElement?n.forwardedTouchEvent?!0:n.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0:!0:!0};FastClick.prototype.onClick=function(n){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):n.target.type==="submit"&&n.detail===0?!0:(t=this.onMouse(n),t||(this.targetElement=null),t)};FastClick.prototype.destroy=function(){"use strict";var n=this.layer;this.deviceIsAndroid&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchmove",this.onTouchMove,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};FastClick.notNeeded=function(n){"use strict";var t;if(typeof window.ontouchstart=="undefined")return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent))if(FastClick.prototype.deviceIsAndroid){if(t=document.querySelector("meta[name=viewport]"),t&&t.content.indexOf("user-scalable=no")!==-1)return!0}else return!0;return n.style.msTouchAction==="none"?!0:!1};FastClick.attach=function(n){"use strict";return new FastClick(n)};typeof define!="undefined"&&define.amd?define(function(){"use strict";return FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(n,t){"use strict";function e(){if(!i.READY){i.event.determineEventTypes();for(var n in i.gestures)i.gestures.hasOwnProperty(n)&&i.detection.register(i.gestures[n]);i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect);i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect);i.READY=!0}}var i=function(n,t){return new i.Instance(n,t||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;i.HAS_TOUCHEVENTS="ontouchstart"in n;i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&navigator.userAgent.match(i.MOBILE_REGEX);i.EVENT_TYPES={};i.DIRECTION_DOWN="down";i.DIRECTION_LEFT="left";i.DIRECTION_UP="up";i.DIRECTION_RIGHT="right";i.POINTER_MOUSE="mouse";i.POINTER_TOUCH="touch";i.POINTER_PEN="pen";i.EVENT_START="start";i.EVENT_MOVE="move";i.EVENT_END="end";i.DOCUMENT=document;i.plugins={};i.READY=!1;i.Instance=function(n,t){var r=this;e();this.element=n;this.enabled=!0;this.options=i.utils.extend(i.utils.extend({},i.defaults),t||{});this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior);i.event.onTouch(n,i.EVENT_START,function(n){r.enabled&&i.detection.startDetect(r,n)});return this};i.Instance.prototype={on:function(n,t){for(var r=n.split(" "),i=0;i<r.length;i++)this.element.addEventListener(r[i],t,!1);return this},off:function(n,t){for(var r=n.split(" "),i=0;i<r.length;i++)this.element.removeEventListener(r[i],t,!1);return this},trigger:function(n,t){var u=i.DOCUMENT.createEvent("Event"),r;return u.initEvent(n,!0,!0),u.gesture=t,r=this.element,i.utils.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(u),this},enable:function(n){return this.enabled=n,this}};var r=null,f=!1,u=!1;i.event={bindDom:function(n,t,i){for(var u=t.split(" "),r=0;r<u.length;r++)n.addEventListener(u[r],i,!1)},onTouch:function(n,t,e){var o=this;this.bindDom(n,i.EVENT_TYPES[t],function(s){var c=s.type.toLowerCase(),h;c.match(/mouse/)&&u||((c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&s.which===1)&&(f=!0),c.match(/touch|pointer/)&&(u=!0),h=0,f&&(i.HAS_POINTEREVENTS&&t!=i.EVENT_END?h=i.PointerEvent.updatePointer(t,s):c.match(/touch/)?h=s.touches.length:u||(h=c.match(/up/)?0:1),h>0&&t==i.EVENT_END?t=i.EVENT_MOVE:h||(t=i.EVENT_END),h||r===null?r=s:s=r,e.call(i.detection,o.collectEventData(n,t,s)),i.HAS_POINTEREVENTS&&t==i.EVENT_END&&(h=i.PointerEvent.updatePointer(t,s))),h||(r=null,f=!1,u=!1,i.PointerEvent.reset()))})},determineEventTypes:function(){var n;n=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];i.EVENT_TYPES[i.EVENT_START]=n[0];i.EVENT_TYPES[i.EVENT_MOVE]=n[1];i.EVENT_TYPES[i.EVENT_END]=n[2]},getTouchList:function(n){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():n.touches?n.touches:[{identifier:1,pageX:n.pageX,pageY:n.pageY,target:n.target}]},collectEventData:function(n,t,r){var u=this.getTouchList(r,t),f=i.POINTER_TOUCH;return(r.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,r))&&(f=i.POINTER_MOUSE),{center:i.utils.getCenter(u),timeStamp:(new Date).getTime(),target:r.target,touches:u,eventType:t,pointerType:f,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation();this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}};i.PointerEvent={pointers:{},getTouchList:function(){var n=this,t=[];return Object.keys(n.pointers).sort().forEach(function(i){t.push(n.pointers[i])}),t},updatePointer:function(n,t){return n==i.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(n,t){if(!t.pointerType)return!1;var r={};return r[i.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==i.POINTER_MOUSE,r[i.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==i.POINTER_TOUCH,r[i.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==i.POINTER_PEN,r[n]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};i.utils={extend:function(n,i,r){for(var u in i)n[u]!==t&&r||(n[u]=i[u]);return n},hasParent:function(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1},getCenter:function(n){for(var i=[],r=[],t=0,u=n.length;t<u;t++)i.push(n[t].pageX),r.push(n[t].pageY);return{pageX:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2,pageY:(Math.min.apply(Math,r)+Math.max.apply(Math,r))/2}},getVelocity:function(n,t,i){return{x:Math.abs(t/n)||0,y:Math.abs(i/n)||0}},getAngle:function(n,t){var i=t.pageY-n.pageY,r=t.pageX-n.pageX;return Math.atan2(i,r)*180/Math.PI},getDirection:function(n,t){var r=Math.abs(n.pageX-t.pageX),u=Math.abs(n.pageY-t.pageY);return r>=u?n.pageX-t.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:n.pageY-t.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(n,t){var i=t.pageX-n.pageX,r=t.pageY-n.pageY;return Math.sqrt(i*i+r*r)},getScale:function(n,t){return n.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(n[0],n[1]):1},getRotation:function(n,t){return n.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(n[1],n[0]):0},isVertical:function(n){return n==i.DIRECTION_UP||n==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(n,t){var i,f=["webkit","khtml","moz","ms","o",""],r,u;if(t&&n.style){for(r=0;r<f.length;r++)for(u in t)t.hasOwnProperty(u)&&(i=u,f[r]&&(i=f[r]+i.substring(0,1).toUpperCase()+i.substring(1)),n.style[i]=t[u]);t.userSelect=="none"&&(n.onselectstart=function(){return!1})}}};i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(n,t){this.current||(this.stopped=!1,this.current={inst:n,startEvent:i.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(n){var u,t,f,r;if(this.current&&!this.stopped){for(n=this.extendEventData(n),u=this.current.inst.options,t=0,f=this.gestures.length;t<f;t++)if(r=this.gestures[t],!this.stopped&&u[r.name]!==!1&&r.handler.call(r,n,this.current.inst)===!1){this.stopDetect();break}return this.current&&(this.current.lastEvent=n),n.eventType==i.EVENT_END&&!n.touches.length-1&&this.stopDetect(),n}},stopDetect:function(){this.previous=i.utils.extend({},this.current);this.current=null;this.stopped=!0},extendEventData:function(n){var t=this.current.startEvent,r,u;if(t&&(n.touches.length!=t.touches.length||n.touches===t.touches))for(t.touches=[],r=0,u=n.touches.length;r<u;r++)t.touches.push(i.utils.extend({},n.touches[r]));var f=n.timeStamp-t.timeStamp,e=n.center.pageX-t.center.pageX,o=n.center.pageY-t.center.pageY,s=i.utils.getVelocity(f,e,o);return i.utils.extend(n,{deltaTime:f,deltaX:e,deltaY:o,velocityX:s.x,velocityY:s.y,distance:i.utils.getDistance(t.center,n.center),angle:i.utils.getAngle(t.center,n.center),direction:i.utils.getDirection(t.center,n.center),scale:i.utils.getScale(t.touches,n.touches),rotation:i.utils.getRotation(t.touches,n.touches),startEvent:t}),n},register:function(n){var r=n.defaults||{};return r[n.name]===t&&(r[n.name]=!0),i.utils.extend(i.defaults,r,!0),n.index=n.index||1e3,this.gestures.push(n),this.gestures.sort(function(n,t){return n.index<t.index?-1:n.index>t.index?1:0}),this.gestures}};i.gestures=i.gestures||{};i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(n,t){switch(n.eventType){case i.EVENT_START:clearTimeout(this.timer);i.detection.current.name=this.name;this.timer=setTimeout(function(){i.detection.current.name=="hold"&&t.trigger("hold",n)},t.options.hold_timeout);break;case i.EVENT_MOVE:n.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}};i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(n,t){if(n.eventType==i.EVENT_END){var r=i.detection.previous,u=!1;if(n.deltaTime>t.options.tap_max_touchtime||n.distance>t.options.tap_max_distance)return;r&&r.name=="tap"&&n.timeStamp-r.lastEvent.timeStamp<t.options.doubletap_interval&&n.distance<t.options.doubletap_distance&&(t.trigger("doubletap",n),u=!0);(!u||t.options.tap_always)&&(i.detection.current.name="tap",t.trigger(i.detection.current.name,n))}}};i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(n,t){if(n.eventType==i.EVENT_END){if(t.options.swipe_max_touches>0&&n.touches.length>t.options.swipe_max_touches)return;(n.velocityX>t.options.swipe_velocity||n.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,n),t.trigger(this.name+n.direction,n))}}};i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(n,t){if(i.detection.current.name!=this.name&&this.triggered){t.trigger(this.name+"end",n);this.triggered=!1;return}if(!(t.options.drag_max_touches>0)||!(n.touches.length>t.options.drag_max_touches))switch(n.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(n.distance<t.options.drag_min_distance&&i.detection.current.name!=this.name)return;i.detection.current.name=this.name;(i.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=n.distance)&&(n.drag_locked_to_axis=!0);var r=i.detection.current.lastEvent.direction;n.drag_locked_to_axis&&r!==n.direction&&(n.direction=i.utils.isVertical(r)?n.deltaY<0?i.DIRECTION_UP:i.DIRECTION_DOWN:n.deltaX<0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT);this.triggered||(t.trigger(this.name+"start",n),this.triggered=!0);t.trigger(this.name,n);t.trigger(this.name+n.direction,n);(t.options.drag_block_vertical&&i.utils.isVertical(n.direction)||t.options.drag_block_horizontal&&!i.utils.isVertical(n.direction))&&n.preventDefault();break;case i.EVENT_END:this.triggered&&t.trigger(this.name+"end",n);this.triggered=!1}}};i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(n,t){if(i.detection.current.name!=this.name&&this.triggered){t.trigger(this.name+"end",n);this.triggered=!1;return}if(!(n.touches.length<2)){t.options.transform_always_block&&n.preventDefault();switch(n.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var r=Math.abs(1-n.scale),u=Math.abs(n.rotation);if(r<t.options.transform_min_scale&&u<t.options.transform_min_rotation)return;i.detection.current.name=this.name;this.triggered||(t.trigger(this.name+"start",n),this.triggered=!0);t.trigger(this.name,n);u>t.options.transform_min_rotation&&t.trigger("rotate",n);r>t.options.transform_min_scale&&(t.trigger("pinch",n),t.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case i.EVENT_END:this.triggered&&t.trigger(this.name+"end",n);this.triggered=!1}}}};i.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(n,t){if(t.options.prevent_mouseevents&&n.pointerType==i.POINTER_MOUSE){n.stopDetect();return}t.options.prevent_default&&n.preventDefault();n.eventType==i.EVENT_START&&t.trigger(this.name,n)}};i.gestures.Release={name:"release",index:Infinity,handler:function(n,t){n.eventType==i.EVENT_END&&t.trigger(this.name,n)}};typeof module=="object"&&typeof module.exports=="object"?module.exports=i:(n.Hammer=i,typeof n.define=="function"&&n.define.amd&&n.define("hammer",[],function(){return i}))}(this),function(n,t){"use strict";n!==t&&(Hammer.event.bindDom=function(i,r,u){n(i).on(r,function(n){var i=n.originalEvent||n;i.pageX===t&&(i.pageX=n.pageX,i.pageY=n.pageY);i.target||(i.target=n.target);i.which===t&&(i.which=i.button);i.preventDefault||(i.preventDefault=n.preventDefault);i.stopPropagation||(i.stopPropagation=n.stopPropagation);u.call(this,i)})},Hammer.Instance.prototype.on=function(t,i){return n(this.element).on(t,i)},Hammer.Instance.prototype.off=function(t,i){return n(this.element).off(t,i)},Hammer.Instance.prototype.trigger=function(t,i){var r=n(this.element);return r.has(i.target).length&&(r=n(i.target)),r.trigger({type:t,gesture:i})},n.fn.hammer=function(t){return this.each(function(){var r=n(this),i=r.data("hammer");i?i&&t&&Hammer.utils.extend(i.options,t):r.data("hammer",new Hammer(this,t||{}))})})}(window.jQuery||window.Zepto),function(n){"use strict";n.fn.extend({customSelect:function(t){if(typeof document.body.style.maxHeight=="undefined")return this;var t=n.extend({customClass:"customSelect",mapClass:!0,mapStyle:!0},t),u=t.customClass,r=function(t,r){var u=t.find(":selected"),f=r.children(":first"),e=u.html()||"&nbsp;";f.html(e);u.attr("disabled")?r.addClass(i("DisabledOption")):r.removeClass(i("DisabledOption"));setTimeout(function(){r.removeClass(i("Open"));n(document).off("mouseup."+i("Open"))},60)},i=function(n){return u+n};return this.each(function(){var e=n(this),o=n("<span />").addClass(i("Inner")),f=n("<span />");e.hasClass("hasCustomSelect")||(e.after(f.append(o)),f.addClass(u),t.mapClass&&f.addClass(e.attr("class")),t.mapStyle&&f.attr("style",e.attr("style")),e.addClass("hasCustomSelect").on("update",function(){var n,t;r(e,f);n=parseInt(e.outerWidth(),10)-(parseInt(f.outerWidth(),10)-parseInt(f.width(),10));f.css({display:"inline-block"});t=f.outerHeight();e.attr("disabled")?f.addClass(i("Disabled")):f.removeClass(i("Disabled"));o.css({"padding-right":"30px",display:"inline-block"});e.css({"-webkit-appearance":"menulist-button",width:"100%",position:"absolute",opacity:0,zIndex:"3",height:e.closest("p").height(),fontSize:f.css("font-size")})}).on("change",function(){f.addClass(i("Changed"));r(e,f)}).on("keyup",function(n){f.hasClass(i("Open"))?(n.which==13||n.which==27)&&r(e,f):(e.blur(),e.focus())}).on("mousedown",function(){f.removeClass(i("Changed"))}).on("mouseup",function(t){if(!f.hasClass(i("Open")))if(n("."+i("Open")).not(f).length>0&&typeof InstallTrigger!="undefined")e.focus();else{f.addClass(i("Open"));t.stopPropagation();n(document).one("mouseup."+i("Open"),function(t){t.target!=e.get(0)&&n.inArray(t.target,e.find("*").get())<0?e.blur():r(e,f)})}}).focus(function(){f.removeClass(i("Changed")).addClass(i("Focus"))}).blur(function(){f.removeClass(i("Focus")+" "+i("Open"))}).hover(function(){f.addClass(i("Hover"))},function(){f.removeClass(i("Hover"))}).trigger("update"))})}})}(jQuery);typeof JSON!="object"&&(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function o(n){return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function u(i,f){var s,l,h,a,v=n,c,e=f[i];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(i));typeof t=="function"&&(e=t.call(f,i,e));switch(typeof e){case"string":return o(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=r,c=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,s=0;s<a;s+=1)c[s]=u(s,e)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));else for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(h=u(l,e),h&&c.push(o(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",r="",typeof e=="number")for(o=0;o<e;o+=1)r+=" ";else typeof e=="string"&&(r=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return u("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(n,t){var r,u,i=n[t];if(i&&typeof i=="object")for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(u=walk(i,r),u!==undefined?i[r]=u:delete i[r]);return reviver.call(n,t,i)}var j;if(text=String(text),f.lastIndex=0,f.test(text)&&(text=text.replace(f,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");})}();AVL=AVL||{};AVL.RESPONSIVEFORM=AVL.RESPONSIVEFORM||{};AVL.RESPONSIVEFORM.CORE={NewFormContent:!0,BypassPhoneCountryCode:typeof phoneOptional!="undefined"?phoneOptional:!1,UseSisyphus:typeof bypassLocalStorage=="undefined"||typeof bypassLocalStorage!="undefined"&&!bypassLocalStorage,INIT:{Init:function(){var n=$(".responsive-form");AVL.RESPONSIVEFORM.CORE.INIT.InitResponsiveForms(n);AVL.RESPONSIVEFORM.CORE.INIT.InitAutoFillCatches(n)},InitAutoFillCatches:function(n){setTimeout(function(){AVL.RESPONSIVEFORM.CORE.INIT.InitFormLabels(n)},100)},InitResponsiveForms:function(n){AVL.RESPONSIVEFORM.CORE.INIT.InitSisyphus(n);AVL.RESPONSIVEFORM.CORE.INIT.InitFormWarningContainers(n);AVL.RESPONSIVEFORM.CORE.INIT.InitFormMasks(n);AVL.RESPONSIVEFORM.CORE.INIT.InitFormStatusIcons(n);AVL.RESPONSIVEFORM.CORE.INIT.InitFormInputs(n);AVL.RESPONSIVEFORM.CORE.INIT.InitFormInstantValidation(n);AVL.RESPONSIVEFORM.CORE.INIT.InitUSPhoneInputs(n);AVL.RESPONSIVEFORM.CORE.INIT.InitAddressInputs(n);AVL.RESPONSIVEFORM.CORE.INIT.InitAddressModal();AVL.RESPONSIVEFORM.CORE.INIT.InitFormLabels(n);AVL.RESPONSIVEFORM.CORE.INIT.InitFormButtons(n);AVL.RESPONSIVEFORM.CORE.INIT.InitAlertBoxIcons();$(".txt-state").find(".textbox").attr("maxlength","30")},InitSisyphus:function(n){AVL.RESPONSIVEFORM.CORE.UseSisyphus&&($("#phustrigger").length===0&&$("#address-container").append("<input id='phustrigger' type='checkbox' style='display:none;' />"),n.is("fieldset")?n.sisyphus({excludeFields:$(".no-sisy, input[type='hidden'], .no-sisy input[type='radio'], .no-sisy input[type='checkbox']"),includeFields:$("input.has-sisy"),customKeySuffix:document.domain+window.location.pathname.replace(/\//g,"_")+"_"}):(n.find("fieldset").each(function(){$(this).sisyphus({excludeFields:$(".no-sisy, input[type='hidden'], .no-sisy input[type='radio'], .no-sisy input[type='checkbox']"),includeFields:$("input.has-sisy"),customKeySuffix:document.domain+window.location.pathname.replace(/\//g,"_")+"_"})}),AVL.RESPONSIVEFORM.CORE.UTILITIES.RemoveInputScriptTags(n)))},InitAddressInputs:function(n){var t=n.find(".dd-country .dropdown").length>0&&typeof n.find(".dd-country .dropdown option[selected='selected']").val()!="undefined"?n.find(".dd-country .dropdown option[selected='selected']").val().toLowerCase():"";AVL.RESPONSIVEFORM.CORE.DOM.SetCountryRelatedInputStates(n,t,!1);AVL.RESPONSIVEFORM.CORE.UTILITIES.PrefixPhoneWithCountryCode(n,t,AVL.RESPONSIVEFORM.CORE.NewFormContent,AVL.RESPONSIVEFORM.CORE.BypassPhoneCountryCode);n.find(".dd-country .dropdown").on("change",function(){$("#update-action").text("country-updated")});n.find(".dd-opt-states .dropdown, .txt-opt-state .textbox").on("change",function(){$("#update-action").text("states-updated")});n.find(".txt-address1 .textbox").each(function(){var n=$(this).closest(".responsive-form");$(this).on("keydown",function(n){n.keyCode===$.ui.keyCode.TAB&&$(this).data("ui-autocomplete").menu.active&&n.preventDefault()}).autocomplete({position:{my:"left top",at:"left bottom-1",of:n.find(".txt-address1")},delay:0,source:function(t,i){var f=n.find(".txt-address1 .textbox"),r=$.trim(f.val()),e=n.find(".dd-country .dropdown").val(),u;r!==""&&r.length>1&&e==="US"&&(u={testing:!1,companyname:n.find(".txt-company .textbox").val(),addressline1:n.find(".txt-address1 .textbox").val(),addressline2:n.find(".txt-address2 .textbox").val(),addressline3:n.find(".txt-address3 .textbox").val(),city:n.find(".txt-city .textbox").val(),state:n.find(".dd-states .dropdown").val(),zipCode:n.find(".txt-zipcode .textbox").val(),country:n.find(".dd-country .dropdown").val()},$.ajax({url:"/MyAccount/CommonControls/ResponsiveForms/Handlers/UPSAddressValidationStreetLevel.ashx",type:"POST",data:JSON.stringify(u),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){var t=n.AddressKeyFormats;if(t.length>0){var r=[],u=[],f=[];AVL.RESPONSIVEFORM.VALIDATION.ShowJSONAddressData&&console.log(t);$.each(t,function(n){r.push(AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[n].AddressLine1)+", "+AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[n].PoliticalDivision2)+" "+t[n].PoliticalDivision1+" "+AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[n].PostcodePrimaryLow))});$.each(r,function(n,i){$.inArray(i,u)===-1&&(u.push(i),f.push(t[n]))});i($.map(f,function(n){return{data:{address1:AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(n.AddressLine1),city:AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(n.PoliticalDivision2),state:n.PoliticalDivision1,zip:n.PostcodePrimaryLow},value:AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(n.AddressLine1),label:AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(n.AddressLine1)+", "+AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(n.PoliticalDivision2)+" "+n.PoliticalDivision1+" "+n.PostcodePrimaryLow}}))}}}))},minLength:2,select:function(t,i){var s,r;AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".txt-address1"),n.find(".txt-address1 .textbox"),i.item.data.address1,!0);AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".txt-zipcode"),n.find(".txt-zipcode .textbox"),i.item.data.zip,!0);AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".txt-city"),n.find(".txt-city .textbox"),i.item.data.city,!0);AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(n.find(".txt-address1"),n.find(".txt-address1 .textbox"),!1,!1);n.find(".dd-states .dropdown").trigger("focus").val(i.item.data.state).trigger("blur").trigger("update");var u=n.find(".txt-address1 .textbox").val(),h=n.find(".txt-address2 .textbox").val(),f=n.find(".txt-city .textbox").val(),e=n.find(".dd-states .dropdown").val(),o=n.find(".txt-zipcode .textbox").val();u!==""&&f!==""&&e!==""&&o!==""&&(s="<address><addressline1>"+u+"<\/addressline1><addressline2>"+h+"<\/addressline2><city>"+f+"<\/city><state>"+e+"<\/state><zip>"+o+"<\/zip><\/address>",r=!1,$.ajax({type:"POST",url:"/SiteUtilities/AddressVerification.aspx",contentType:"text/xml",dataType:"text",data:s,success:function(t){var u=$.parseXML(t),f=$(u),i=f.find("ismissingaptnumber");i!=null&&i!==""?(r=i.text().toLowerCase()==="true",r?(n.find(".txt-address2").attr("title","Please enter your Apt, Suite, Bldg. (required)."),n.find(".txt-address2 .textbox").trigger("focus"),n.find(".txt-address2 label em").text("(required)")):(n.find(".txt-address2").attr("title","Please enter your Apt, Suite, Bldg. (if applicable)."),n.find(".txt-address2 label em").text("(if applicable)"),AVL.RESPONSIVEFORM.CORE.UTILITIES.FocusNextFocusableEmptyInput(n,n.find(".dd-states .dropdown")))):(n.find(".txt-address2 label em").text("(if applicable)"),AVL.RESPONSIVEFORM.CORE.UTILITIES.FocusNextFocusableEmptyInput(n,n.find(".dd-states .dropdown")))},fail:function(){n.find(".txt-address2 label em").text("(if applicable)");n.find(".txt-address2 .textbox").trigger("focus")}}))},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all");n.find(".txt-address1 .textbox").trigger("change")}})})},InitUSPhoneInputs:function(){if($("input[data-validation='req-phone-us']").length>0){AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber($("input[data-validation='req-phone-us']"),$("input[data-validation='req-phone-us']").val(),!0);$("input[data-validation='req-phone-us']").on("change",function(){var n=$(this);AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(n,n.val(),!0)})}if($("input[data-validation='opt-phone-us']").length>0){AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber($("input[data-validation='opt-phone-us']"),$("input[data-validation='opt-phone-us']").val(),!0);$("input[data-validation='opt-phone-us']").on("change",function(){var n=$(this);AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(n,n.val(),!0)})}},InitAddressModal:function(){$("body").on("click","#ar-change",function(){var n="#"+$(this).attr("data-address1ID"),t=$(n).closest(".responsive-form");return t.find(".txt-address1 .textbox").trigger("focus"),$(this).attr("data-showDeliveryModal")==="true",$.closeModal({target:"#address-results"})});$("body").on("click","#ar-certify",function(){var n="#"+$(this).attr("data-address1ID"),t=$(n).closest(".responsive-form");return $("#address-results").find("#addressCertified").val("true"),AVL.RESPONSIVEFORM.VALIDATION.AddressCertified=!0,t.find(".txt-address1 .textbox").trigger("change"),$.closeModal({target:"#address-results"})});$("body").on("click",".ar-choice",function(){var r="#"+$(this).attr("data-address1ID"),n=$(r).closest(".responsive-form"),t=$("#address-results").data("addresses"),i=$(this).prop("rel");return t!=null&&t.length>0&&(AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".txt-address1"),n.find(".txt-address1 .textbox"),AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[i].AddressLine1),!0),AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".txt-address2"),n.find(".txt-address2 .textbox"),AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[i].AddressLine2),!0),AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".txt-city"),n.find(".txt-city .textbox"),AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[i].PoliticalDivision2),!0),AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".dd-states"),n.find(".dd-states .dropdown"),t[i].PoliticalDivision1,!0),AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".txt-zipcode"),n.find(".txt-zipcode .textbox"),t[i].PostcodePrimaryLow,!0),AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(n.find(".txt-address1"),n.find(".txt-address1 .textbox"),!1,!1)),$.closeModal({target:"#address-results"})})},InitAlertBoxIcons:function(){$(".success-message").each(function(){AVL.RESPONSIVEFORM.CORE.DOM.AddAlertBoxIcon($(this),"icon-ok")})},InitFormWarningContainers:function(n){var t=n.is("fieldset")?n:n.find("fieldset");t.each(function(){var n=$(this),t="<div class='warning-messages'><\/div>";n.find("div.warning-messages").length||(n.find("legend").length===0?n.find("ul:first").before(t):n.find("legend").after(t))});$(".responsive-form").on("click",".bypass-field-link",function(){var n="bypassed-"+$(this).attr("data-element-id");return $("#"+n).length===0&&$("body").append("<div id='"+n+"'><\/div>"),AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.ValidateInput($("#"+$(this).attr("data-element-id"))),!1})},InitFormMasks:function(n){var t=n.find("ul li p, ul li div");t.on("click",function(){$(this).hasClass("focused")||$(this).find(".textbox, .textarea, .dropdown").trigger("focus")})},InitFormInputs:function(n){var t=n.find("ul li p"),i=t.find("select");i.customSelect();t.find(".textbox, .dropdown, .textarea").not(":disabled").on("focus",function(){if(!$(this).closest("p").hasClass("focused")){var n=$(this),i=n.closest("p"),t=i.find("label");$(".focused").removeClass("focused");i.addClass("focused");n.val()!=null&&n.val().length>0&&(t.hasClass("inputted")?t.addClass("inputting-notrans"):t.addClass("inputting"));localStorage.focus=n.not(".no-focus").attr("id")}}).on("blur",function(){var t=$(this),i=t.closest("p"),r=i.find("label");i.hasClass("focused")&&(i.removeClass("focused"),AVL.RESPONSIVEFORM.CORE.INIT.InitFormLabels(n));t.val()!=null&&t.val().length===0||t.val()==null?r.removeClass("inputting inputted inputting-notrans"):r.removeClass("inputting inputting-notrans").addClass("inputted")});t.find(".textarea").not(":disabled").on("focus",function(){$(this).closest("li").find("label.outter-label").addClass("focused")}).on("blur",function(){$(this).closest("li").find("label.outter-label").removeClass("focused")});t.find(".textbox, .textarea").on("keydown",function(){var n=$(this).parent().find("label");n.hasClass("inputting-notrans")||n.addClass("inputting")}).on("keyup",function(){var i=$(this),t=$(this).parent().find("label");i.val().length===0?t.removeClass("inputted inputting inputting-notrans"):t.hasClass("inputting-notrans")||t.addClass("inputting");AVL.RESPONSIVEFORM.CORE.INIT.InitFormLabels(n)});t.find("select").not(".no-reset").each(function(){var n=$(this),t=n.parent().find("label"),i=n.parent().find(".dropdown option:selected").index();(i===-1||n.val()==="")&&t.removeClass("inputted")}).on("change",function(){var n=$(this),t=$(this).parent().find("label");n.val()!=null&&n.val().length===0?t.removeClass("inputted inputting inputting-notrans"):t.addClass("inputted")});t.find("select.dropdown").on("keypress",function(n){n.which===13&&n.stopPropagation()});n.hasClass("skip-focus")||AVL.RESPONSIVEFORM.CORE.UTILITIES.SetFocusToCorrectInput(n)},InitFormStatusIcons:function(n){var t=n.find("ul li");t.find(".textbox, .textarea, .dropdown").each(function(){var n=$(this).closest("p"),t=n.prop("title");n.find("i.input-warning").length||n.append("<i class='input-status input-warning icon-attention' title='"+t+"' onclick='return AVL.RESPONSIVEFORM.CORE.DOM.ShowValidationMessage(event, $(this));'><\/i>")});t.find(".radiobutton, .checkbox").each(function(){var n=$(this).closest(".radio-mask, .checkbox-mask"),t=n.prop("title");!n.find("i.input-warning").length&&n.find("label").length&&n.append("<i class='input-status input-warning icon-attention' title='"+t+"' onclick='return AVL.RESPONSIVEFORM.CORE.DOM.ShowValidationMessage(event, $(this));'><\/i>")});t.find("[data-loader='true']").each(function(){var n=$(this).closest("p");n.append("<img class='input-loading' src='/CommonControls/ResponsiveForms/IMG/async-loader-1.gif' alt='Loading' />")})},InitFormLabels:function(n){var t=n.find("ul li p, ul li div");t.find(".textbox, .textarea").each(function(){var n=$(this),t=n.parent().find("label");n.val().length===0?t.removeClass("inputting inputted"):t.addClass("inputted")});t.find("select").each(function(){var n=$(this),t=n.parent().find("label"),i=n.prop("selectedIndex");i===-1||n.val()===""?t.removeClass("inputting inputted"):t.addClass("inputted")})},InitFormInstantValidation:function(n){var t=n.find("ul li p, ul li div");t.find("input.textbox, textarea.textarea, select.dropdown, input.checkbox, input.radiobutton, .radiobutton input, .checkbox input").on("change",function(){var n=$(this);AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.ValidateInput(n)});n.find("input.radiobutton, .radiobutton input").on("click",function(){var n=$(this).closest(".radiobutton");AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.ValidateInput(n)})},InitFormButtons:function(n){n.find(".button-container .clear-button").on("click",function(){return AVL.RESPONSIVEFORM.CORE.UTILITIES.ClearLocalStorage(n),$(":input",n).each(function(){if(!($(this).hasClass("no-reset")||$(this).parent().hasClass("no-reset"))){var n=this.type,t=this.tagName.toLowerCase();n==="text"||n==="password"||t==="textarea"?this.value="":n==="checkbox"||n==="radio"?this.checked=!1:t==="select"&&(this.selectedIndex=0,$(this).trigger("update"))}}),AVL.RESPONSIVEFORM.CORE.INIT.InitFormLabels(n),!1})}},DOM:{AddAlertBoxIcon:function(n,t){var i=n.find("i."+t).length>0,r="<i class='"+t+"'><\/i>";i||n.prepend(r)},ShowValidationMessage:function(n,t){if(n.preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation?n.stopPropagation():null,$("#responsive-form-message").length===0){var i="<div id='responsive-form-message' class='avlModal-container'><div class='avlModal-wrapper'><div class='avlModal-content'><p class='warning-message'><\/p><\/div><\/div><\/div>";$("form").length===1?$("form").append(i):$("body").append(i)}return $(".error-override").is(":visible")?$("#responsive-form-message").find(".avlModal-content p.warning-message").text($(".error-override").text()):$("#responsive-form-message").find(".avlModal-content p.warning-message").text(t.attr("title")),$.openModal({target:"#responsive-form-message",width:"300px"}),setTimeout(function(){$(":focus").trigger("blur")}),!1},SetCountryRelatedInputStates:function(n,t,i){i?n.find(".dropdown").trigger("change"):(t=t.toLowerCase(),n.find(".dd-states").hide(),n.find(".txt-state").show(),n.find(".txt-state label").text("State / Province / Region"),n.find(".txt-city label").text("City / Town"),n.find(".txt-zipcode label").text("ZIP / Postal Code"),n.find(".txt-phone").find("[data-validation^='req-phone']").attr("title","Please enter your phone number."),n.find(".txt-phone").find("[data-validation^='opt-phone']").attr("title","Please enter an alternate phone number (optional)."),n.find(".phone-format").text(""),t==="us"?(n.find(".dd-states").show(),n.find(".txt-state").hide(),n.find(".txt-zipcode label").text("ZIP Code"),n.find(".txt-phone").find("[data-validation^='req-phone']").each(function(){var n=$(this);n.attr("title","Please enter your phone number with area code.");n.val()!==""&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(n,n.val(),!0)}),n.find(".txt-phone").find("[data-validation^='opt-phone']").each(function(){var n=$(this);n.attr("title","Please enter an alternate phone number (optional).");n.val()!==""&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(n,n.val(),!0)}),n.find(".phone-format").text("(xxx) xxx-xxxx")):t==="au"?(n.find(".dd-states").show(),n.find(".txt-state").hide(),n.find(".dd-states label").text("State/Territory"),n.find(".txt-zipcode label").text("Postal Code")):n.find(".dd-states option").length>0&&(n.find(".dd-states").show(),n.find(".txt-state").hide()))}},UTILITIES:{RemoveInputScriptTags:function(n){$(n.find("fieldset input[type='text']")).each(function(){$(this).val($(this).val().replace(/<|>/g,""))})},CapitalizeFirstLetter:function(n){for(var u=n.toLowerCase(),i=u.split(" "),t=0,r=i.length;t<r;t++)i[t]=i[t].charAt(0).toUpperCase()+i[t].slice(1);return i.join(" ")},FocusNextFocusableEmptyInput:function(n,t){var i=n.find(":focusable"),u=i.filter(function(){return $(this).val()===""}),r=!1;u.each(function(){!r&&i.index($(this))>i.index(t)&&($(this).trigger("focus"),r=!0)})},SetFocusToCorrectInput:function(n){var t,i=!1;localStorage.focus!=null&&localStorage.focus.length>0?(t=$("#"+localStorage.focus),i&&console.log("focus to: localStorage")):n.find(".focus").length>0?(t=n.find(".focus"),i&&console.log("focus to: .focus")):$(".avlModal").is(":visible")?(t=$(".avlModal:visible").find("fieldset ul li p:first").find(".textbox, .textarea, .dropdown"),i&&console.log("focus to: visible modal")):(t=n.find(".responsive-form fieldset ul li p").first().find(".textbox, .textarea, .dropdown").not(".no-focus"),i&&console.log("focus to: first input"));setTimeout(function(){t.trigger("focus").val(t.val())},10)},ProcessInputChange:function(n,t,i,r){var f=t.val(),u=i;t.val(u);r&&f!==u&&t.trigger("change");u===""?n.find("label").removeClass("inputted"):n.find("label").addClass("inputted")},PopulateCountryStateByIP:function(){$.ajax({url:"/MyAccount/CommonControls/ResponsiveForms/Handlers/IPLocation.ashx",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){n!=null&&n.status==="success"&&$(".dd-country .dropdown").trigger("focus").val(n.countryCode).trigger("blur").trigger("update")}})},VerifyAddress:function(n,t,i,r,u){var f="<address><addressline1>"+$("[id$='"+n+"']").val()+"<\/addressline1><addressline2>"+$("[id$='"+t+"']").val()+"<\/addressline2><city>"+$("[id$='"+i+"']").val()+"<\/city><state>"+$("[id$='"+r+"']").val()+"<\/state><zip>"+$("[id$='"+u+"']").val()+"<\/zip><\/address>",e=$("[id$='"+n+"']").closest(".responsive-form");$.ajax({type:"POST",url:"/SiteUtilities/AddressVerification.aspx",contentType:"text/xml",dataType:"text",data:f,success:function(n){var r=$.parseXML(n),u=$(r),t=u.find("ismissingaptnumber"),i;t!=null&&t!==""&&(i=t.text().toLowerCase()==="true",e.find(".txt-address2 label em").text(i?"(required)":"(if applicable)"))}})},PrefixPhoneWithCountryCode:function(n,t,i,r){if(t!==""&&!r){var u="";$.ajax({type:"GET",url:"/MyAccount/CommonControls/ResponsiveForms/XML/country-codes.xml",dataType:"xml",success:function(r){$(r).find("country").each(function(){var f=$(this).attr("code"),r;return u=$(this).attr("phoneCode"),t.toUpperCase()===f?(r=u==="1"?n.find(".txt-phone .textbox").val():"+"+u,n.find(".txt-phone .textbox").data("phonecode",u),i||AVL.RESPONSIVEFORM.CORE.UTILITIES.ProcessInputChange(n.find(".txt-phone"),n.find(".txt-phone .textbox"),r,!1),AVL.RESPONSIVEFORM.CORE.UTILITIES.UpdateAddressLocalStorage(),!1):void 0})}})}AVL.RESPONSIVEFORM.CORE.NewFormContent=!1;AVL.RESPONSIVEFORM.CORE.BypassPhoneCountryCode=typeof phoneOptional!="undefined"?phoneOptional:!1},ReleaseLocalStorage:function(n){AVL.RESPONSIVEFORM.CORE.UseSisyphus&&(n.is("fieldset")?n.sisyphus().manuallyReleaseData():n.find("fieldset").each(function(){$(this).sisyphus().manuallyReleaseData()}))},ClearLocalStorage:function(n){AVL.RESPONSIVEFORM.CORE.UseSisyphus&&n.find("fieldset").each(function(){$(this).sisyphus().manuallyReleaseData()});localStorage.removeItem("focus");AVL.RESPONSIVEFORM.CORE.UTILITIES.SetFocusToCorrectInput(n);AVL.RESPONSIVEFORM.VALIDATION.DOM.HideAllValidationResults(n)},UpdateAddressLocalStorage:function(){$("#phustrigger").prop("checked",!$("#phustrigger").prop("checked"))}}};$(document).ready(function(){AVL.RESPONSIVEFORM.CORE.INIT.Init()}),function(n){n.fn.sisyphus=function(t){var r=n.map(this,function(t){return n(t).attr("id")+n(t).attr("name")}).join(),i=Sisyphus.getInstance(r);return t!==undefined&&i.protect(this,t),i};var t={};t.isAvailable=function(){if(typeof n.jStorage=="object")return!0;try{return localStorage.getItem}catch(t){return!1}};t.set=function(t,i){if(typeof n.jStorage=="object")n.jStorage.set(t,i+"");else try{localStorage.setItem(t,i+"")}catch(r){}};t.get=function(t){if(typeof n.jStorage=="object"){var i=n.jStorage.get(t);return i?i.toString():i}return localStorage.getItem(t)};t.remove=function(t){typeof n.jStorage=="object"?n.jStorage.deleteKey(t):localStorage.removeItem(t)};Sisyphus=function(){function r(){return{setInstanceIdentifier:function(n){this.identifier=n},getInstanceIdentifier:function(){return this.identifier},setInitialOptions:function(i){var r={excludeFields:[],includeFields:[],customKeySuffix:"",locationBased:!1,timeout:0,autoRelease:!0,onSave:function(){},onBeforeRestore:function(){},onRestore:function(){},onRelease:function(){}};this.options=this.options||n.extend(r,i);this.browserStorage=t},setOptions:function(t){this.options=this.options||this.setInitialOptions(t);this.options=n.extend(this.options,t)},protect:function(t,r){var u,f,e;if(this.setOptions(r),t=t||{},u=this,this.targets=this.targets||[],this.href=location.hostname+location.pathname+location.search+location.hash,this.targets=n.merge(this.targets,t),this.targets=n.unique(this.targets),this.targets=n(this.targets),!this.browserStorage.isAvailable())return!1;f=u.options.onBeforeRestore.call(u);(f===undefined||f)&&u.restoreAllData();this.options.autoRelease&&u.bindReleaseData();i.started[this.getInstanceIdentifier()]||(u.isCKEditorPresent()?e=setInterval(function(){CKEDITOR.isLoaded&&(clearInterval(e),u.bindSaveData(),i.started[u.getInstanceIdentifier()]=!0)},100):(u.bindSaveData(),i.started[u.getInstanceIdentifier()]=!0))},isCKEditorPresent:function(){if(this.isCKEditorExists()){CKEDITOR.isLoaded=!1;CKEDITOR.on("instanceReady",function(){CKEDITOR.isLoaded=!0});return!0}return!1},isCKEditorExists:function(){return typeof CKEDITOR!="undefined"},findFieldsToProtect:function(n){return n.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password").not(":disabled").not("[readonly]")},bindSaveData:function(){var t=this;t.options.timeout&&t.saveDataByTimeout();t.targets.each(function(){var i=n(this).attr("id")+n(this).attr("name");t.findFieldsToProtect(n(this)).each(function(){if(n.inArray(this,t.options.excludeFields)!==-1&&n.inArray(this,t.options.includeFields)===-1)return!0;var i=n(this),r=t.options.customKeySuffix+i.attr("name");(i.is(":text")||i.is("textarea"))&&(t.options.timeout||t.bindSaveDataImmediately(i,r));t.bindSaveDataOnChange(i)})})},saveAllData:function(){var t=this;t.targets.each(function(){var r=n(this).attr("id")+n(this).attr("name"),i={};t.findFieldsToProtect(n(this)).each(function(){var r=n(this),f,u,e;if(n.inArray(this,t.options.excludeFields)!==-1&&n.inArray(this,t.options.includeFields)===-1||r.attr("name")===undefined)return!0;if(f=t.options.customKeySuffix+r.attr("name"),u=r.val(),r.is(":checkbox")){if(r.attr("name").indexOf("[")!==-1){if(i[r.attr("name")]===!0)return;u=[];n("[name='"+r.attr("name")+"']:checked").each(function(){u.push(n(this).val())});i[r.attr("name")]=!0}else u=r.is(":checked");t.saveToBrowserStorage(f,u,!1)}else r.is(":radio")?r.is(":checked")&&(u=r.val(),t.saveToBrowserStorage(f,u,!1)):t.isCKEditorExists()?(e=CKEDITOR.instances[r.attr("name")]||CKEDITOR.instances[r.attr("id")])?(e.updateElement(),t.saveToBrowserStorage(f,r.val(),!1)):t.saveToBrowserStorage(f,u,!1):t.saveToBrowserStorage(f,u,!1)})});t.options.onSave.call(t)},restoreAllData:function(){var t=this,i=!1;t.targets.each(function(){var r=n(this),u=n(this).attr("id")+n(this).attr("name");t.findFieldsToProtect(r).each(function(){if(n.inArray(this,t.options.excludeFields)!==-1&&n.inArray(this,t.options.includeFields)===-1)return!0;var r=n(this),f=t.options.customKeySuffix+r.attr("name"),u=t.browserStorage.get(f);u!==null&&(t.restoreFieldsData(r,u),i=!0)})});i&&t.options.onRestore.call(t)},restoreFieldsData:function(n,t){if(n.attr("name")===undefined)return!1;n.is(":checkbox")&&t!=="false"&&n.attr("name").indexOf("[")===-1?n.prop("checked",!0):n.is(":checkbox")&&t==="false"&&n.attr("name").indexOf("[")===-1?n.prop("checked",!1):n.is(":radio")?n.val()===t&&n.prop("checked",!0):n.attr("name").indexOf("[")===-1?(n.val()===""||n.attr("data-override-server")==="true")&&n.val(t):(t=t.split(","),n.val(t))},bindSaveDataImmediately:function(n,t){var i=this,r;if("onpropertychange"in n?n.get(0).onpropertychange=function(){i.saveToBrowserStorage(t,n.val())}:n.get(0).oninput=function(){i.saveToBrowserStorage(t,n.val())},this.isCKEditorExists()&&(r=CKEDITOR.instances[n.attr("name")]||CKEDITOR.instances[n.attr("id")]))r.document.on("keyup",function(){r.updateElement();i.saveToBrowserStorage(t,n.val())})},saveToBrowserStorage:function(n,t,i){i=i===undefined?!0:i;this.browserStorage.set(n,t);i&&t!==""&&this.options.onSave.call(this)},bindSaveDataOnChange:function(n){var t=this;n.on("change",function(){})},saveDataByTimeout:function(){var n=this,t=n.targets;setTimeout(function(){function t(){n.saveAllData();setTimeout(t,n.options.timeout*1e3)}return t}(t),n.options.timeout*1e3)},bindReleaseData:function(){var t=this;t.targets.each(function(){var i=n(this),r=i.attr("id")+i.attr("name");n(this).on("submit reset",function(){t.releaseData(r,t.findFieldsToProtect(i))})})},manuallyReleaseData:function(){var t=this;!t.targets||t.targets.each(function(){var i=n(this),r=i.attr("id")+i.attr("name");t.releaseData(r,t.findFieldsToProtect(i))})},releaseData:function(t,r){var f=!1,u=this;i.started[u.getInstanceIdentifier()]=!1;r.each(function(){if(n.inArray(this,u.options.excludeFields)!==-1&&n.inArray(this,u.options.includeFields)===-1)return!0;var t=n(this),i=u.options.customKeySuffix+t.attr("name");u.browserStorage.remove(i);f=!0});f&&u.options.onRelease.call(u)}}}var i={instantiated:[],started:[]};return{getInstance:function(n){return i.instantiated[n]||(i.instantiated[n]=r(),i.instantiated[n].setInstanceIdentifier(n),i.instantiated[n].setInitialOptions()),n,i.instantiated[n]},free:function(){return i={instantiated:[],started:[]},null},version:"1.1.107"}}()}(jQuery);window.console||(console={log:function(){}});AVL=AVL||{};AVL.RESPONSIVEFORM=AVL.RESPONSIVEFORM||{};AVL.RESPONSIVEFORM.VALIDATION={InstantValidationDebug:!1,SubmitValidationDebug:!1,ShowJSONAddressData:!1,AddressCertified:!1,HasInvalidTextWarning:!1,IsZipCodeValid:!0,IsZipCodeError:!1,UnselectedCardType:"transparent",JsonCertifiedAddress:{addressline1:"",city:"",state:"",zipCode:"",country:""},DOM:{BuildAddressResultsModal:function(n,t,i,r){var f,u;$("#address-results").remove();$("form").append("<div id='address-results' class='avlModal-container'><div class='avlModal-wrapper'><div class='avlModal-header'><\/div><div class='avlModal-content'><\/div><\/div><input type='hidden' name='addressCertified' id='addressCertified' value='false'/><\/div>");switch(t){case"none":u="We were unable to verify your address. Please choose one of the following options below to proceed:";$("#address-results").find(".avlModal-header").text("Address Not Found");$("#address-results").find(".avlModal-content").html("<h6>"+u+"<\/h6><p><a id='ar-change' data-address1ID='"+n+"' href='#' title='Change the address'>Change the address<\/a><\/p><p><a id='ar-certify' data-address1ID='"+n+"' href='#' title='Certify that the address you entered is the correct address'>Certify that the address is correct ( <em> "+i+" <\/em> )<\/a><\/p>");break;case"multiple":f="";u="We were unable to verify your address. Please choose one of the following options below to proceed:";$.each(r,function(t){f+="<p><a class='ar-choice' data-address1ID='"+n+"' href='#' rel='"+t+"' title='Use this address'>"+r[t].fullAddress+"<\/a><\/p>"});$("#address-results").find(".avlModal-header").text("Choose Correct Address");$("#address-results").find(".avlModal-content").html("<h6>"+u+"<\/h6>"+f+"<p><a id='ar-change' data-address1ID='"+n+"' href='#' title='Change the address'>Change the address<\/a><\/p><p><a id='ar-certify' data-address1ID='"+n+"' href='#' title='Certify that the address you entered is the correct address'>Certify the address is correct - <em> "+i+" <\/em><\/a><\/p>");$("#address-results").data("addresses",r)}$.openModal({target:"#address-results",width:"650px"})},ShowLoadingImage:function(n,t,i){i.show();n.removeClass("failed-validation")},MoveToFirstFailedInput:function(){$(".failed-validation").length>0&&$(".failed-validation:first").closest("fieldset").length>0&&($("#slideout-content").animate({scrollTop:$("#slideout-content").scrollTop()+$(".failed-validation:first").closest("fieldset").offset().top-10},500)||$("html, body").animate({scrollTop:$(".failed-validation:first").closest("fieldset").offset().top-10},500),$(".failed-validation:first input:not(.hasDatepicker), .failed-validation:first textarea, .failed-validation:first select").trigger("focus"))},HideAllValidationResults:function(n){var t=n.find("ul li p, ul li div");t.each(function(){var n=$(this);AVL.RESPONSIVEFORM.VALIDATION.DOM.SetValidationClass(n,!1);AVL.RESPONSIVEFORM.VALIDATION.DOM.SetValidationMessage(n,n.find("input.textbox:visible, textarea.textarea:visible, select.dropdown:visible, input.checkbox:visible, input.radiobutton:visible"),!1,!1)})},DisplayValidationResult:function(n,t,i,r){t.val()===""?n.find("label").removeClass("inputted"):n.find("label").addClass("inputted");AVL.RESPONSIVEFORM.VALIDATION.DOM.SetValidationClass(n,i);AVL.RESPONSIVEFORM.VALIDATION.DOM.SetValidationMessage(n,t,i,r)},SetValidationClass:function(n,t){t?n.addClass("failed-validation"):n.removeClass("failed-validation")},SetValidationMessage:function(n,t,i,r){var o,e,h;typeof t.attr("id")!=typeof undefined?(e=t.attr("id").split("_"),o=e[e.length-2]+"_"+e[e.length-1]+"_warning"):o=t.attr("id")+"_warning";var u=n.attr("data-warning-override"),f="",s=$('[id$="'+o+'"]');f=t.attr("data-validation")==="opt-address2"?AVL.RESPONSIVEFORM.VALIDATION.HasInvalidTextWarning?"Please provide valid apartment,suite or building number":typeof u!="undefined"&&u!==!1?u:n.attr("title")||!1:typeof u!="undefined"&&u!==!1?u:n.attr("title")||!1;n.find(".input-warning").attr("title",f);i&&f?(h="",t.attr("data-validation")!=="opt-address2"||AVL.RESPONSIVEFORM.VALIDATION.HasInvalidTextWarning||(h=" <a href='#bypass-field' class='bypass-field-link' data-element-id='"+t.attr("id")+"'>Click here if the value is correct.<\/a>"),f+=h,s.length===0&&(r||AVL.RESPONSIVEFORM.VALIDATION.HasInvalidTextWarning&&t.attr("data-validation")==="opt-address2")?n.closest("fieldset").find(".warning-messages:first").append("<div id='"+o+"'>"+f+"<\/div>"):s.length>0&&s.html(f)):s.slideUp(200,function(){$(this).remove()})},SetIconWarningMessage:function(n){var t=n.prop("title");n.find("i.input-warning").length?$(n.find("i.input-warning")).attr("title",t):$parent.append("<i class='input-status input-warning icon-attention' title='"+t+"' onclick='return ShowValidationMessage(event, $(this));'><\/i>")}},FUNCTIONS:{CheckInputValue:function(n,t,i,r,u,f){var e=t.closest(".responsive-form"),gt,st,ti,ht,ii,w,s,oi,si,g,nt,hi,ci,v,p,y,tt,ct,lt,pt,pi,wi,i,bi,ki,wt,ut,bt,di,gi,n,ft,o,tr;switch(r){case"req-field":t.is(":password")||(i=i.replace(/<|>/g,""),t.val(i));u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"req-selection":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNoSelection(i));break;case"req-checked":u.resolve(!t.is(":checked"));break;case"req-checked-list":u.resolve(!t.find("input:checked").length);break;case"req-price":t.hasClass("format-price")&&(i=i.replace(/[^.0-9]/g,""),t.val("$"+parseFloat(i).toFixed(2)));u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsPrice(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotZero(i));break;case"req-price-min":var ir=i.replace(/[^.0-9]/g,""),a=parseFloat(ir),rr=t.attr("data-minprice");AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(a)&&t.val("$"+a);u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(a)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(a)||a<rr);break;case"req-price-range":gt="$";t.hasClass("format-price")&&(i=i.replace(/[^.0-9]/g,""),t.val("$"+parseFloat(i).toFixed(2)));case"req-number-range":var ur=AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i),fr=t.closest(":has(.req-price-top)").find(".req-price-top").text().replace(/[^.0-9]/g,""),et=parseFloat(fr),er=t.closest(":has(.req-price-bottom)").find(".req-price-bottom").text().replace(/[^.0-9]/g,""),ot=parseFloat(er),a=parseFloat(i),ni=gt||"",k=!1;i!=="N/A"&&(!ur||i<=0)?(k=!0,n.attr("data-warning-override","Please enter a valid amount.")):!isNaN(et)&&et<a?(k=!0,n.attr("data-warning-override","Please enter an amount less than or equal to "+ni+et+".")):!isNaN(ot)&&ot>a&&(k=!0,n.attr("data-warning-override","Please enter an amount more than "+ni+ot+"."));u.resolve(k);break;case"req-customwidth-range":u.resolve(AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.ValidateRange(n,i,0,299,2,"custom trim width"));break;case"req-customheight-range":u.resolve(AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.ValidateRange(n,i,0,299,2,"custom trim height"));break;case"req-spinewidth-range":u.resolve(AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.ValidateRange(n,i,.25,2,3,"spine width"));break;case"req-number":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)?n.attr("data-warning-override",n.attr("title")+" (Must be a valid number)"):n.removeAttr("data-warning-override");t.hasClass("req-route")&&(st=i,st!==""&&$.ajax({type:"POST",url:"/MyAccount/PaymentInformation.aspx/ValidateBankRoutingNumber",async:!1,data:"{'routingNumber':'"+st+"'}",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(n){n.setRequestHeader("content-type","application/json; charset=utf-8")},success:function(t){var i=t.d;i==="Not Found"&&(n.attr("data-warning-override","Invalid routing number."),u.resolve(!0))}}));u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsWholeNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotZero(i));break;case"req-three":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsWholeNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)||parseInt(i)<0||parseInt(i)>3);break;case"opt-number":u.resolve(AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)&&(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsWholeNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)));break;case"req-upc":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsWholeNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)||i.length!==11&&i.length!==12);break;case"opt-isbn":i===""&&u.resolve(!1);case"req-isbn":i=i.replace("-","");u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsWholeNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsISBN(i));break;case"req-phone":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(t,i,!1);u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsPhoneNumber(i)&&!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsInternationalPhoneNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"opt-phone":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(t,i,!1);u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsPhoneNumber(i)&&!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsInternationalPhoneNumber(i)&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"req-phone-us":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(t,i,!0);u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsUSPhoneNumber(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"opt-phone-us":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(t,i,!1);u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsUSPhoneNumber(i)&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"req-phone-bycountry":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(t,i,!1);u.resolve(AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsPhoneNumberByCountry(i,e.find(".dd-country select").val().toLowerCase())||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"opt-phone-bycountry":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.FormatUSPhoneNumber(t,i,!1);u.resolve(AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsPhoneNumberByCountry(i,e.find(".dd-country select").val().toLowerCase())&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)&&i!=="+"+t.data("phonecode"));break;case"req-address1":case"opt-address1":ti={addressline1:e.find(".txt-address1 .textbox").val(),city:e.find(".txt-city .textbox").val(),state:e.find(".dd-states .dropdown").val(),zipCode:e.find(".txt-zipcode .textbox").val(),country:e.find(".dd-country .dropdown").val()};r!=="opt-address1"||AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)?AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)?AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.CheckCertifiedAddressMatch(ti)?u.resolve(!1):(w=e.find(".dd-country .dropdown").val(),w==="US"&&AVL.RESPONSIVEFORM.VALIDATION.IsZipCodeValid&&f?(s={testing:!1,companyname:e.find(".txt-company .textbox").val(),addressline1:e.find(".txt-address1 .textbox").val(),addressline2:e.find(".txt-address2 .textbox").val(),city:e.find(".txt-city .textbox").val(),state:e.find(".dd-states .dropdown").val(),zipCode:e.find(".txt-zipcode .textbox").val(),country:e.find(".dd-country .dropdown").val()},ht=e.find(".txt-address1 .textbox").val()+" "+e.find(".txt-address2 .textbox").val()+" "+e.find(".txt-city .textbox").val()+" "+e.find(".dd-states .dropdown").val()+" "+e.find(".txt-zipcode .textbox").val(),AVL.RESPONSIVEFORM.VALIDATION.ShowJSONAddressData&&console.log(s),$.ajax({url:"/MyAccount/CommonControls/ResponsiveForms/Handlers/UPSAddressValidationStreetLevel.ashx",type:"POST",data:JSON.stringify(s),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){var i,r,f;if(n!=undefined&&n.Response!=undefined){var l=n.Response,a=n.AddressClassification,t=n.AddressKeyFormats,v=n.AddressIndicator;if(AVL.RESPONSIVEFORM.VALIDATION.ShowJSONAddressData&&console.log(n),l.ResponseStatusDescription==="Failure")u.resolve(!1);else if(i=typeof APPLICATION!="undefined"&&typeof APPLICATION.CHECKOUTPROCESS!="undefined"&&typeof APPLICATION.CHECKOUTPROCESS.CORE.BypassModal!="undefined"&&APPLICATION.CHECKOUTPROCESS.CORE.BypassModal,t.length===0)i||$.trim(s.addressline1)===""||$.trim(s.city)===""||$.trim(s.state)===""||$.trim(s.zipCode)===""||AVL.RESPONSIVEFORM.VALIDATION.DOM.BuildAddressResultsModal(e.find(".txt-address1 .textbox").attr("id"),"none",ht),u.resolve(!0);else if(t.length!==1||/\d-\d/.test(t[0].AddressLine1)){var o=[],h=[],c=[];$.each(t,function(n){o.push(AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[n].AddressLine1)+", "+AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[n].PoliticalDivision2)+" "+t[n].PoliticalDivision1+" "+AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[n].PostcodePrimaryLow))});$.each(o,function(n,i){$.inArray(i,h)===-1&&(h.push(i),t[n].fullAddress=o[n],c.push(t[n]))});i||AVL.RESPONSIVEFORM.VALIDATION.DOM.BuildAddressResultsModal(e.find(".txt-address1 .textbox").attr("id"),"multiple",ht,c);u.resolve(!0)}else e.find(".txt-address1 .textbox").val(AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[0].AddressLine1)).trigger("change"),t[0].AddressLine2!==""&&e.find(".txt-address2 .textbox").val(AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[0].AddressLine2)).trigger("change"),e.find(".txt-city .textbox").val(AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[0].PoliticalDivision2)).trigger("change"),r=e.find(".dd-states .dropdown"),f=t[0].PoliticalDivision1,r.val()!==f&&r.val(f).trigger("change"),AVL.RESPONSIVEFORM.VALIDATION.IsZipCodeError||e.find(".txt-zipcode .textbox").val(t[0].PostcodePrimaryLow),e.find(".txt-zipcode label").addClass("inputted"),e.find(".txt-city label").addClass("inputted"),u.resolve(!1)}},fail:function(){e.find(".txt-city, .txt-state, .dd-states").find(".input-loading").hide();u.resolve(!1)}})):u.resolve(!1)):u.resolve(!0):u.resolve(!1);break;case"opt-address2":if(ii=$.trim(e.find(".txt-address2 .textbox").val()),/^[a-zA-Z0-9-#&. ]*$/.test(ii)===!1)AVL.RESPONSIVEFORM.VALIDATION.HasInvalidTextWarning=!0,u.resolve(!0);else{if(AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNonUSCountry(t)||$("#bypassed-"+t.attr("id")).length!==0)u.resolve(!1);else{var ri=$.trim(e.find(".txt-address1 .textbox").val()),or=$.trim(e.find(".txt-address2 .textbox").val()),ui=$.trim(e.find(".txt-city .textbox").val()),sr=e.find(".dd-states").css("display")!=="none",fi=sr?e.find(".dd-states .dropdown").val():$.trim(e.find(".txt-state .textbox").val()),ei=$.trim(e.find(".txt-zipcode .textbox").val());if(ri!==""&&ui!==""&&fi!==""&&ei!==""){var hr="<address><addressline1>"+ri+"<\/addressline1><addressline2>"+or+"<\/addressline2><city>"+ui+"<\/city><state>"+fi+"<\/state><zip>"+ei+"<\/zip><\/address>",v=t.parent().find(".input-loading"),d=!1;AVL.RESPONSIVEFORM.VALIDATION.DOM.ShowLoadingImage(n,t,v);$.ajax({type:"POST",url:"/SiteUtilities/AddressVerification.aspx",contentType:"text/xml",dataType:"text",data:hr,success:function(n){v.fadeOut(100,function(){var i=$.parseXML(n),r=$(i),t=r.find("ismissingaptnumber");t!=null&&t!==""?(d=t.text().toLowerCase()==="true",e.find(".txt-address2 label em").text(d?"(required)":"(if applicable)"),d&&(address2Flagged=!0),u.resolve(d)):u.resolve(!1)})},error:function(){v.hide();u.resolve(!1)}})}else u.resolve(!1)}AVL.RESPONSIVEFORM.VALIDATION.HasInvalidTextWarning=!1}break;case"req-zipcode":case"opt-zipcode":r!=="opt-zipcode"||AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)?!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||/[\/\\\"?&.*:<>|@#%,]/g.test(i)?u.resolve(!0):(w=e.find(".dd-country .dropdown").val(),w==="US"?(f||e.find(".txt-city, .txt-state, .dd-states").find(".input-loading").show(),s={testing:!1,country:e.find(".dd-country .dropdown").val(),zipCode:i},AVL.RESPONSIVEFORM.VALIDATION.ShowJSONAddressData&&console.log(s),$.ajax({url:"/MyAccount/CommonControls/ResponsiveForms/Handlers/UPSAddressValidationCityStateZIP.ashx",type:"POST",data:JSON.stringify(s),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){if(n!=undefined&&n.Response!=undefined){var i=n.Response,t=n.AddressValidationResults;AVL.RESPONSIVEFORM.VALIDATION.ShowJSONAddressData&&console.log(i);i.ResponseStatusDescription==="Failure"?(f||e.find(".txt-city, .txt-state, .dd-states").find(".input-loading").hide(),i.ErrorCode==="101112"||i.ErrorCode==="20008"?(AVL.RESPONSIVEFORM.VALIDATION.IsZipCodeValid=!1,AVL.RESPONSIVEFORM.VALIDATION.IsZipCodeError=!0,u.resolve(!0)):u.resolve(!1)):(AVL.RESPONSIVEFORM.VALIDATION.ShowJSONAddressData&&$.each(t,function(n){console.log(t[n])}),f?u.resolve(!1):(e.find(".txt-state .input-loading, .dd-states .input-loading").fadeOut(100),e.find(".txt-city .input-loading").fadeOut(100,function(){var n,i,r;if(t.length>0){if(n=t[0].StateProvinceCode,AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(e.find(".dd-states"),e.find(".dd-states .dropdown"),!1,f),t[0].City!=="")if(t.length===1)e.find(".txt-city .textbox").val(AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[0].City)),AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(e.find(".txt-city"),e.find(".txt-city .textbox"),!1,f),e.find(".txt-city .textbox").autocomplete({source:[]});else{i=[];r=!1;$.each(t,function(n){i[n]=AVL.RESPONSIVEFORM.CORE.UTILITIES.CapitalizeFirstLetter(t[n].City);t[n].City.toLowerCase()===$.trim(e.find(".txt-city .textbox").val()).toLowerCase()&&(r=!0)});r||(e.find(".txt-city .textbox").val(""),e.find(".txt-city").find("label").removeClass("inputted"));e.find(".txt-city .textbox").autocomplete({position:{my:"left top",at:"left bottom-1",of:e.find(".txt-city")},delay:0,source:i,minLength:0,select:function(){var n=e.find(".txt-city .textbox");n.parent().find("label").addClass("inputted");AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(e.find(".txt-city"),e.find(".txt-city .textbox"),!1,f)},close:function(){e.find(".txt-city .textbox").trigger("change")}}).on("focus",function(){$(this).hasClass("ui-autocomplete-input")&&$(this).autocomplete("search","")})}e.find(".txt-state").length>0&&e.find(".txt-state").css("display")!=="none"?(e.find(".txt-state .textbox").val(n),AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(e.find(".txt-state"),e.find(".txt-state .textbox"),!1,f)):(e.find(".dd-states select").val(n).trigger("change"),AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(e.find(".dd-states"),e.find(".dd-states .dropdown"),!1,f));AVL.RESPONSIVEFORM.CORE.INIT.InitFormLabels($("#address-container"));u.resolve(!1)}else u.resolve(!0)})))}else AVL.RESPONSIVEFORM.VALIDATION.ShowJSONAddressData&&console.log(n),f||e.find(".txt-city, .txt-state, .dd-states").find(".input-loading").hide(),u.resolve(!1)},fail:function(){e.find(".txt-city, .txt-state, .dd-states").find(".input-loading").hide();u.resolve(!1)}})):u.resolve(!1)):u.resolve(!1);break;case"req-cvv":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)||i.length<3||i.length>4);break;case"req-cvv2":var cr=!$("#amex").hasClass(AVL.RESPONSIVEFORM.VALIDATION.UnselectedCardType),lr=!$("#visa").hasClass(AVL.RESPONSIVEFORM.VALIDATION.UnselectedCardType),ar=!$("#mastercard").hasClass(AVL.RESPONSIVEFORM.VALIDATION.UnselectedCardType),vr=!$("#discover").hasClass(AVL.RESPONSIVEFORM.VALIDATION.UnselectedCardType);cr?(u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)||i.length!==4),AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotZero(i)&&n.attr("title","Please enter a valid cvv number.")):(lr||ar||vr)&&(u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)||i.length!==3),AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotZero(i)&&n.attr("title","Please enter a valid cvv number."));break;case"req-cvv3":oi=$("#ccPaymentMode").val();si=oi=="AMEX"?"4":"3";u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(i)||!(si==i.length));break;case"req-creditcard":i=i.replace(/ /g,"");u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsLuhnPass(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotZero(i));AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotZero(i)&&n.attr("title","Please enter a valid credit card number.");break;case"req-email":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsEmailAddress(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"opt-multi-email":if(i===""){u.resolve(!1);break}if(g=!1,nt=i.split(","),AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(nt))for(hi in nt){ci=AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsEmailAddress(nt[hi]);ci||(g=!0);break}u.resolve(g);break;case"req-email-newaccount":g=!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsEmailAddress(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i);n.removeAttr("data-warning-override");AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsEmailAddress(i)&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)?(v=t.parent().find(".input-loading"),AVL.RESPONSIVEFORM.VALIDATION.DOM.ShowLoadingImage(n,t,v),$.get("/MyAccount/VerifyEmailAddress.aspx?email="+i,function(t){v.fadeOut(100,function(){t==="true"?(n.attr("data-warning-override","This email is already registered. Please enter another email."),u.resolve(!0),f||($("#email-value").text(i),$.openModal({target:"#email-registered",showCloseButton:!1,width:"500px"}))):t==="guest"?($(".check-guest input").prop("checked",!0),u.resolve(!1)):u.resolve(!1)})})):u.resolve(!0);break;case"req-ssn":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsSSN(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"req-url":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsURL(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"opt-date-mm-dd-yy":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)&&!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsValidDate(i)?(n.attr("title","Please enter the Publish Date in this format (MM/DD/YYYY)."),u.resolve(!0)):(new Date).setHours(0,0,0,0)>Date.parse(i)?(n.attr("title","Publish date must be today's date or a date in the future."),u.resolve(!0)):u.resolve(!1);break;case"req-date":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsDate(i)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;case"req-date-mm-dd-yy":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsValidDate(i));break;case"req-pod-availabledate-mm-dd-yy":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsValidDate(i)?new Date((new Date).setDate((new Date).getDate()+45)).setHours(0,0,0,0)>Date.parse(i)?(n.attr("title","Available date must be greater than 45 days of today's date."),u.resolve(!0)):u.resolve(!1):(n.attr("title","Please enter the Available Date in this format (MM/DD/YYYY)."),u.resolve(!0));break;case"req-available-date-mm-dd-yy":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsValidDate(i)?(new Date).setHours(0,0,0,0)>Date.parse(i)?(n.attr("title","Available date must be today's date or a date in the future."),u.resolve(!0)):u.resolve(!1):(n.attr("title","Please enter the Available Date in this format (MM/DD/YYYY)."),u.resolve(!0));break;case"req-CouponEndDate-mm-dd-yy":y=$("#coupon-modal [id$='txtStartDate'] ").val();p=i;AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsValidDate(i)?(new Date).setHours(0,0,0,0)>Date.parse(p)||Date.parse(y)>Date.parse(p)?(n.attr("title","Expiration date must be after the Start Date."),u.resolve(!0)):u.resolve(!1):(n.attr("title","Please enter the Expiration Date in this format (MM/DD/YYYY)."),u.resolve(!0));break;case"req-CouponStartDate-mm-dd-yy":p=$("#coupon-modal [id$='txtEndDate'] ").val();y=i;AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsValidDate(i)?(new Date).setHours(0,0,0,0)>Date.parse(y)?(n.attr("title","Start date should be today's date or a date in the future."),u.resolve(!0)):Date.parse(y)>Date.parse(p)?(n.attr("title","Expiration date must be after the Start Date."),u.resolve(!0)):u.resolve(!1):(n.attr("title","Please enter the Start Date in this format (MM/DD/YYYY)."),u.resolve(!0));break;case"req-StartDateAddSeven-mm-dd-yy":AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsValidDate(i)?(tt=new Date,tt.setDate((new Date).getDate()+7),tt.setHours(0,0,0),Date.parse(tt)>Date.parse(i)?(n.attr("title","Start date must be at least 7 days from today’s date."),u.resolve(!0)):u.resolve(!1)):(n.attr("title","Please enter the Start Date in this format (MM/DD/YYYY)."),u.resolve(!0));break;case"req-expmonth":ct=e.find("select[data-validation=req-expyear]");lt=AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i);lt&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(ct.val())&&AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.ValidateInput(ct);u.resolve(!lt);break;case"req-expyear":var li=new Date,yr=li.getMonth()+1,ai=li.getFullYear(),at=$(e.find("select[data-validation=req-expmonth]")[0]).val()||"12",vi=0,yi=parseInt(i)||0;vi=at[0]==="0"?parseInt(at[1]):parseInt(at);u.resolve(yi<ai||yi===ai&&vi<yr);break;case"req-dateddl-gt":var it=new Date,vt=i.split("/"),rt=new Date,yt=e.find("select[data-validation=req-dateddl-lt]").val().split("/");it.setDate(parseInt(vt[0]));it.setMonth(parseInt(vt[1])-1);it.setYear(parseInt(vt[2]));rt.setDate(parseInt(yt[0]));rt.setMonth(parseInt(yt[1])-1);rt.setYear(parseInt(yt[2]));u.resolve(it.getTime()<rt.getTime());break;case"req-password":case"req-password1":i.length===0?n.attr("title","Please enter a password."):i.length<8?n.attr("title","Your password must be at least 8 characters."):i.length>20&&n.attr("title","Your password must be 20 characters or less.");pt=e.find("input[data-validation=req-password2]");pi=pt.val();pi!==""&&AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.ValidateInput(pt);u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||i.length<8||i.length>20);break;case"req-password2":wi=e.find("input[data-validation=req-password1]").val();AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)?i!==wi?(n.attr("title","The password and confirmation don't match."),u.resolve(!0)):i.length<8?(n.attr("title","Your confirming password must be at least 8 characters."),u.resolve(!0)):i.length>20?(n.attr("title","Your confirming password must be 20 characters or less."),u.resolve(!0)):u.resolve(!1):u.resolve(!0);break;case"req-coupon":i=t.val();bi=$("#coupon-modal [id$='rbCouponType'] input:checked").val();bi==="1"?u.resolve(!1):AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsAlphNumeric(i)&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)?(ki=/The coupon code you entered has already been used. Please enter a different code/i,$("[id$='btnValidateCoupon']").show(),wt=t.attr("id")+"_warning",ki.test($("#"+wt).html())?(n.attr("title","The coupon code you entered has already been used. Please enter a different code."),/./i.test($("#"+wt).html())?u.resolve(!1):u.resolve(!0)):u.resolve(!1)):(i!==""?n.attr("title","Special characters are not allowed."):n.attr("title","Please enter coupon code."),$("[id$='lblCouponCodeAvailable']").hide(),u.resolve(!0));break;case"req-coupon-discount":ut=$("#coupon-modal [id$='rbDiscountType'] input:checked").val();bt=ut==="1"?t.val().replace(/[$]/g,""):t.val().replace(/[%]/g,"");isValid=!0;$.isNumeric(bt)?(di=parseFloat($("#coupon-modal [id$='hfModalBookPrice']").val()),gi=$("#coupon-modal [id$='hfModalBookType']").val(),u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.ValidateCoupondiscount(ut,gi,bt,di,n))):(n.attr("title",ut===undefined?"Please select the discount type first.":"Please enter a valid discount amount."),u.resolve(!0));break;case"req-budget":var c=i.replace(/[^.0-9]/g,""),h=$('[id$="txtNumWeeks"]').val().replace(/[^.0-9]/g,""),nr=$('[id$="spEnteredBudget"]'),pr=!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(c)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsWholeNumber(c)||c<100,l=AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.GetRoundDownBudget(c),b=l/100;pr?(n.attr("title",l===0?"The budget you have entered does not meet the minimum of $100 per week.":"Please enter an integer that meets the minimum budget."),nr.text(c!==""?"The budget you have entered does not meet the minimum of $100 per week.":""),u.resolve(!0)):($('[id$="txtBudget"]').val("$"+c),n=$('[id$="txtNumWeeks"]').parent("p"),ft=$('[id$="txtNumWeeks_warning"]'),h!==""&&(h>b||h==="0")?(o=b===1?"Please enter 1 week":"Please enter number of weeks between 1 – "+b,o+=" or increase your budget.",n.attr("title",o),n.find("i.input-warning").length?n.find("i.input-warning").attr("title",o):n.append("<i class='input-status input-warning icon-attention' title='"+o+"' onclick='ShowValidationMessage(event, $(this));'><\/i>"),n.addClass("failed-validation"),ft.text(o)):h!==""&&(n.attr("title",""),n.removeClass("failed-validation"),ft.length>0&&ft.text("")),AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.ShowBudgetLabel(l,b,b,nr),u.resolve(!1));break;case"req-budget-per-week":var h=i.replace(/[^.0-9]/g,""),c=$('[id$="txtBudget"]').val().replace(/[^.0-9]/g,""),kt=!1,o="",l=AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.GetRoundDownBudget(c),dt=$.isNumeric(h)&&$.isNumeric(c)&&l!=="0",wr=l/100;if(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsWholeNumber(h)){o="Please enter a valid integer.";n.attr("title",o);$('[id$="input-warning"]').attr("title",o);dt=!1;u.resolve(!0);break}if(h!==""&&h!=="0"&&c===""||l===0){u.resolve(!1);break}dt?(kt=parseInt(h)>=1?l/h>=100:!1,kt?n.attr("title",""):(o=wr===1?"Please enter 1 week":"Please enter number of weeks between 1 – "+l/100,o+=" or increase your budget.",n.attr("title",o),$('[id$="input-warning"]').attr("title",o))):n.attr("title","Please enter the week in the correct format.");u.resolve(!dt||!kt);break;case"req-albumname":case"req-artistname":case"req-volumename":case"req-tracktitle":case"req-urlpage":case"req-cdtext":tr=r==="req-volumename"||r==="req-urlpage"?/[\[\]\/\\\"~'&^$!}{\;()?.*+=:<>| @#%,]/g:/[\/\\\*:<>|@#%]/g;i=t.val().replace(/[^\x00-\x7F]/g,"");i=i.replace(tr,"");t.val(i);t.closest("fieldset").sisyphus().saveAllData();f?u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i.trim())):u.resolve(!1);break;case"opt-isrc":if(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)){u.resolve(!1);break}case"req-isrc":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||!/^[a-zA-Z]{2}(-?)[0-9a-zA-Z]{3}(-?)\d{2}(-?)\d{5}$/.test(i));break;case"req-search":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||i.trim().toLowerCase()==="search");break;case"req-youtubelink":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||!/^(http(s?)\:\/\/)?(www\.)?((youtube\.com\/watch\?v=)|(youtu.be\/))([a-zA-Z0-9\-_]){11}/.test(i.toLowerCase()));break;case"req-youtubechannel":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i)||!/((http|https):\/\/|)(www\.|)youtube\.com\/(channel\/|user\/)[a-zA-Z0-9_\-]{1,}/.test(i.toLowerCase()));break;case"req-partnerlink":u.resolve(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(i));break;default:u.resolve(!1)}return u.promise()},CheckCertifiedAddressMatch:function(n){return!AVL.RESPONSIVEFORM.VALIDATION.AddressCertified||AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.addressline1!==$.trim(n.addressline1)||AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.city!==$.trim(n.city)||AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.zipCode!==$.trim(n.zipCode)||AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.state!==$.trim(n.state)||AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.country!==$.trim(n.country)?(AVL.RESPONSIVEFORM.VALIDATION.AddressCertified=!1,$("#address-results").find("#addressCertified").val("false"),AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.addressline1=$.trim(n.addressline1),AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.city=$.trim(n.city),AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.zipCode=$.trim(n.zipCode),AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.state=$.trim(n.state),AVL.RESPONSIVEFORM.VALIDATION.JsonCertifiedAddress.country=$.trim(n.country),!1):!0},ValidateInput:function(n){var t=n.closest("p, div.radio-mask, div.textbox-mask"),i=$.trim(n.val()),r=n.attr("data-validation")||n.parent().attr("data-validation"),u=new $.Deferred;$.when(AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.CheckInputValue(t,n,i,r,u,!1)).done(function(r){AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(t,n,r,!1);AVL.RESPONSIVEFORM.VALIDATION.InstantValidationDebug&&console.log("input: "+n.attr("id")+"\r\nvalue: '"+i+"'\r\nfail: "+r)})},GetProjectedProceed:function(n,t,i,r){var u,f=r==="1"?t:t*n/100,e=i==="Print"?n/2:15*n/100;return u=n-f,u=u-e,u>0?u.toFixed(2):(n-f).toFixed(2)},ValidateCoupondiscount:function(n,t,i,r,u){var f=!0;if(u.attr("title",""),$.isNumeric(i)){$("#coupon-modal [id$='projected-amount']").text("");switch(n){case"1":t==="eBook"?i>r*85/100&&i!=r&&(u.attr("title","The maximum allowable discount for an eBook is up to 85% or 100% of the book price [$"+r+"]."),f=!1):i>r/2&&(u.attr("title","The maximum allowable discount for a print book is half of the book price [$"+r+"]."),f=!1);break;case"2":t==="eBook"?parseFloat(i)!==100&&parseFloat(i)>85&&(u.attr("title","The maximum allowable discount for an eBook is up to 85% or 100% of the book price [$"+r+"]."),f=!1):r*i/100>r/2&&(u.attr("title","The maximum allowable discount for a print book is 50% of the price [$"+r+"]."),f=!1);break;case undefined:u.attr("title","Please select the discount type first.");f=!1}$("#coupon-modal [id$='projected-amount']").text(f?"Projected Proceeds: $"+AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.GetProjectedProceed(r,i,t,n):"")}else u.attr("title","Please enter a valid discount amount."),f=!1;return f||AVL.RESPONSIVEFORM.VALIDATION.DOM.SetIconWarningMessage(u),f},ShowBudgetLabel:function(n,t,i,r){var u=n/t>=100;r.text(u?"The budget you have entered will allow for 1 "+(i===1?"week":"- "+i+" weeks")+" of advertising":"")},GetRoundDownBudget:function(n){return n%100!=0?n-n%100:n}},POSTBACKS:{ValidateInputs:function(n,t,i){var f=n.target||n.srcElement,r=$(f),e=[],u=!0,o=r.attr("data-submit-text")==undefined?"Submitting...":r.attr("data-submit-text"),s=r.attr("data-submit-scrollform")==undefined?!0:r.attr("data-submit-scrollform");return r.data("validated")==="true"?!0:(r.data("original")==undefined&&r.data("original",r.val()),r.val(o),t.each(function(){var n=$(this);AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.RemoveHazardousStrings(t);$(n).find("input.textbox:visible, textarea.textarea:visible, select.dropdown:visible, input.checkbox:visible, .checkbox input:visible, .radiobutton:visible").each(function(){var n=$(this),t=n.closest("p, div.radio-mask, div.textbox-mask"),r=$.trim(n.val()),f=n.attr("data-validation")||n.parent().attr("data-validation"),i=new $.Deferred;e.push(i);$.when(AVL.RESPONSIVEFORM.VALIDATION.FUNCTIONS.CheckInputValue(t,n,r,f,i,!0)).done(function(i){i&&(u=!1);AVL.RESPONSIVEFORM.VALIDATION.DOM.DisplayValidationResult(t,n,i,!0);AVL.RESPONSIVEFORM.VALIDATION.SubmitValidationDebug&&console.log(n.attr("id").split("_").pop()+"("+n.val()+") - fail: "+i)})})}),$.when.apply(null,e).done(function(){r.val(r.data("original"));u?i!=null?(AVL.RESPONSIVEFORM.CORE.UTILITIES.ReleaseLocalStorage($(".responsive-form")),localStorage.removeItem("focus"),i.apply(r[0])):(r.val(o).data("validated","true"),AVL.RESPONSIVEFORM.CORE.UTILITIES.ReleaseLocalStorage($(".responsive-form")),localStorage.removeItem("focus"),f.onclick=null,setTimeout(function(){r.trigger("click");r.attr("data-submit-disable")=="true"&&r.prop("disabled",!0)},1)):s===!0&&AVL.RESPONSIVEFORM.VALIDATION.DOM.MoveToFirstFailedInput();AVL.RESPONSIVEFORM.VALIDATION.SubmitValidationDebug&&console.log("Form sumbit validated: "+u)}),!1)}},UTILITIES:{FormatUSPhoneNumber:function(n,t,i){t=t.replace(/["'()-]/g,"");t=t.replace(/ /g,"");t=t.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNonUSCountry(n)||i)&&n.val(t)},GetCountryCode:function(n){var i="",t=n.closest(".responsive-form").find(".dd-country select");return t.length>0&&t.val()&&(i=t.val().toLowerCase()),i},ValidateRange:function(n,t,i,r,u,f){var c=AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNumber(t),l=t.replace(/[^.0-9]/g,""),s=parseFloat(l),e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/),h,o=!1;return h=Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)),t===""||!c||s<=0?(o=!0,n.attr("data-warning-override","Please enter a valid "+f+".")):s<i||s>r?(o=!0,n.attr("data-warning-override","Please enter a valid "+f+".")):h>u&&(o=!0,n.attr("data-warning-override","Please enter a "+f+" of up to "+u+" decimal places.")),o},RemoveHazardousStrings:function(n){n.find("input.textbox, textarea.textarea").each(function(){$(this).val(AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.SanitizeValue($(this).val()))})},SanitizeValue:function(n){return n.replace(/\< /g,"<").replace(/\</g,"< ").replace(/\&\#/g,"& #")},IsAlphNumeric:function(n){return!/[^A-Za-z0-9]/.test(n)},IsNoSelection:function(n){return n!=="0"&&AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(n)},IsNotZero:function(n){return n>0},IsNotEmpty:function(n){return n!==""},IsNotAvailable:function(n){return n!=="N/A"},IsNumber:function(n){return!isNaN(n)},IsWholeNumber:function(n){return/^\d+$/.test(n)},IsPrice:function(n){return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(n)},IsISBN:function(n){return/^(979|978)\d{10}$/i.test(n)},IsPhoneNumber:function(n){return/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/i.test(n)},IsUSPhoneNumber:function(n){var t=n.replace(/["'()-]/g,"");return t=t.replace(/ /g,""),/^[0-9]{1,11}$/.test(+t)&&(t.length===10||t.length===11)},IsPhoneNumberByCountry:function(n,t){var i=!1;switch(t){case"us":i=!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsUSPhoneNumber(n)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(n);break;case"ca":case"ant":case"bar":case"bah":case"angu":case"brv":case"cay":case"ber":case"gren":case"tc":case"mons":case"guam":case"stm":case"stl":case"domi":case"stv":case"pr":case"do":case"tri":case"stk":case"jam":i=!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsPhoneNumber(n);break;default:i=!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsInternationalPhoneNumber(n)}return i},IsInternationalPhoneNumber:function(n){return/^(\+)?[0-9\-().\s]{7,15}$/i.test(n)},IsNonUSCountry:function(n){var t=AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.GetCountryCode(n);return t!=="us"},IsEmailAddress:function(n){return/^([\w-\.+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/i.test(n)},IsLuhnPass:function(t){var e=!0,f,i;if(/[^0-9-]+/.test(t))e=!1;else{var u=0,i=0,r=!1;for(t=t.replace(/\D/g,""),n=t.length-1;n>=0;n--)f=t.charAt(n),i=parseInt(f,10),r&&(i*=2)>9&&(i-=9),u+=i,r=!r;return u%10==0?!0:!1}},IsSSN:function(n){return/^(?!000)([0-9]\d{2}|7([0-9]\d|7[012]))([ -]?)(?!00)\d\d\3(?!0000)\d{4}$/i.test(n)},IsURL:function(n){return/^(https?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},IsDate:function(n){return!/Invalid|NaN/.test(new Date(n))},IsValidDate:function(n){if(!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsNotEmpty(n)||!AVL.RESPONSIVEFORM.VALIDATION.UTILITIES.IsDateMMDDYY(n))return!1;var t=n.split("/"),r=parseInt(t[2],10),u=parseInt(t[0],10)-1,f=parseInt(t[1],10),i=new Date(r,u,f);return i.getFullYear()===r&&i.getMonth()===u&&i.getDate()===f},IsDateMMDDYY:function(n){return/^(0[1-9]|1[012])[- /.](0[1-9]|[12][0-9]|3[01])[- /.](19|20)\d\d$/i.test(n)}}};AVL=AVL||{};AVL.RESPONSIVE={IsUniversal:!1,IsMobile:!1,IsKeyboard:!1,IsLoggedIn:!1,Animating:0,Init:function(){(typeof AVL.RESPONSIVE.IsUniversal=="undefined"||AVL.RESPONSIVE.IsUniversal!==!0)&&AVL.RESPONSIVE.BINDINGS.BindPageLoad();AVL.RESPONSIVE.DOM.SetLanguageAfterTranslation()},BINDINGS:{BindPageLoad:function(){AVL.RESPONSIVE.$container=$("#slideout-container");FastClick.attach(document.body);AVL.RESPONSIVE.DOM.CreatePageMenu();AVL.RESPONSIVE.DOM.CreateMobileQuoteInfo();AVL.RESPONSIVE.DOM.AdjustForFontFaceSupport();AVL.RESPONSIVE.BINDINGS.BindResize();AVL.RESPONSIVE.BINDINGS.BindClicks();var n=$("input#avlBrand").val();n!=14&&n!=16&&AVL.RESPONSIVE.BINDINGS.BindSwipe();AVL.UTILITIES.FUNCTIONS.CheckForOverflowScrolling();BRAND.RESPONSIVE.DOM.SetIsMobile();typeof BRAND.RESPONSIVE.DOM.AddMobileMenuLogin=="function"&&BRAND.RESPONSIVE.DOM.AddMobileMenuLogin()},BindResize:function(){$(window).on("resize orientationchange",function(){BRAND.RESPONSIVE.DOM.SetIsMobile();typeof BRAND.RESPONSIVE.DOM.ResetSiteHeader=="function"&&BRAND.RESPONSIVE.DOM.ResetSiteHeader()})},BindClicks:function(){var n=[];$(".dropDown-menu-link").off("click").on("click",function(n){var i=n.target||n.srcElement,t=$(i).closest(".dropDown-menu-link")[0];($("body").width()<=825||$("body").width()<=1024&&!$(i).parents().hasClass("footer-nav"))&&!$(i).parents().hasClass("sub-menu")&&(n.preventDefault(),$(t).parents().hasClass("slide-out")||($(t).find(".sub-menu").hasClass("open")?AVL.RESPONSIVE.DOM.HidePageMenu(t):AVL.RESPONSIVE.DOM.ShowPageMenu(t)))});$("input[type='radio']").closest(":has(label)").find("label").each(function(){n.push(this)});$(n).on("click",function(n){var t=document.getElementById(this.getAttribute("for"));$(t).attr("type")==="radio"&&(n.preventDefault(),t.click(),t.click())});BRAND.RESPONSIVE.BINDINGS.BindClicks()},BindSwipe:function(){$("html.touch").hammer({drag_lock_to_axis:!0,prevent_mouseevents:!0,stop_browser_behavior:!1,swipe:!1}).on("dragend dragleft dragright dragup dragdown",AVL.RESPONSIVE.DOM.HandleSlideoutSwipe)},BindSortingDropdown:function(){$(".sort-container .sort-text").off("click").on("click",function(){var n,t;$(".dataTable thead").toggleClass("show-sorting-dropdown");n=$(this).closest(".sort-container").next(".dataTables_wrapper").find(".dataTable thead tr");n.find("th").css("width","");t=n.width()+20;$(".dataTable thead th").css("width",t);event.stopPropagation()});$("body").on("click",function(){$(".dataTable thead").removeClass("show-sorting-dropdown")});$(".dataTable th").on("click",function(){$(this).closest(".dataTables_wrapper").prev(".sort-container").find(".sort-text").text($(this).text())});$(".dataTable").each(function(){$(this).find("tbody tr").length<=1&&$(this).closest(".dataTables_wrapper").prev(".sort-container").hide()})}},DOM:{CreateMobileQuoteInfo:function(){if(AVL.RESPONSIVE.IsUniversal)return!1;if($("#project-summary").length&&($("#mobile-quote #mobile-quote-name").text($("#project-summary .project-name").text()),$("#mobile-quote #mobile-quote-id").text($("#project-summary .id-label span").text()),$("#mobile-quote-details-modal .avlModal-header").text($("#project-summary>h2").text()),$("#mobile-quote-details-modal .avlModal-content").html($("#project-summary>.wrapper").html()),$("#project-summary #summary-links").remove(),$("#site-container").append($("#content-container aside .avlModal-container")),$("input#avlBrand").val()==0&&$("#site-container").append($("#site-container #quote-details-modal"))),$(".page-wrapper .page-buttons .continue-button").length)$("#next-button-mobile").removeClass("disabled").on("click",function(){return $(".page-buttons input.continue-button").trigger("click"),!1});else if($("#artwork-designtemplate-page #save-button").length)$("#next-button-mobile").removeClass("disabled").on("click",function(){return $("#artwork-designtemplate-page #save-button").trigger("click"),!1});if($(".page-wrapper .page-buttons input.secondary-site-button").length)$("#previous-button-mobile").removeClass("disabled").on("click",function(){return $(".page-buttons input.secondary-site-button").trigger("click"),!1})},HandleSlideoutSwipe:function(n){var r=n.target||n.srcElement;if($(r).hasClass("touchable","avlModal","draggable","ui-sortable")||$(r).parents().hasClass("touchable","avlModal","draggable","ui-sortable")||$(".avlModal").is(":visible"))return!0;$(r).hasClass("overlay")&&(n.preventDefault(),n.stopPropogation());var t=n.gesture.deltaX,u=n.gesture.deltaY,f=$("#site-navigation").hasClass("active"),i={};switch(n.type){case"dragright":case"dragleft":case"dragdown":case"dragup":Math.abs(t)>Math.abs(u)?(n.gesture.preventDefault(),n.gesture.stopPropagation(),AVL.RESPONSIVE.$container.hasClass("slide-out")?f&&t<0?BRAND.RESPONSIVE.DOM.ToggleHiddenSlideOut(!0):!f&&t>0&&BRAND.RESPONSIVE.DOM.ToggleHiddenSlideOut(!1):AVL.RESPONSIVE.$container.is(":not(:animated)")&&!AVL.RESPONSIVE.Animating&&(i=AVL.RESPONSIVE.FUNCTIONS.GetTransformX(t),AVL.RESPONSIVE.$container.css(i))):u>0?$("#slideout-content").scrollTop()===0&&(n.gesture.preventDefault(),n.gesture.stopPropagation()):u<0&&$("#slideout-content").scrollTop()+$("#slideout-content").height()>=$("#slideout-content")[0].scrollHeight&&(n.gesture.preventDefault(),n.gesture.stopPropagation());break;case"dragend":AVL.RESPONSIVE.$container.hasClass("slide-out")||!AVL.RESPONSIVE.$container.is(":not(:animated)")||AVL.RESPONSIVE.Animating||(Math.abs(t)>80?t>0?BRAND.RESPONSIVE.DOM.ToggleHiddenSlideOut(!0):BRAND.RESPONSIVE.DOM.ToggleHiddenSlideOut(!1):(i=AVL.RESPONSIVE.FUNCTIONS.GetTransformX(0),AVL.RESPONSIVE.$container.cssAnimate(i,300,"ease",function(){AVL.RESPONSIVE.$container.hasClass("slide-out")||!AVL.RESPONSIVE.$container.is(":not(:animated)")||AVL.RESPONSIVE.Animating||AVL.RESPONSIVE.DOM.ResetSlideout()})))}$("#slideout-content").scrollLeft(0)},ResetSlideout:function(){AVL.RESPONSIVE.$container.removeClass("slide-out");AVL.RESPONSIVE.$container.css({left:"",transform:""});$("#site-navigation, #mobile-help").removeClass("active")},AdjustSlideout:function(){var n,t;t=$("#site-navigation").hasClass("active")?$("#site-navigation").width():-$("#mobile-help").width();n=AVL.RESPONSIVE.FUNCTIONS.GetTransformX(t);AVL.RESPONSIVE.$container.css(n)},ShowPageMenu:function(n){var t=$(n).find(".page-header").length?$(n).find(".nav-menu").height():$(n).find(".nav-menu").height()-3;$(n).find(".icon-down-open-1").removeClass("icon-down-open-1").addClass("icon-up-open");$(n).find(".icon-plus").removeClass("icon-plus").addClass("icon-minus");$(n).find(".sub-menu").cssAnimate({height:t},700);$(n).find(".sub-menu").addClass("open")},HidePageMenu:function(n){$(n).find(".icon-up-open").removeClass("icon-up-open").addClass("icon-down-open-1");$(n).find(".icon-minus").removeClass("icon-minus").addClass("icon-plus");$(n).find(".sub-menu").cssAnimate({height:0},300);$(n).find(".sub-menu").removeClass("open")},CreatePageMenu:function(){var n=[],o=document.createDocumentFragment(),c=document.createElement("i"),u=document.createElement("div"),f=document.createElement("ul"),l=document.createElement("a"),i,t,s,e,h,r;if($("#nav-myaccount").length||$("#flow-navigation nav").length){for($("#nav-myaccount .aside-content").each(function(){$(this).css("display")!=="none"&&(n=$.merge(n,$(this).find("a").clone()))}),n=$.merge(n,$("#flow-navigation nav a:not(.link-current):not(.link-upcoming)").clone()),f.className="nav-menu",c.className="icon-down-open-1 submenu-dropdown-icon mobile",u.id="page-menu",u.className="sub-menu mobile",t=0;t<n.length;t++)e=window.location.href.toLowerCase(),h=n[t].href.toLowerCase(),$("#nav-myaccount").length?e.indexOf(h)===-1&&(i=document.createElement("li"),i.appendChild(n[t]),e.indexOf("profilepagemanager")!==-1&&h.indexOf("profilemanager")!==-1||(n[t].id==="royalty-payment-anchor"&&$("#nav-myaccount .aside-content #alert-icon").css("display")!=="none"&&(r=document.createElement("i"),r.setAttribute("id","alert-icon"),r.setAttribute("class","input-status input-warning icon-attention"),r.setAttribute("title","Please set up your preferred method of royalty payment"),r.setAttribute("onclick","$('#nav-myaccount .aside-content #payment-popover').css('display', 'none');return AVL.RESPONSIVEFORM.CORE.DOM.ShowValidationMessage(event, $(this));"),i.appendChild(r)),f.appendChild(i))):e.indexOf(n[n.length-t-1].href.toLowerCase())===-1&&(i=document.createElement("li"),s=n[n.length-t-1],$(s).prepend("&nbsp; - "),i.appendChild(s),f.appendChild(i));u.appendChild(f);n.length>0&&o.appendChild(c);o.appendChild(u);l.setAttribute("class","dropDown-menu-link");$(".page-header").not(".no-menu").wrap(l).append(o)}},AdjustForFontFaceSupport:function(){navigator.userAgent.match(/(Android (2.0|2.1))|(Nokia)|(Opera (Mini|Mobi))|(w(eb)?OSBrowser)|(UCWEB)|(Windows Phone)|(XBLWP)|(ZuneWP)/)!==null&&($(".no-fontface").show(),$(".icon-link i, .icon-info, .icon-help-1, .icon-checkmark, .icon-menu").hide(),$(".icon-link, .icon-link:active").css({lineHeight:"27px"}),$("#mobile-header a").width(60),$("#mobile-site-header a").width(60))},ResetSearch:function(){setTimeout(function(){$("#header-search .txt-search").removeClass("failed-validation").find("#SearchTerms").val("").siblings("label").removeClass("inputted")},300)},AddDataAttributeToCell:function(n){var t=[],i=n||".tbl-datatable";$(i+" > thead > tr > th").each(function(){t.push($(this).text())});$(i+" > tbody > tr").each(function(){$(this).find("td").each(function(n){$(this).attr("data-label",t[n])})})},SetLanguageAfterTranslation:function(){$("#google-translate-header").on("DOMSubtreeModified",".goog-te-menu-value",function(){$(".goog-te-menu-value span").text().indexOf("Spanish")!==-1?$("#site-container").attr("lang","es-ES"):$("#site-container").attr("lang","en-US")})}},FUNCTIONS:{GetTransformX:function(n){var t={};return Modernizr.csstransforms3d?t[Modernizr.prefixedCSS("transform")]="translate3d("+n+"px, 0px, 0px) scale3d(1,1,1)":Modernizr.csstransforms?t[Modernizr.prefixedCSS("transform")]="translate("+n+"px, 0px)":t[left]=n,t},IsSlideoutVisible:function(){return AVL.RESPONSIVE.$container.hasClass("slide-out")},GetMenuHeight:function(n){var t=0;return n.children("li:visible").each(function(){t+=$(this).children("a").first().outerHeight()}),t}}};$(document).ready(function(){AVL.RESPONSIVE.Init()});BRAND=BRAND||{};BRAND.RESPONSIVE={SearchPlaceholderText:"Search by title, author, or keyword",SearchButtonText:"Search",Init:function(){BRAND.RESPONSIVE.DOM.ToggleLoginButtonAppearance();BRAND.RESPONSIVE.COMPONENTS.SEARCH.Init()},BINDINGS:{BindClicks:function(){$(".open-menu-link").off("click").on("click",BRAND.RESPONSIVE.DOM.ShowHideMenu);$("#mobile-site-header #togglenav-button-header").off("click").on("click",function(){return BRAND.RESPONSIVE.DOM.ToggleHiddenSlideOut(!0),!1});$("#mobile-site-header #togglehelp-button-header").off("click").on("click",function(){return BRAND.RESPONSIVE.DOM.ToggleHiddenSlideOut(!1),!1});$("#slideout-overlay").off("click").on("click",function(n){n.stopPropagation();var t=$("#site-navigation").hasClass("active");BRAND.RESPONSIVE.DOM.ToggleHiddenSlideOut(t)});$("#btn-publish").off("click").on("click",function(){var n="";return window.location.host.includes("store")&&(n=window.location.protocol+"//"+window.location.host.replace(/dev-store./,"dev-www.").replace(/qa-store./,"qa-www.").replace(/staging-store./,"test-www.").replace(/store./,"www.")),window.open(n+"/book-printing/"),!1})}},COMPONENTS:{SEARCH:{Init:function(){$("#search-results-form").find(".btn-search").val("Find Books");$("#lnk-search").off("click").on("click",BRAND.RESPONSIVE.COMPONENTS.SEARCH.FUNCTIONS.CheckHeaderSearch);$(".searchbox, #txt-search").off("keypress").on("keypress",BRAND.RESPONSIVE.COMPONENTS.SEARCH.FUNCTIONS.BlockReturn);$(".searchbox, #txt-search").off("keydown").on("keydown",BRAND.RESPONSIVE.COMPONENTS.SEARCH.FUNCTIONS.BlockReturn);$(".searchbox, #txt-search").val(BRAND.RESPONSIVE.SearchPlaceholderText);$(".searchbox, #txt-search").on({focusin:BRAND.RESPONSIVE.COMPONENTS.SEARCH.FUNCTIONS.FocusSearch,focusout:BRAND.RESPONSIVE.COMPONENTS.SEARCH.FUNCTIONS.UnfocusSearch})},FUNCTIONS:{CheckHeaderSearch:function(){var t=new RegExp("^s*[a-z0-9]+s*[a-z0-9]*s*[a-z0-9]*","i"),n=$(this).attr("id")==="lnk-search"?$("#txt-search").val().toLowerCase():$(this).val().toLowerCase();if(n===BRAND.RESPONSIVE.SearchPlaceholderText.toLowerCase()||n===BRAND.RESPONSIVE.SearchButtonText.toLowerCase()||t.test(n)===!1||n==="search")return $(this).val(BRAND.RESPONSIVE.SearchButtonText),$(this).removeClass("user-input"),$(this).trigger("blur"),!1;window.location.href="/websearch/index.aspx?SearchTerms="+n.replace(" ","+")},BlockReturn:function(n){if(n.keyCode===13)return n.stopPropagation(),n.preventDefault(),$(".btn-search").trigger("click"),!1},FocusSearch:function(){var t=new RegExp("^s*[a-z0-9]+s*[a-z0-9]*s*[a-z0-9]*","i"),n=$(this).val().toLowerCase();(n===BRAND.RESPONSIVE.SearchPlaceholderText.toLowerCase()||n===BRAND.RESPONSIVE.SearchButtonText.toLowerCase()||t.test(n)===!1||n==="search")&&($(this).val(""),$(this).addClass("user-input"))},UnfocusSearch:function(){$(this).val()===""&&($(this).removeClass("user-input"),$(this).val(BRAND.RESPONSIVE.SearchPlaceholderText))}}}},DOM:{ShowHideMenu:function(){return $("#site-header").hasClass("open")?BRAND.RESPONSIVE.DOM.HideMenu():BRAND.RESPONSIVE.DOM.ShowMenu(),!1},ShowMenu:function(){return $("#site-header, #mobile-header").addClass("open"),$("#site-header").show(),!1},HideMenu:function(){$("#site-header, #mobile-header").addClass("closing");AVL.RESPONSIVE.IsMobile&&$("#site-header").hide();setTimeout(function(){$("#site-header, #mobile-header").removeClass("open").removeClass("closing")},700)},ToggleHiddenSlideOut:function(n){var i=300,r,t=0,u=null;AVL.RESPONSIVE.$container.is(":not(:animated)")&&!AVL.RESPONSIVE.Animating&&(AVL.RESPONSIVE.Animating++,AVL.RESPONSIVE.FUNCTIONS.IsSlideoutVisible()?u=function(){AVL.RESPONSIVE.DOM.ResetSlideout()}:(AVL.RESPONSIVE.$container.addClass("slide-out"),n?($("#site-navigation").addClass("active"),t=$("#site-navigation").width()):($("#mobile-help").addClass("active"),t=-Math.min($(window).width()*.9,$("body").width()-62))),r=AVL.RESPONSIVE.FUNCTIONS.GetTransformX(t),AVL.RESPONSIVE.$container.cssAnimate(r,i,"ease",u),setTimeout(function(){AVL.RESPONSIVE.Animating--},i))},ToggleLoginButtonAppearance:function(){$("#isLoggedIn").val()==="true"?($(".login-link").find("a").html("Logout").attr("href","/MyAccount/logout.aspx"),$(".lnk-login").html("Logout").attr("href","/MyAccount/logout.aspx")):($(".login-link").find("a").html("Login").attr("href","/MyAccount/login.aspx?pageto="),$(".lnk-login").html("Login").attr("href","/MyAccount/login.aspx?pageto="))},SetIsMobile:function(){var n={};$("#site-header-container").css("display")==="none"?(n["max-width"]=$("body").width()-62,$("#mobile-help").css(n),AVL.RESPONSIVE.FUNCTIONS.IsSlideoutVisible()&&AVL.RESPONSIVE.DOM.AdjustSlideout(),AVL.RESPONSIVE.IsMobile===!1&&(AVL.RESPONSIVE.IsMobile=!0)):AVL.RESPONSIVE.IsMobile&&(AVL.RESPONSIVE.FUNCTIONS.IsSlideoutVisible()&&AVL.RESPONSIVE.DOM.ResetSlideout(),AVL.RESPONSIVE.IsMobile=!1)}}};$(document).ready(function(){BRAND.RESPONSIVE.Init()}),function(n){var t=function(){var i=function(n){var t={data:[],heatmap:n};this.max=1;this.get=function(n){return t[n]};this.set=function(n,i){t[n]=i}},n,t;return i.prototype={addDataPoint:function(n,t){if(!(n<0)&&!(t<0)){var r=this,u=r.get("heatmap"),i=r.get("data");if(i[n]||(i[n]=[]),i[n][t]||(i[n][t]=0),i[n][t]+=arguments.length<3?1:arguments[2],r.set("data",i),r.max<i[n][t]){u.get("actx").clearRect(0,0,u.get("width"),u.get("height"));r.setDataSet({max:i[n][t],data:i},!0);return}u.drawAlpha(n,t,i[n][t],!0)}},setDataSet:function(n,t){var h=this,r=h.get("heatmap"),f=[],u=n.data,s=u.length,e,o,i;if(r.clear(),this.max=n.max,r.get("legend")&&r.get("legend").update(n.max),t!=null&&t){for(e in u)if(e!==undefined)for(o in u[e])o!==undefined&&r.drawAlpha(e,o,u[e][o],!1)}else while(s--)i=u[s],r.drawAlpha(i.x,i.y,i.count,!1),f[i.x]||(f[i.x]=[]),f[i.x][i.y]||(f[i.x][i.y]=0),f[i.x][i.y]=i.count;r.colorize();this.set("data",u)},exportDataSet:function(){var r=this,i=r.get("data"),u=[],n,t;for(n in i)if(n!==undefined)for(t in i[n])t!==undefined&&u.push({x:parseInt(n,10),y:parseInt(t,10),count:i[n][t]});return{max:r.max,data:u}},generateRandomDataSet:function(n){var r=this.get("heatmap"),f=r.get("width"),e=r.get("height"),t={},u=Math.floor(Math.random()*1e3+1),i;for(t.max=u,i=[];n--;)i.push({x:Math.floor(Math.random()*f+1),y:Math.floor(Math.random()*e+1),count:Math.floor(Math.random()*u+1)});t.data=i;this.setDataSet(t)}},n=function(n){this.config=n;var t={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(n){return t[n]};this.set=function(n,i){t[n]=i};this.init()},n.prototype={init:function(){var n=this,i=n.config,s=i.title||"Legend",o=i.position,r=i.offset||10,h=i.gradient,u=document.createElement("ul"),t,f,e="";n.processGradientObject();e+=o.indexOf("t")>-1?"top:"+r+"px;":"bottom:"+r+"px;";e+=o.indexOf("l")>-1?"left:"+r+"px;":"right:"+r+"px;";t=document.createElement("div");t.style.cssText="border-radius:5px;position:absolute;"+e+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;";t.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+s+"<\/h3>";u.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;";f=document.createElement("div");f.style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",n.createGradientImage(),");"].join("");t.appendChild(u);t.appendChild(f);n.set("element",t);n.set("labelsEl",u);n.update(1)},processGradientObject:function(){var r=this,i=this.config.gradient,n=[],t;for(t in i)i.hasOwnProperty(t)&&n.push({stop:t,value:i[t]});n.sort(function(n,t){return n.stop-t.stop});n.unshift({stop:0,value:"rgba(0,0,0,0)"});r.set("gradientArr",n)},createGradientImage:function(){var f=this,e=f.get("gradientArr"),i=e.length,r=document.createElement("canvas"),n=r.getContext("2d"),u,t;for(r.width="256",r.height="15",u=n.createLinearGradient(0,5,256,10),t=0;t<i;t++)u.addColorStop(1/(i-1)*t,e[t].value);for(n.fillStyle=u,n.fillRect(0,5,256,10),n.strokeStyle="black",n.beginPath(),t=0;t<i;t++)n.moveTo((1/(i-1)*t*256>>0)+.5,0),n.lineTo((1/(i-1)*t*256>>0)+.5,t==0?15:5);return n.moveTo(255.5,0),n.lineTo(255.5,15),n.moveTo(255.5,4.5),n.lineTo(0,4.5),n.stroke(),f.set("ctx",n),r.toDataURL()},getElement:function(){return this.get("element")},update:function(n){for(var u=this,i=u.get("gradientArr"),o=u.get("ctx"),s=u.get("labelsEl"),f,e="",r,t=0;t<i.length;t++)f=n*i[t].stop>>0,r=o.measureText(f).width/2>>0,t==0&&(r=0),t==i.length-1&&(r*=2),e+='<li style="position:absolute;left:'+(((1/(i.length-1)*t*256||0)>>0)-r+.5)+'px">'+f+"<\/li>";s.innerHTML=e}},t=function(n){var t={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1e3,r:0,t:1e3,b:0},debug:!1};this.store=new i(this);this.get=function(n){return t[n]};this.set=function(n,i){t[n]=i};this.configure(n);this.init()},t.prototype={configure:function(t){var i=this,r;i.set("radius",t.radius||40);i.set("element",t.element instanceof Object?t.element:document.getElementById(t.element));i.set("visible",t.visible!=null?t.visible:!0);i.set("max",t.max||!1);i.set("gradient",t.gradient||{.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"});i.set("opacity",parseInt(255/(100/t.opacity),10)||180);i.set("width",t.width||0);i.set("height",t.height||0);i.set("debug",t.debug);t.legend&&(r=t.legend,r.gradient=i.get("gradient"),i.set("legend",new n(r)))},resize:function(){var n=this,t=n.get("element"),i=n.get("canvas"),r=n.get("acanvas");i.width=r.width=n.get("width")||t.style.width.replace(/px/,"")||n.getWidth(t);this.set("width",i.width);i.height=r.height=n.get("height")||t.style.height.replace(/px/,"")||n.getHeight(t);this.set("height",i.height)},init:function(){var n=this,t=document.createElement("canvas"),i=document.createElement("canvas"),f=t.getContext("2d"),r=i.getContext("2d"),u=n.get("element");n.initColorPalette();n.set("canvas",t);n.set("ctx",f);n.set("acanvas",i);n.set("actx",r);n.resize();t.style.cssText=i.style.cssText="position:absolute;top:0;left:0;z-index:10000000;";t.setAttribute("id","heatmap-canvas");n.get("visible")||(t.style.display="none");u.appendChild(t);n.get("legend")&&u.appendChild(n.get("legend").getElement());n.get("debug")&&document.body.appendChild(i);r.shadowOffsetX=15e3;r.shadowOffsetY=15e3;r.shadowBlur=15},initColorPalette:function(){var i=this,r=document.createElement("canvas"),e=i.get("gradient"),t,u,n,f;r.width="1";r.height="256";t=r.getContext("2d");u=t.createLinearGradient(0,0,1,256);n=t.getImageData(0,0,1,1);n.data[0]=n.data[3]=64;n.data[1]=n.data[2]=0;t.putImageData(n,0,0);n=t.getImageData(0,0,1,1);i.set("premultiplyAlpha",n.data[0]<60||n.data[0]>70);for(f in e)u.addColorStop(f,e[f]);t.fillStyle=u;t.fillRect(0,0,1,256);i.set("gradient",t.getImageData(0,0,1,256).data)},getWidth:function(n){var t=n.offsetWidth;return n.style.paddingLeft&&(t+=n.style.paddingLeft),n.style.paddingRight&&(t+=n.style.paddingRight),t},getHeight:function(n){var t=n.offsetHeight;return n.style.paddingTop&&(t+=n.style.paddingTop),n.style.paddingBottom&&(t+=n.style.paddingBottom),t},colorize:function(n,t){var u=this,l=u.get("width"),g=u.get("radius"),a=u.get("height"),nt=u.get("actx"),tt=u.get("ctx"),e=g*3,it=u.get("premultiplyAlpha"),p=u.get("gradient"),k=u.get("opacity"),f=u.get("bounds"),o,s,w,b,v,i,d,y,h,c,r;for(n!=null&&t!=null?(n+e>l&&(n=l-e),n<0&&(n=0),t<0&&(t=0),t+e>a&&(t=a-e),o=n,s=t,b=n+e,w=t+e):(o=f.l<0?0:f.l,b=f.r>l?l:f.r,s=f.t<0?0:f.t,w=f.b>a?a:f.b),v=nt.getImageData(o,s,b-o,w-s),i=v.data,d=i.length,r=3;r<d;r+=4)(y=i[r],h=y*4,h)&&(c=y<k?y:k,i[r-3]=p[h],i[r-2]=p[h+1],i[r-1]=p[h+2],it&&(i[r-3]/=255/c,i[r-2]/=255/c,i[r-1]/=255/c),i[r]=c);v.data=i;tt.putImageData(v,o,s)},drawAlpha:function(n,t,i,r){var e=this,o=e.get("radius"),u=e.get("actx"),a=e.get("max"),f=e.get("bounds"),s=n-1.5*o>>0,h=t-1.5*o>>0,c=n+1.5*o>>0,l=t+1.5*o>>0;u.shadowColor="rgba(0,0,0,"+(i?i/e.store.max:"0.1")+")";u.shadowOffsetX=15e3;u.shadowOffsetY=15e3;u.shadowBlur=15;u.beginPath();u.arc(n-15e3,t-15e3,o,0,Math.PI*2,!0);u.closePath();u.fill();r?e.colorize(s,h):(s<f.l&&(f.l=s),h<f.t&&(f.t=h),c>f.r&&(f.r=c),l>f.b&&(f.b=l))},toggleDisplay:function(){var n=this,t=n.get("visible"),i=n.get("canvas");i.style.display=t?"none":"block";n.set("visible",!t)},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var n=this,t=n.get("width"),i=n.get("height");n.store.set("data",[]);n.get("ctx").clearRect(0,0,t,i);n.get("actx").clearRect(0,0,t,i)},cleanup:function(){var n=this;n.get("element").removeChild(n.get("canvas"))}},{create:function(n){return new t(n)},util:{mousePosition:function(n){var t,i;if(n.layerX?(t=n.layerX,i=n.layerY):n.offsetX&&(t=n.offsetX,i=n.offsetY),typeof t!="undefined")return[t,i]}}}}();n.h337=n.heatmapFactory=t}(window);jss=function(){function a(n){for(var u=n.cssRules||n.rules||[],i={},r,t=0;t<u.length;t++)r=s(u[t].selectorText),i[r]||(i[r]=[]),i[r].push({sheet:n,index:t,style:u[t].style});return i}function n(n,t){var u=n.cssRules||n.rules||[],f=[],i,r;for(t=t.toLowerCase(),i=0;i<u.length;i++)r=u[i].selectorText,r&&(r==t||r==b(t)||r==k(t))&&f.push({sheet:n,index:i,style:u[i].style});return f}function v(n,t){var u=n.cssRules||n.rules||[],i=u.length,f=y(n,t,u,i);return f||r(n,t,i),{sheet:n,index:i,style:u[i].style}}function r(n,t,i){n.insertRule?n.insertRule(t+" { }",i):n.addRule(t,null,i)}function y(n,u,f,e){var c,l;if(t.exec(u))c=u,l=h(u);else if(o.exec(u))c=s(u),l=u;else return!1;return i||(r(n,c,e),f.length<=e&&(i=!0)),i&&r(n,l,e),!0}function s(n){return n.replace(o,function(n,t,i,r){return t+"::"+r})}function h(n){return n.replace(t,function(n,t,i){return":"+i})}function p(n){var t=n.sheet;t.deleteRule?t.deleteRule(n.index):t.removeRule&&t.removeRule(n.index)}function c(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function u(n){for(var i={},t=0;t<n.length;t++)c(i,w(n[t].style));return i}function w(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=n[g(n[t])];return i}function b(n){for(var t="",i=0;(match=l.exec(n))!=null;){if(match[0]==="")break;t+=n.substring(i,match.index);t+=n.substr(match.index+match[1].length,match[2].length);t+=n.substr(match.index,match[1].length);i=match.index+match[0].length}return t+n.substr(i)}function k(n){return t.exec(n)?h(n):n}function d(n,t){var i,r,u;for(i in t)r=t[i],u=r.indexOf(" !important"),n.style.removeProperty(i),u>0?n.style.setProperty(i,r.substr(0,u),"important"):n.style.setProperty(i,r)}function g(n){return n.replace(/-([a-z])/g,function(n,t){return t.toUpperCase()})}function nt(n){var i={},t;for(t in n)i[tt(t)]=n[t];return i}function tt(n){return n.replace(/([A-Z])/g,function(n,t){return"-"+t.toLowerCase()})}var l=/((?:\.|#)[^\.\s#]+)((?:\.|#)[^\.\s#]+)/g,t=/(::)(before|after|first-line|first-letter|selection)/,o=/([^:])(:)(before|after|first-line|first-letter|selection)/,i,f=function(n){this.doc=n;this.head=this.doc.head||this.doc.getElementsByTagName("head")[0];this.sheets=this.doc.styleSheets||[]},e;return f.prototype={get:function(t){if(!this.defaultSheet)return{};if(t)return u(n(this.defaultSheet,t));var i=a(this.defaultSheet);for(t in i)i[t]=u(i[t]);return i},getAll:function(t){for(var r={},i=0;i<this.sheets.length;i++)c(r,u(n(this.sheets[i],t)));return r},set:function(t,i){var r,u;for(this.defaultSheet||(this.defaultSheet=this._createSheet()),i=nt(i),r=n(this.defaultSheet,t),r.length||(r=[v(this.defaultSheet,t)]),u=0;u<r.length;u++)d(r[u],i)},remove:function(t){var i,r;if(this.defaultSheet){if(!t){this._removeSheet(this.defaultSheet);delete this.defaultSheet;return}for(i=n(this.defaultSheet,t),r=0;r<i.length;r++)p(i[r]);return i.length}},_createSheet:function(){var n=this.doc.createElement("style");return n.type="text/css",n.rel="stylesheet",this.head.appendChild(n),n.sheet},_removeSheet:function(n){var t=n.ownerNode;t.parentNode.removeChild(t)}},e=new f(document),e.forDocument=function(n){return new f(n)},e}();typeof module!="undefined"&&module.exports&&(module.exports=jss);EventRecorder=function(n,t,i){var r={},s=null,l=-1,a=!1,v=2147483647,nt=3e3,f={record:!0,debug:!1,escPlayback:!1},tt=function(n,t,i){var r=parent&&parent.EVENTPLAYBACK&&parent.EVENTPLAYBACK.playback;typeof n=="boolean"&&(f.record=n);typeof t=="boolean"&&(f.debug=t);typeof i=="boolean"&&(f.escPlayback=i);f.record&&!r&&ot()},it=function(){f.record&&(s=Date.now(),e(null,null,null,null,null,null,null,null,null,o(s),null,null,null),u("recording started at "+s),a=!0,et())},rt=function(){var t=Date.now(),n;u("recording stopped");a=!1;e(null,null,null,null,null,null,null,null,null,o(t),null,null,null);r.Filesize=AVL.UTILITIES.FUNCTIONS.GetPhysicalSize(h());(r.Inactivity==null||r.Inactivity<0)&&(r.Inactivity=0);n=t-s;r.Duration=n>v?v:n;r.Engagement=r.Duration-r.Inactivity;ut()},ut=function(){r.Active=!1;f.record&&r.Unloadable&&ht()},h=function(){return JSON.stringify(r)},ft=function(t){if(t.length>0)switch(t[0]){case"tagRecording":typeof r.Tags=="undefined"&&(r.Tags="");switch(typeof t[1]){case"object":n.each(t[1],function(n,t){var i=t==null||t==""?"":":"+t,u=n+i,f=r.Tags==""?"":",";r.Tags+=f+u});break;case"string":r.Tags+=","+t[1]}u(r.Tags)}},et=function(){if(f.record){i.onload=function(){wgxpath.install()};"onbeforeunload"in i?(i.onbeforeunload=function(){rt()},r.Unloadable=!0,u("window beforeunload event bound!")):(r.Unloadable=!1,r.Active=!1,u("window beforeunload failed!"));n(i).on("resize",function(n){n.timeStamp=Date.now();y(n)});n(t).on("resize mousedown mouseup mousemove dblclick keydown keyup scroll change touchstart touchmove touchend touchcancel",function(n){if(yt(n)){n.timeStamp=Date.now();switch(n.type){case"mousedown":case"mouseup":n.which==1&&y(n);break;default:y(n)}}});var e=n("#slideout-content").length==0?n(t):n("#slideout-content");e.on("scroll",function(n){n.timeStamp=Date.now();y(n)})}},y=function(t){if(a&&f.record)switch(t.type){case"mousemove":case"mousedown":case"mouseup":case"dblclick":(r.Events.length==0||t.type!="mousemove"||t.type=="mousemove"&&r.Events[r.Events.length-1].Mx!=t.pageX&&r.Events[r.Events.length-1].My!=t.pageY)&&(lt(n(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t))),t.type=="mouseup"&&(e(t.type,null,t.pageX,t.pageY,n(i).scrollLeft(),n(i).scrollTop(),null,n(i).width(),n(i).height(),o(Date.now()),k(n(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t))),AVL.UTILITIES.FUNCTIONS.GetElementXPath(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)),null),t.type="click",r.Clicks==null?r.Clicks=1:r.Clicks++),e(t.type,null,t.pageX,t.pageY,n(i).scrollLeft(),n(i).scrollTop(),null,n(i).width(),n(i).height(),o(Date.now()),null,AVL.UTILITIES.FUNCTIONS.GetElementXPath(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)),null));break;case"keydown":case"keyup":var u=t.which?t.which:t.keyCode;e(t.type,u,null,null,n(i).scrollLeft(),n(i).scrollTop(),null,n(i).width(),n(i).height(),o(Date.now()),null,AVL.UTILITIES.FUNCTIONS.GetElementXPath(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)),n(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)).val());break;case"change":e(t.type,null,null,null,n(i).scrollLeft(),n(i).scrollTop(),null,n(i).width(),n(i).height(),o(Date.now()),k(n(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t))),AVL.UTILITIES.FUNCTIONS.GetElementXPath(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)),n(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)).val());break;case"resize":p();e(t.type,null,null,null,n(i).scrollLeft(),n(i).scrollTop(),null,n(i).width(),n(i).height(),o(Date.now()),null,AVL.UTILITIES.FUNCTIONS.GetElementXPath(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)),null);break;case"scroll":p();e(t.type,t.pageX,t.pageY,null,n(i).scrollLeft(),n(i).scrollTop(),"window",n(i).width(),n(i).height(),o(Date.now()),null,AVL.UTILITIES.FUNCTIONS.GetElementXPath(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)),null)}},e=function(n,t,i,f,e,o,s,h,c,l,a,v,y){var p={Et:n,Kc:t,Mx:i,My:f,Sx:e,Sy:o,St:s,Ww:h,Wh:c,Ts:l,Tg:a,Tr:v,Vl:y};vt(l,nt);r.Events.push(p);u(p)},u=function(n){f.debug&&console.log(n)},ot=function(){r={Active:!0,Application:"",Belowfold:0,Brand:0,Browsername:"",Browserversion:"",Clicks:0,Colordepth:"",Cookiesenabled:!1,Country:"",Countrycode:"",Customerid:"",Date:c(),Devicetype:"",Documentheight:0,Duration:0,Engagement:0,Error:0,Events:"",Filesize:"",Flashversion:"",Inactivity:0,Ip:"",Isp:"",Javaenabled:!1,Language:"",Lastmodified:c(),Lastvisit:c(),Latitude:"",Loadtime:0,Longitude:"",Osname:"",Osversion:"",Page:"",Pagetitle:"",Referrer:"",Region:"",Regioncode:"",Screenheight:0,Screenres:"",Screenwidth:0,Scrollreach:0,Servertime:0,Sessionid:"",Sourcecode:"",Tags:"",Timezone:"",Unscrolled:0,Url:"",Useragent:"",Utmcampaign:"",Utmsource:"",Utmmedium:"",Utmcontent:"",Viewportheight:"",Viewportwidth:"",Visitortype:"",Browserfeatures:{Applicationcache:"",Audio:"",Backgroundsize:"",Borderimage:"",Canvas:"",Canvastext:"",Cssanimations:"",Csscolumns:"",Cssgradients:"",Cssreflections:"",Csstransforms:"",Csstransforms3d:"",Csstransitions:"",Borderradius:"",Boxshadow:"",Draganddrop:"",Flexbox:"",Fontface:"",Geolocation:"",Generatedcontent:"",Hashchange:"",History:"",Hsla:"",Indexeddb:"",Inlinesvg:"",Localstorage:"",Multiplebgs:"",Opacity:"",Postmessage:"",Rgba:"",Sessionstorage:"",Smil:"",Svg:"",Svgclippaths:"",Textshadow:"",Touch:"",Unloadable:0,Video:"",Webgl:"",Websockets:"",websqldatabase:"",webworkers:""}};ct();at();st();u(r);it()},st=function(){function i(n){l=parseInt(n.d);r.Servertime=(new Date).getTime()-t;u(r.Servertime)}function f(){r.Servertime=(new Date).getTime()-t;u("failed save!")}var t=(new Date).getTime();!0&&n.ajax({type:"POST",async:!0,cache:!1,url:g()+"/AddRecording",contentType:"application/json; charset=utf-8",data:JSON.stringify({jsonRequest:h()}),dataType:"json",success:i,error:f})},ht=function(){function r(n){u(n)}function f(n){u(n.status+" \n\r "+n.statusText+"\n\r"+n.responseText)}var t=g()+(l==-1?"/AddRecording":"/UpdateRecording"),i=l==-1?JSON.stringify({jsonRequest:h()}):JSON.stringify({id:l,jsonRequest:h()});!0&&n.ajax({type:"POST",async:!1,cache:!1,url:t,contentType:"application/json; charset=utf-8",data:i,dataType:"json",success:r,error:f})},ct=function(){var e=!0,o="ER_PV_"+d(),s="ER_RSID",u="ER_RLV",h="ER_RVT",t=AVL.UTILITIES.FUNCTIONS.GetCookie(s),f,n,i;t==undefined||t==null||t==""?(r.Sessionid=pt(),AVL.UTILITIES.FUNCTIONS.SetSessionCookie(s,r.Sessionid)):(r.Sessionid=t,e=!1);f=AVL.UTILITIES.FUNCTIONS.GetCookie(u);n=AVL.UTILITIES.FUNCTIONS.GetCookie(h);e||!w(f)||n==undefined||n==null||n==""?(i=AVL.UTILITIES.FUNCTIONS.GetCookie(o),w(i)?(r.Visitortype="returning",r.Lastvisit=i,AVL.UTILITIES.FUNCTIONS.SetSessionCookie(u,i)):(r.Visitortype="new",r.Lastvisit=b(),AVL.UTILITIES.FUNCTIONS.SetSessionCookie(u,b())),AVL.UTILITIES.FUNCTIONS.SetSessionCookie(h,r.Visitortype)):(r.Lastvisit=f,r.Visitortype=n);w(r.Lastvisit)||(r.Lastvisit=b());AVL.UTILITIES.FUNCTIONS.SetCookie(o,c(),360)},lt=function(r){var f=r.scrollParent(),s=r.hasScroll(),h=!f.is(t)&&f.hasScroll(),u;if((s||h)&&(u=s?r:r.scrollParent(),!u.hasClass("scrollable-record"))){u.addClass("scrollable-record");u.on("scroll",function(t){a&&e(t.type,null,null,null,u.scrollLeft(),u.scrollTop(),"element",n(i).width(),n(i).height(),o(Date.now()),null,AVL.UTILITIES.FUNCTIONS.GetElementXPath(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t)),null)})}},p=function(){var h=n(i).height(),c=n("#slideout-content").length==0?n(t).height():n("#slideout-content")[0].scrollHeight,o=n("#slideout-content").length==0?n(i).scrollTop():n("#slideout-content").scrollTop(),e=c-h,l=Math.ceil(e-o),s=100,f;return e>0&&(s=parseInt((o/e*100).toFixed(0))),f={percent:s,unscrolled:l},(r.Scrollreach==null||r.Scrollreach<f.percent)&&(r.Scrollreach=f.percent),(r.Unscrolled==null||r.Unscrolled>f.unscrolled)&&(r.Unscrolled=Math.ceil(f.unscrolled)),u(r.Unscrolled+"/"+f.unscrolled+"px - "+r.Scrollreach+"/"+f.percent+"%"),f},at=function(){var v="-",g=screen.width||0,nt=screen.height||0,rt=g+" x "+nt,ut=navigator.appVersion||"",u=navigator.userAgent||"",o=navigator.appName||"",f=""+parseFloat(navigator.appVersion),y=parseInt(navigator.appVersion,10),tt,e,l,h,w,it,b,s,k,a;(e=u.indexOf("Opera"))!=-1?(o="Opera",f=u.substring(e+6),(e=u.indexOf("Version"))!=-1&&(f=u.substring(e+8))):(e=u.indexOf("MSIE"))!=-1?(o="Internet Explorer",f=u.substring(e+5)):(e=u.indexOf("Chrome"))!=-1?(o="Chrome",f=u.substring(e+7)):(e=u.indexOf("Safari"))!=-1?(o="Safari",f=u.substring(e+7),(e=u.indexOf("Version"))!=-1&&(f=u.substring(e+8))):(e=u.indexOf("Firefox"))!=-1?(o="Firefox",f=u.substring(e+8)):u.indexOf("Trident/")!=-1?(o="Internet Explorer",f=u.substring(u.indexOf("rv:")+3)):(tt=u.lastIndexOf(" ")+1)<(e=u.lastIndexOf("/"))&&(o=u.substring(tt,e),f=u.substring(e+1),o.toLowerCase()==o.toUpperCase()&&(o=navigator.appName||""));(l=f.indexOf(";"))!=-1&&(f=f.substring(0,l));(l=f.indexOf(" "))!=-1&&(f=f.substring(0,l));(l=f.indexOf(")"))!=-1&&(f=f.substring(0,l));y=parseInt(""+f,10);isNaN(y)&&(f=""+parseFloat(navigator.appVersion),y=parseInt(navigator.appVersion,10));typeof navigator.cookieEnabled!="undefined"||cookieEnabled||(t.cookie="testcookie",cookieEnabled=t.cookie.indexOf("testcookie")!=-1?!0:!1);h=v;w=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(it in w)if(b=w[it],b.r.test(u)){h=b.s;break}s=v;/Windows/.test(h)&&(s=/Windows (.*)/.exec(h)[1],h="Windows");switch(h){case"Mac OS X":s=/Mac OS X (10[\.\_\d]+)/.exec(u)[1];break;case"Android":s=/Android ([\.\_\d]+)/.exec(u)[1];break;case"iOS":s=/OS (\d+)_(\d+)_?(\d+)?/.exec(ut);s=s[1]+"."+s[2]+"."+(s[3]|0)}k="no check";typeof swfobject!="undefined"&&(a=swfobject.getFlashPlayerVersion(),k=a.major>0?a.major+"."+a.minor+" r"+a.release:v);typeof r.Tags=="undefined"&&(r.Tags="");r.Customerid=n("#avlCT").val()||"";r.Devicetype=AVL.UTILITIES.FUNCTIONS.GetDeviceType();r.Application=AVL.UTILITIES.FUNCTIONS.GetApplication();r.Date=c();r.Brand=AVL.UTILITIES.FUNCTIONS.GetAvlBrand();r.Lastmodified=t.lastModified||"";r.Loadtime=(new Date).getTime()-ERMV.ls;r.Url=t.URL||"";r.Page=AVL.UTILITIES.FUNCTIONS.GetFileNameNoParams(t.URL);r.Pagetitle=AVL.UTILITIES.FUNCTIONS.GetPageTitle();r.Error=AVL.UTILITIES.FUNCTIONS.IsErrorPage(t.URL);r.Duration=0;r.Language=navigator.language||"";r.Useragent=navigator.userAgent||"";r.Browsername=o||"";r.Browserversion=f||"";r.Osname=h||"";r.Osversion=s||"";r.Flashversion=k||"";r.Cookiesenabled=AVL.UTILITIES.FUNCTIONS.IsCookiesEnabled();r.Javaenabled=navigator.javaEnabled()||!1;r.Belowfold=n(t).height()-n(i).height();r.Documentheight=n(t).height();r.Scrollreach=p().percent;r.Unscrolled=p().unscrolled;r.Viewportheight=n(i).height();r.Viewportwidth=n(i).width();r.Screenres=rt;r.Screenwidth=g;r.Screenheight=nt;r.Colordepth=screen.colorDepth+" bit";r.Sourcecode=AVL.UTILITIES.FUNCTIONS.GetCookie(d()+"SourceCode","")||"";r.Utmcampaign=AVL.UTILITIES.FUNCTIONS.GetQuerystringParamByName(t.URL,"utm_campaign");r.Utmsource=AVL.UTILITIES.FUNCTIONS.GetQuerystringParamByName(t.URL,"utm_source");r.Utmmedium=AVL.UTILITIES.FUNCTIONS.GetQuerystringParamByName(t.URL,"utm_medium");r.Utmcontent=AVL.UTILITIES.FUNCTIONS.GetQuerystringParamByName(t.URL,"utm_content");r.Referrer=t.referrer||"";r.Events=[];r.Browserfeatures=AVL.UTILITIES.FUNCTIONS.GetBrowserFeatures()},w=function(n){return!(n==undefined||n==null||n==""||!XDate(n).valid())},c=function(){return AVL.UTILITIES.FUNCTIONS.FormatDate(new Date)},b=function(){return AVL.UTILITIES.FUNCTIONS.FormatDate(new Date(1970,0,1,12))},o=function(n){return n-s},k=function(n){var t=n.attr("data-tagEvent"),i=null;return typeof t!="undefined"&&t!==!1&&(i=t),i},vt=function(n,t){if(r.Events.length>0){var i=n-r.Events[r.Events.length-1].Ts;i>t&&((r.Inactivity==null||r.Inactivity<0)&&(r.Inactivity=0),r.Inactivity+=i,r.Inactivity>v&&(r.Inactivity=v),u(n+" / "+r.Inactivity))}},yt=function(t){var i=n(AVL.UTILITIES.FUNCTIONS.GetEventTarget(t));return i.attr("data-recordingignore")!="true"&&i.closest("[data-recordingignore='true']").length==0},pt=function(){var n=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t=="x"?i:i&7|8).toString(16)})},d=function(){var n="";switch(AVL.UTILITIES.FUNCTIONS.GetAvlBrand()){case"0":n="DM";break;case"4":n="OAS";break;case"5":n="CDB";break;case"12":n="TC";break;case"13":n="DPS";break;case"14":n="BB";break;case"16":n="BS"}return n},g=function(){return"/EventRecorderWebService/EventRecorder.asmx"};return{init:tt,push:ft,getRecording:h}}(jQuery,document,window);EventPlayer=function(n,t,i){var f=null,u=[],o=null,p=!1,g=!1,w=null,a=null,s=[],v=0,b=new Date,c=null,h=parent&&parent.EVENTPLAYBACK&&parent.EVENTPLAYBACK.playback,r={autoplay:!1,debug:!1,showprogress:!1,playbackSpeed:h?parent.PAGE.PlaybackSpeed:1},nt=function(n,t,i,o){typeof n=="string"?f=JSON.parse(n):n===Object(n)?f=n:e("invalid recording...");typeof t=="boolean"&&(r.autoplay=t);typeof i=="boolean"&&(r.showprogress=i);typeof o=="boolean"&&(r.debug=o);d();ct();u=_.clone(f.Events);pt();r.debug&&wt();r.showprogress&&parent.AVL.UTILITIES.MODULES.ProgressBar.init({duration:f.Duration,debug:!1});r.autoplay&&y()},y=function(){e("play recording...");l(!0,!1);n("#virtual-cursor").show();k()},tt=function(){clearTimeout(c);u=_.clone(f.Events);h&&u!=null&&u[1]!=null&&parent.PAGE.UTILITIES.ResizeIframe(null,u[1].Ww,u[1].Wh);y();r.showprogress&&parent.AVL.UTILITIES.MODULES.ProgressBar.replay()},it=function(){e("pause recording...");l(!1,!0);r.showprogress&&parent.AVL.UTILITIES.MODULES.ProgressBar.pause()},rt=function(){e("stop recording...");clearTimeout(c);l(!1,!1);u=_.clone(f.Events);r.showprogress&&parent.AVL.UTILITIES.MODULES.ProgressBar.pause()},ut=function(){e("stop recording...");clearTimeout(c);l(!1,!1)},ft=function(n){r.playbackSpeed=n},et=function(){var i=f.Events,r,u,n;if(i.length>0)for(r={element:t.getElementsByTagName("body")[0],radius:20,opacity:50},u=h337.create(r),n=0;n<i.length;n++)i[n].Et=="click"&&u.store.addDataPoint(i[n].Mx,i[n].My)},ot=function(){var i=f.Events,r,n;if(i.length>0)for(r={element:t.getElementsByTagName("body")[0],radius:10,opacity:50},w=h337.create(r),n=0;n<i.length;n++)i[n].Et=="mousemove"&&w.store.addDataPoint(i[n].Mx,i[n].My)},e=function(n){r.debug&&console.log(n)},st=function(){return f},l=function(n,t){p=n;g=t},k=function(){if(u.length>0){if(p){var t=u[0].Ts,n=t;o!=null&&(n-=o.Ts);n<v&&(n=v);h&&parent.PAGE.SkipInactivity&&n>1e3&&(n=1e3);c=setTimeout(function(){k()},n/r.playbackSpeed);r.showprogress&&h&&o&&parent.AVL.UTILITIES.MODULES.ProgressBar.play(o.Ts);ht(u[0]);o=u[0];u.shift()}}else ut()},ht=function(t){var f,r,o,l,c,u;switch(t.Et){case"dblclick":n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).trigger("dblclick");break;case"click":f=n("<div class='pulse_holder' style='top:"+t.My+"px; left:"+t.Mx+"px;'><div class='pulse_marker'><div class='pulse_rays'><\/div><\/div><\/div>");n("body").append(f);setTimeout(function(){f.fadeOut()},1e3);n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).trigger("click");break;case"mousedown":n("#virtual-cursor").addClass("mousedown");n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).trigger("mousedown");break;case"mouseup":n("#virtual-cursor").removeClass("mousedown");n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).trigger("mouseup");break;case"mousemove":r=!1;o=a!=null?a.Tr:"";yt(n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).closest("a"));at(o,t.Tr)?(l=n.unique(s),n.each(l,function(t,i){n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(i)).trigger("mouseleave");r&&e("MouseLeave ... "+t+" "+i)}),r&&e(n.unique(s).length+" element(s) triggered mouseenter/mouseleave..."),s=[],n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).trigger("mouseenter"),s.push(t.Tr),r&&e("\r\nMouseEnter (new) ... "+t.Tr)):t.Tr!=o&&(s.push(t.Tr),n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).trigger("mouseenter"),r&&e("MouseEnter (sibling) ... "+t.Tr));a=t;n("#virtual-cursor").css({left:t.Mx+"px",top:t.My+"px"});break;case"scroll":c=t.St=="window"?n(i):n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr));c.scrollLeft(t.Sx);c.scrollTop(t.Sy);n("#virtual-cursor").css({left:t.Mx,top:t.My});break;case"keydown":case"keyup":n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).val(t.Vl);u=jQuery.Event(t.Et);u.which=t.Kc;u.keyCode=t.Kc;n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).trigger("focus").trigger(u);break;case"change":n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).val(t.Vl);break;case"touchstart":case"touchmove":case"touchend":case"touchcancel":n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t.Tr)).trigger(t.Et);break;case"resize":h&&parent.PAGE.UTILITIES.ResizeIframe(null,t.Ww,t.Wh)}},d=function(){var n=new Date;v=n-b;b=n;requestAnimationFrame(d)},ct=function(){var r=t.styleSheets,i,e,u,o,f;if(r&&r.length>0){for(e=/:hover/,u="",i=0;i<r.length;++i)o=r[i],f=AVL.UTILITIES.FUNCTIONS.GetStylesheetRules(o),f&&n.each(f,function(t,r){if(e.test(r.selectorText)){var o=r.selectorText.toLowerCase().replace(/:hover/g,""),s=r.style?r.style.cssText:r.cssText,f="tempHoverClass"+i+t;u+="."+f+"{"+lt(s)+"}";n(o).on({mouseenter:function(){n(this).addClass("tempHoverClass "+f)},mouseleave:function(){n(this).removeClass("tempHoverClass "+f)}})}});AVL.UTILITIES.FUNCTIONS.AddCSSToPage(u)}},lt=function(n){return n.replace(/!important/g,"").replace(/;/," !important;")},at=function(n,t){var i=!1;return n!=null&&(n==t||vt(n,t))||(i=!0),i},vt=function(t,i){return n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(t)).closest(".tempHoverClass").is(n(AVL.UTILITIES.FUNCTIONS.GetElementByXPath(i)).closest(".tempHoverClass"))},yt=function(t){t.length>0&&!n("#virtual-cursor").hasClass("showhand")?n("#virtual-cursor").addClass("showhand"):t.length==0&&n("#virtual-cursor").removeClass("showhand")},pt=function(){n("#virtual-cursor").length==0&&(n("body").append("<div id='virtual-cursor'><\/div>"),n("#virtual-cursor").append("<div id='cursor-highlight'><\/div>"),n("#virtual-cursor").append("<img id='cursor-pointer' src='/commoncontrols/eventrecorder/img/cursor.png''>"),n("#virtual-cursor").append("<img id='cursor-hand' src='/commoncontrols/eventrecorder/img/hand.png''>"))},wt=function(){n("#playback").length==0&&(n("body").append("<div id='playback'><\/div>"),n("#playback").append("<a href='#view' onclick='$(\"#heatmap-canvas\").remove(); console.log(EventPlayer.getRecording()); return false;'>view object<\/a>").append("<a href='#clickmap' id='clickmap' onclick='$(\"#heatmap-canvas\").remove(); EventPlayer.clickHeatmap(); return false;'>click map<\/a>").append("<a href='#movemap' id='movemap' onclick='$(\"#heatmap-canvas\").remove(); EventPlayer.movementHeatmap(); return false;'>move map<\/a>").append("<a href='#play' onclick='$(\"#heatmap-canvas\").remove(); EventPlayer.play(); return false;'>play<\/a>").append("<a href='#pause' onclick='$(\"#heatmap-canvas\").remove(); EventPlayer.pause(); return false;'>pause<\/a>").append("<a href='#stop' onclick='$(\"#heatmap-canvas\").remove(); EventPlayer.stop(); return false;'>stop<\/a>").append("<a href='#replay' onclick='$(\"#heatmap-canvas\").remove(); EventPlayer.replay(); return false;'>replay<\/a>"));n("#playback-progress").length==0&&n("body").append("<div id='playback-progress'><div class='bar'><\/div><div class='spinner'><div class='spinner-icon'><\/div><\/div><\/div>")};return{init:nt,play:y,replay:tt,pause:it,stop:rt,updateSpeed:ft,getRecording:st,clickHeatmap:et,movementHeatmap:ot}}(jQuery,document,window);$(document).ready(function(){ERMV.on&&typeof overrideERMV=="undefined"&&EventRecorder.init(!0,!1,!1)})